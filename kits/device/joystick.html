
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>BJoystick &#8212; The Haiku Book  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/haiku.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/code.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="BSerialPort" href="serial-port.html" />
    <link rel="prev" title="BRoster" href="../application/roster.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../index.html">
          <span>API Documentation</span></a></h1>
        <h2 class="heading"><span>BJoystick</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="../application/roster.html">BRoster</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="serial-port.html">BSerialPort</a>&#160;&#160;»
        </p>

      </div>
        
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">BJoystick</a><ul>
<li><a class="reference internal" href="#data-members">Data Members</a></li>
<li><a class="reference internal" href="#constructor-and-destructor">Constructor and Destructor</a><ul>
<li><a class="reference internal" href="#_CPPv4N9BJoystick9BJoystickEv">BJoystick</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystickD0Ev">~BJoystick</a></li>
</ul>
</li>
<li><a class="reference internal" href="#member-functions">Member Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N9BJoystick9CountAxesEv">CountAxes</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick13GetAxisValuesEP5int165int32">GetAxisValues</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick12CountButtonsEv">CountButtons</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick12ButtonValuesEv">ButtonValues</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick12CountDevicesEv">CountDevices</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick13GetDeviceNameE5int32Pc6size_t">GetDeviceName</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick9CountHatsEv">CountHats</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick12GetHatValuesEP4int85int32">GetHatValues</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick11CountSticksEv">CountSticks</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick13GetAxisNameAtE5int32P7BString">GetAxisNameAt</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick12GetHatNameAtE5int32P7BString">GetHatNameAt</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick15GetButtonNameAtE5int32P7BString">GetButtonNameAt</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick19GetControllerModuleEP7BString">GetControllerModule</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick17GetControllerNameEP7BString">GetControllerName</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick17EnterEnhancedModeEPK9entry_ref">EnterEnhancedMode</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick20IsCalibrationEnabledEv">IsCalibrationEnabled</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick17EnableCalibrationEb">EnableCalibration</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick4OpenEPKc">Open</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick5CloseEv">Close</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick13SetMaxLatencyE9bigtime_t">SetMaxLatency</a></li>
<li><a class="reference internal" href="#_CPPv4N9BJoystick6UpdateEv">Update</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>

        </div>
      </div>
          <div class="bodywrapper">
      <div class="content" role="main">
        
  <section id="bjoystick">
<h1 id="CPPv49BJoystick">BJoystick<a class="headerlink" href="#bjoystick" title="Permalink to this heading">¶</a></h1>
<section id="data-members">
<h2>Data Members<a class="headerlink" href="#data-members" title="Permalink to this heading">¶</a></h2>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>bigtime_ttimestamp</p></td>
<td><p>The time of the most recent update, as measured in microseconds from the
beginning of 1970.</p></td>
</tr>
<tr class="row-odd"><td><p>int16horizontal</p></td>
<td><p>The horizontal position of the joystick at the time of the last update.
Values increase as the joystick moves from left to right.</p></td>
</tr>
<tr class="row-even"><td><p>int16vertical</p></td>
<td><p>The vertical position of the joystick at the time of the last update.
Values decrease as the joystick moves forward and increase as it’s pulled
back.</p></td>
</tr>
<tr class="row-odd"><td><p>boolbutton1</p></td>
<td><p><span class="cpp-expr sig sig-inline cpp"><span class="k">false</span></span> if the first button was pressed at the time of the last
update, and <span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> if not.</p></td>
</tr>
<tr class="row-even"><td><p>boolbutton2</p></td>
<td><p><span class="cpp-expr sig sig-inline cpp"><span class="k">false</span></span> if the second button was pressed at the time of the last
update, and <span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> if not.</p></td>
</tr>
</tbody>
</table>
<p>The <span class="hparameter">horizontal</span> and <span class="hparameter">vertical</span> data members record values
read directly from the ports, values that simply digitize the analog output
of the joysticks. This class makes no effort to translate the values to a
standard scale or range. Values can range from 0 through 4,095, but
joysticks typically don’t use the full range and some don’t register all
values within the range that is used. The scale is not linear—identical
increments in different parts of the range can reflect differing amounts of
horizontal and vertical movement. The exact variance from linearity and the
extent of the usable range are partly characteristics of the individual
joystick and partly functions of the computer’s hardware.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>Typically you won’t use these data members if you’re using enhanced mode;
they’re provided primarily for backward compatibility.</p>
</div>
</section>
<section id="constructor-and-destructor">
<h2>Constructor and Destructor<a class="headerlink" href="#constructor-and-destructor" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N9BJoystick9BJoystickEv">
</section>
<h3>
BJoystick()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N9BJoystick9BJoystickEv" title="BJoystick::BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">BJoystick</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Initializes the <span class="hclass">BJoystick</span> object so that all values are set to
0. Before using the object, you must call <a class="reference internal" href="#_CPPv4N9BJoystick4OpenEPKc" title="BJoystick::Open"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Open()</span></code></a> to open a particular joystick port. For the object to
register any meaningful values, you must call <a class="reference internal" href="#_CPPv4N9BJoystick6UpdateEv" title="BJoystick::Update"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Update()</span></code></a> to query the open port.</p>
<section id="_CPPv4N9BJoystickD0Ev">
</section>
<h3>
~BJoystick()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">~BJoystick</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Closes the port, if it was not closed already.</p>
</section>
<section id="member-functions">
<h2>Member Functions<a class="headerlink" href="#member-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N9BJoystick9CountAxesEv">
</section>
<section id="_CPPv4N9BJoystick13GetAxisValuesEP5int165int32">
</section>
<h3>
CountAxes(), GetAxisValues()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">int32</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">CountAxes</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">GetAxisValues</span><span class="sig-paren">(</span><span class="n">int16</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outValues</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">forStick</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span><span class="sig-paren">)</span></pre><p><span class="hmethod">CountAxes()</span> returns the number of axes on the opened game port.</p>
<p><span class="hmethod">GetAxisValues()</span> fills the array pointed to by
<span class="hparameter">outValues</span> with the values of all the axes connected to the
specified joystick. The <span class="hparameter">forStick</span> parameter lets you choose which
joystick on the game port to read the values from (the default is to read
from the first stick on the port).</p>
<p>The returned values range from -32,768 to 32,767.</p>
<p>The array <span class="hparameter">outValues</span> must be large enough to contain the values
for all the axes. You can ensure that this is the case by using the
following code:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">int16</span><span class="o">*</span><span class="w"> </span><span class="n">axes</span><span class="p">;</span><span class="w"></span>

<span class="n">axes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">int16</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">int16</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">stick</span><span class="o">-&gt;</span><span class="n">CountAxes</span><span class="p">());</span><span class="w"></span>
<span class="n">stick</span><span class="o">-&gt;</span><span class="n">GetAxisValues</span><span class="p">(</span><span class="n">axes</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Return Code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_OK</span></code>.</p></td>
<td><p>The name was returned successfully.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BAD_VALUE</span></code>.</p></td>
<td><p>The joystick specified by <span class="hparameter">forStick</span> doesn’t exist.</p></td>
</tr>
</tbody>
</table>
<section id="_CPPv4N9BJoystick12CountButtonsEv">
</section>
<section id="_CPPv4N9BJoystick12ButtonValuesEv">
</section>
<h3>
CountButtons(), ButtonValues()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">int32</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">CountButtons</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">uint32</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">ButtonValues</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p><span class="hmethod">CountButtons()</span> returns the number of buttons on the opened game
port.</p>
<p><span class="hmethod">ButtonValues()</span> returns a 32-bit number in which each bit
represents the state of one button. The <span class="hparameter">forStick</span> parameter lets
you choose which joystick on the game port to read the values from (the
default is to read from the first stick on the port). You can deterimine if
a particular button is down by using the following code:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">uint32</span><span class="w"> </span><span class="n">buttonValues</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stick</span><span class="o">-&gt;</span><span class="n">ButtonValues</span><span class="p">();</span><span class="w"></span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">buttonValues</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">whichButton</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="cm">/* button number whichButton is pressed */</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<section id="_CPPv4N9BJoystick12CountDevicesEv">
</section>
<section id="_CPPv4N9BJoystick13GetDeviceNameE5int32Pc6size_t">
</section>
<h3>
CountDevices(), GetDeviceName()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">int32</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">CountDevices</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">GetDeviceName</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">index</span>, <span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outName</span>, <span class="n">size_t</span><span class="w"> </span><span class="n sig-param">bufSize</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><a class="reference internal" href="../kernel/miscellaneous.html#_CPPv416B_OS_NAME_LENGTH" title="B_OS_NAME_LENGTH"><span class="n">B_OS_NAME_LENGTH</span></a><span class="sig-paren">)</span></pre><p><span class="hmethod">CountDevices()</span> returns the number of game ports on the
computer.</p>
<p><span class="hmethod">GetDeviceName()</span> returns the name of the device specified by the
given <span class="hparameter">index</span>. The buffer pointed to by <span class="hparameter">outName</span> is filled
with the device name; <span class="hparameter">bufSize</span> indicates the size of the buffer.</p>
<p>The names returned by <span class="hmethod">GetDeviceName()</span> can be passed into the
<a class="reference internal" href="#_CPPv4N9BJoystick4OpenEPKc" title="BJoystick::Open"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Open()</span></code></a> function to open a device.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>The <span class="hclass">BJoystick</span> doesn’t need to have an open device before you use
these functions; in fact, your application will typically use these to
provide user interface allowing the user to choose the joystick device
they’d like to use.</p>
</div>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Return Code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_OK</span></code>.</p></td>
<td><p>The name was returned successfully.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BAD_INDEX</span></code>.</p></td>
<td><p>The specified <span class="hparameter">index</span> is invalid.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_NAME_TOO_LONG</span></code>.</p></td>
<td><p>The device name is too long for the buffer.</p></td>
</tr>
</tbody>
</table>
<section id="_CPPv4N9BJoystick9CountHatsEv">
</section>
<section id="_CPPv4N9BJoystick12GetHatValuesEP4int85int32">
</section>
<h3>
CountHats(), GetHatValues()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">int32</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">CountHats</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">GetHatValues</span><span class="sig-paren">(</span><span class="n">int8</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outHats</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">forStick</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span><span class="sig-paren">)</span></pre><p><span class="hmethod">CountHats()</span> returns the number of hats on the opened game port.</p>
<p><span class="hmethod">GetHatValues()</span> fills the array pointed to by <span class="hparameter">outHats</span>
with the values of all the hats connected to the specified joystick. The
<span class="hparameter">forStick</span> parameter lets you choose which joystick on the game
port to read the values from (the default is to read from the first stick
on the port).</p>
<p>The return value means the following:</p>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Centered</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Up</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Up and right</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Right</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>Down and right</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>Down</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>Down and left</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>Left</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>Up and left</p></td>
</tr>
</tbody>
</table>
<p>The array <span class="hparameter">outHats</span> must be large enough to contain the values for
all the hats. You can ensure that this is the case by using the following
code:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">int8</span><span class="o">*</span><span class="w"> </span><span class="n">hats</span><span class="p">;</span><span class="w"></span>

<span class="n">hats</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">int8</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="n">malloc</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="n">int8</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">stick</span><span class="o">-&gt;</span><span class="n">CountAxes</span><span class="p">());</span><span class="w"></span>
<span class="n">stick</span><span class="o">-&gt;</span><span class="n">GetHatValues</span><span class="p">(</span><span class="n">hats</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Return Code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_OK</span></code>.</p></td>
<td><p>The name was returned successfully.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BAD_VALUE</span></code>.</p></td>
<td><p>The joystick specified by <span class="hparameter">forStick</span> doesn’t exist.</p></td>
</tr>
</tbody>
</table>
<section id="_CPPv4N9BJoystick11CountSticksEv">
</section>
<h3>
CountSticks()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">int32</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">CountSticks</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Returns the number of joysticks connected to the opened game port.</p>
<section id="_CPPv4N9BJoystick13GetAxisNameAtE5int32P7BString">
</section>
<section id="_CPPv4N9BJoystick12GetHatNameAtE5int32P7BString">
</section>
<section id="_CPPv4N9BJoystick15GetButtonNameAtE5int32P7BString">
</section>
<h3>
GetAxisNameAt(), GetHatNameAt(), GetButtonNameAt()</h3><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">GetAxisNameAt</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">index</span>, <span class="n">BString</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outName</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">GetHatNameAt</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">index</span>, <span class="n">BString</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outName</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">GetButtonNameAt</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">index</span>, <span class="n">BString</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outName</span><span class="sig-paren">)</span></pre><p>Returns the name of the control specified by the given <span class="hparameter">index</span>.
The <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BString</span></code> object pointed to by <span class="hparameter">outName</span> is set to
the control’s name.</p>
<p><span class="hmethod">GetAxisNameAt()</span> returns the specified axis’ name,
<span class="hmethod">GetHatNameAt()</span> returns the specified hat’s name, and
<span class="hmethod">GetButtonNameAt()</span> returns the specified button’s name.</p>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Return Code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BAD_INDEX</span></code>.</p></td>
<td><p>The name was returned successfully.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BAD_INDEX</span></code>.</p></td>
<td><p>The specified <span class="hparameter">index</span> is invalid.</p></td>
</tr>
</tbody>
</table>
<section id="_CPPv4N9BJoystick19GetControllerModuleEP7BString">
</section>
<section id="_CPPv4N9BJoystick17GetControllerNameEP7BString">
</section>
<h3>
GetControllerModule(), GetControllerName()</h3><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">GetControllerModule</span><span class="sig-paren">(</span><span class="n">BString</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outName</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">GetControllerName</span><span class="sig-paren">(</span><span class="n">BString</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outName</span><span class="sig-paren">)</span></pre><p><span class="hmethod">GetControllerModule()</span> returns the name of the joystick module
that represents the opened joystick device. If the device isn’t in enhanced
mode, this always returns “Legacy”.</p>
<p><span class="hmethod">GetControllerName()</span> returns the name of the joystick that’s
been configured for the opened device. This is the same string that appears
in the Joysticks preference application. The returned string is always
“2-axis” if the device isn’t in enhanced mode.</p>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Return Code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_OK</span></code>.</p></td>
<td><p>The name was returned successfully.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BAD_INDEX</span></code>.</p></td>
<td><p>The specified <span class="hparameter">index</span> is invalid.</p></td>
</tr>
</tbody>
</table>
<section id="_CPPv4N9BJoystick17EnterEnhancedModeEPK9entry_ref">
</section>
<h3>
EnterEnhancedMode()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">EnterEnhancedMode</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">entry_ref</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">ref</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span></pre><p>Switches the device into enhanced mode. If <span class="hparameter">ref</span> isn’t
<span class="cpp-expr sig sig-inline cpp"><span class="n">NULL</span></span>, it’s treated as a reference to a joystick description
file (such as those in /boot/beos/etc/joysticks). If <span class="hparameter">ref</span> is
<span class="cpp-expr sig sig-inline cpp"><span class="n">NULL</span></span>, the currently-configured joystick settings (as per the
Joysticks preference application) are used.</p>
<p>If enhanced mode is entered successfully (or the device is already in
enhanced mode), <span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> is returned. Otherwise,
<span class="hmethod">EnterEnhancedMode()</span> returns <span class="cpp-expr sig sig-inline cpp"><span class="k">false</span></span>.</p>
<section id="_CPPv4N9BJoystick20IsCalibrationEnabledEv">
</section>
<section id="_CPPv4N9BJoystick17EnableCalibrationEb">
</section>
<h3>
IsCalibrationEnabled(), EnableCalibration()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">IsCalibrationEnabled</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">EnableCalibration</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">calibrates</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="sig-paren">)</span></pre><p><span class="hmethod">IsCalibrationEnabled()</span> returns <span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> if axis values
returned by the joystick will be calibrated automatically into the range
-32,768 to 32,767, or <span class="cpp-expr sig sig-inline cpp"><span class="k">false</span></span> if the raw values will be returned.</p>
<p><span class="hmethod">EnableCalibration()</span> enables or disables automatic calibration
for the joystick’s axes. Specify a value of <span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> for calibrates
to enable calibration; otherwise, specify <span class="cpp-expr sig sig-inline cpp"><span class="k">false</span></span>.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>The Joysticks preference application lets the user calibrate the joystick.
Calibration is enabled by default.</p>
</div>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Return Code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_OK</span></code>.</p></td>
<td><p>The name was returned successfully.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_NO_INIT</span></code>.</p></td>
<td><p>The device isn’t in enhanced mode.</p></td>
</tr>
</tbody>
</table>
<section id="_CPPv4N9BJoystick4OpenEPKc">
</section>
<section id="_CPPv4N9BJoystick5CloseEv">
</section>
<h3>
Open(), Close()</h3><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">Open</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">devName</span><span class="sig-paren">)</span><br /><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">Open</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">devName</span>, <span class="kt">bool</span><span class="w"> </span><span class="n sig-param">enterEnhanced</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">Close</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>These functions open the joystick port specified by <span class="hparameter">devName</span> and
close it again. The <span class="hparameter">devName</span> should be the name of a game port
device. The easiest way to determine valid device names is by using the
<a class="reference internal" href="#_CPPv4N9BJoystick12CountDevicesEv" title="BJoystick::CountDevices"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">CountDevices()</span></code></a> and
<a class="reference internal" href="#_CPPv4N9BJoystick13GetDeviceNameE5int32Pc6size_t" title="BJoystick::GetDeviceName"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetDeviceName()</span></code></a> functions.</p>
<p>If it’s able to open the port, <span class="hmethod">Open()</span> returns a positive
integer. If unable or if the <span class="hparameter">devName</span> isn’t valid, it returns
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_ERROR</span></code>. If the <span class="hparameter">devName</span> port is already open,
<span class="hmethod">Open()</span> tries to close it first, then open it again.</p>
<p>By default, <span class="hmethod">Open()</span> opens the device in enhanced mode. If you
want to use the old, unenhanced mode, you can use the second form of
<span class="hmethod">Open()</span> to specify whether or not you want to use enhanced mode;
set <span class="hparameter">enterEnhanced</span> to <span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> to use enhanced mode;
specify <span class="cpp-expr sig sig-inline cpp"><span class="k">false</span></span> if you don’t want enhanced mode.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>Even in enhanced mode, the classic <span class="hclass">BJoystick</span> data members are
valid (for compatibility with older applications). However, they only give
you access to the first two axes and buttons of the joystick.</p>
</div>
<p>To be able to obtain joystick data, a <span class="hclass">BJoystick</span> object must have
a port open.</p>
<section id="_CPPv4N9BJoystick13SetMaxLatencyE9bigtime_t">
</section>
<h3>
SetMaxLatency()</h3><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">SetMaxLatency</span><span class="sig-paren">(</span><span class="n">bigtime_t</span><span class="w"> </span><span class="n sig-param">maxLatency</span><span class="sig-paren">)</span></pre><p>Specifies the maximum latency to allow when accessing the joystick.
Returns <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_OK</span></code> if the change is applied successfully,
otherwise returns an error code.</p>
<section id="_CPPv4N9BJoystick6UpdateEv">
</section>
<h3>
Update()</h3><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BJoystick" title="BJoystick"><span class="n">BJoystick</span></a><span class="p">::</span></span><span class="n">Update</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Updates the data members of the object so that they reflect the current
state of the joystick. An application would typically call
<span class="hmethod">Update()</span> periodically to poll the condition of the device, then
read the values of the data members, or—if in enhanced mode—call the
various functions for obtaining joystick state information.</p>
<p>This function returns <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_ERROR</span></code> if the <span class="hclass">BJoystick</span>
object doesn’t have a port open, and <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_OK</span></code> if it does.</p>
</section>
</section>


        <div class="clearer"></div>
      </div>
          </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="../application/roster.html">BRoster</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="serial-port.html">BSerialPort</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Haiku, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>