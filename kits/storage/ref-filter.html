
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>BRefFilter &#8212; The Haiku Book  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/haiku.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/code.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="BResources" href="resources.html" />
    <link rel="prev" title="BQuery" href="query.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../index.html">
          <span>API Documentation</span></a></h1>
        <h2 class="heading"><span>BRefFilter</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="query.html">BQuery</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="resources.html">BResources</a>&#160;&#160;»
        </p>

      </div>
        
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">BRefFilter</a><ul>
<li><a class="reference internal" href="#hook-functions">Hook Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N10BRefFilter6FilterEPK9entry_refP5BNodeP4statPKc">Filter</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>

        </div>
      </div>
          <div class="bodywrapper">
      <div class="content" role="main">
        
  <section id="breffilter">
<h1 id="CPPv410BRefFilter">BRefFilter<a class="headerlink" href="#breffilter" title="Permalink to this heading">¶</a></h1>
<section id="hook-functions">
<h2>Hook Functions<a class="headerlink" href="#hook-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N10BRefFilter6FilterEPK9entry_refP5BNodeP4statPKc">
</section>
<h3>
Filter()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv410BRefFilter" title="BRefFilter"><span class="n">BRefFilter</span></a><span class="p">::</span></span><span class="n">Filter</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">entry_ref</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">ref</span>, <a class="reference internal" href="node.html#_CPPv45BNode" title="BNode"><span class="n">BNode</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">node</span>, <span class="k">struct</span><span class="w"> </span><span class="n">stat</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">st</span>, <span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">filetype</span><span class="sig-paren">)</span></pre><p><span class="hmethod">Filter()</span> is a hook function that’s invoked whenever the file
panel to which it’s been assigned reads the entries in its “panel
directory.” The function is invoked once for each entry in the directory.
All the arguments to the function refer to the entry currently under
consideration. (Note that the function is never sent an abstract entry, so
the <span class="hparameter">node</span>, <span class="hparameter">st</span>, and <span class="hparameter">filetype</span> arguments will
always be valid.)</p>
<p>Your implementation of <span class="hmethod">Filter()</span> can use any or all of the
arguments to figure out if the entry is a valid candidate for display in
the file panel’s file list. Simply return <span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> or
<span class="cpp-expr sig sig-inline cpp"><span class="k">false</span></span> to indicate if the entry is a winner or a loser.</p>
<p>Technically, <span class="hmethod">Filter()</span> is invoked when…</p>
<ul class="simple">
<li><p>…the file panel’s panel directory is set, either through the
<span class="hclass">BFilePanel</span> constructor or the <a class="reference internal" href="file-panel.html#_CPPv4N10BFilePanel17SetPanelDirectoryEP6BEntry" title="BFilePanel::SetPanelDirectory"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetPanelDirectory()</span></code></a>, and when…</p></li>
<li><p>…the file panel’s <a class="reference internal" href="file-panel.html#_CPPv4N10BFilePanel7RefreshEv" title="BFilePanel::Refresh"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Refresh()</span></code></a> function is
called.</p></li>
</ul>
<p>A <span class="hclass">BRefFilter</span> can be assigned to more than one
<a class="reference internal" href="file-panel.html#_CPPv410BFilePanel" title="BFilePanel"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFilePanel</span></code></a> object (assignation is performed through
<a class="reference internal" href="file-panel.html#_CPPv410BFilePanel" title="BFilePanel"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFilePanel</span></code></a>’s constructor or <a class="reference internal" href="file-panel.html#_CPPv4N10BFilePanel12SetRefFilterEP10BRefFilter" title="BFilePanel::SetRefFilter"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetRefFilter()</span></code></a> function). But it’s not probably not a great
idea to do so: At any particular invocation of <span class="hmethod">Filter()</span>, the
<span class="hclass">BRefFilter</span> doesn’t which <a class="reference internal" href="file-panel.html#_CPPv410BFilePanel" title="BFilePanel"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFilePanel</span></code></a> object it’s
working for.</p>
<p>You maintain ownership of the <span class="hclass">BRefFilter</span> objects that you
create. Assigning a ref filter to a file panel does not hand ownership of
the <span class="hclass">BRefFilter</span> to the <a class="reference internal" href="file-panel.html#_CPPv410BFilePanel" title="BFilePanel"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFilePanel</span></code></a>. You shouldn’t
delete a <span class="hclass">BRefFilter</span> while a <a class="reference internal" href="file-panel.html#_CPPv410BFilePanel" title="BFilePanel"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFilePanel</span></code></a> is still
using it; but it’s your responsibility to delete it when it’s done.</p>
</section>
</section>


        <div class="clearer"></div>
      </div>
          </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="query.html">BQuery</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="resources.html">BResources</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Haiku, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>