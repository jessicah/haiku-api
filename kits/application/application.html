
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>BApplication &#8212; The Haiku Book  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/haiku.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/code.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="BApplication Overview" href="application/overview-old.html" />
    <link rel="prev" title="Welcome to the Haiku Book" href="../../index.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../index.html">
          <span>API Documentation</span></a></h1>
        <h2 class="heading"><span>BApplication</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="../../index.html">Welcome to the Haiku Book</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="application/overview-old.html">BApplication Overview</a>&#160;&#160;»
        </p>

      </div>
        
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">BApplication</a><ul>
<li><a class="reference internal" href="#constructor-and-destructor">Constructor and Destructor</a><ul>
<li><a class="reference internal" href="#_CPPv4N12BApplication12BApplicationEPKc">BApplication</a></li>
<li><a class="reference internal" href="#_CPPv4N12BApplicationD0Ev">~BApplication</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hook-functions">Hook Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N12BApplication14AboutRequestedEv">AboutRequested</a></li>
<li><a class="reference internal" href="#_CPPv4N12BApplication12AppActivatedEb">AppActivated</a></li>
<li><a class="reference internal" href="#_CPPv4N12BApplication12ArgvReceivedE5int32PPc">ArgvReceived</a></li>
<li><a class="reference internal" href="#_CPPv4N12BApplication5PulseEv">Pulse</a></li>
<li><a class="reference internal" href="#_CPPv4N12BApplication13QuitRequestedEv">QuitRequested</a></li>
<li><a class="reference internal" href="#_CPPv4N12BApplication10ReadyToRunEv">ReadyToRun</a></li>
<li><a class="reference internal" href="#_CPPv4N12BApplication12RefsReceivedEP8BMessage">RefsReceived</a></li>
</ul>
</li>
<li><a class="reference internal" href="#member-functions">Member Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4NK12BApplication10GetAppInfoEP8app_info">GetAppInfo</a></li>
<li><a class="reference internal" href="#_CPPv4N12BApplication18GetSupportedSuitesEP8BMessage">GetSupportedSuites</a></li>
<li><a class="reference internal" href="#_CPPv4NK12BApplication11IsLaunchingEv">IsLaunching</a></li>
<li><a class="reference internal" href="#_CPPv4N12BApplication3RunEv">Run</a></li>
<li><a class="reference internal" href="#_CPPv4N12BApplication4QuitEv">Quit</a></li>
<li><a class="reference internal" href="#_CPPv4N12BApplication9SetCursorEPKv">SetCursor</a></li>
<li><a class="reference internal" href="#_CPPv4N12BApplication10HideCursorEv">HideCursor</a></li>
<li><a class="reference internal" href="#_CPPv4N12BApplication10ShowCursorEv">ShowCursor</a></li>
<li><a class="reference internal" href="#_CPPv4N12BApplication13ObscureCursorEv">ObscureCursor</a></li>
<li><a class="reference internal" href="#_CPPv4NK12BApplication14IsCursorHiddenEv">IsCursorHidden</a></li>
<li><a class="reference internal" href="#_CPPv4N12BApplication12SetPulseRateE9bigtime_t">SetPulseRate</a></li>
<li><a class="reference internal" href="#_CPPv4NK12BApplication8WindowAtE5int32">WindowAt</a></li>
<li><a class="reference internal" href="#_CPPv4NK12BApplication12CountWindowsEv">CountWindows</a></li>
</ul>
</li>
<li><a class="reference internal" href="#static-functions">Static Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N12BApplication12AppResourcesEv">AppResources</a></li>
</ul>
</li>
<li><a class="reference internal" href="#global-variables">Global Variables</a></li>
<li><a class="reference internal" href="#archived-fields">Archived Fields</a></li>
<li><a class="reference internal" href="#scripting-suites-and-properties">Scripting Suites and Properties</a></li>
</ul>
</li>
</ul>

  </div>

        </div>
      </div>
          <div class="bodywrapper">
      <div class="content" role="main">
        
  <section id="bapplication">
<h1>BApplication<a class="headerlink" href="#bapplication" title="Permalink to this heading">¶</a></h1>
<section id="constructor-and-destructor">
<h2>Constructor and Destructor<a class="headerlink" href="#constructor-and-destructor" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N12BApplication12BApplicationEPKc">
</section>
<h3>
BApplication()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N12BApplication12BApplicationEPKc" title="BApplication::BApplication"><span class="n">BApplication</span></a><span class="p">::</span></span><span class="n">BApplication</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">signature</span><span class="sig-paren">)</span><br /><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N12BApplication12BApplicationEPKcP8status_t" title="BApplication::BApplication"><span class="n">BApplication</span></a><span class="p">::</span></span><span class="n">BApplication</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">signature</span>, <span class="n">status_t</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">error</span><span class="sig-paren">)</span><br /><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N12BApplication12BApplicationEP8BMessage" title="BApplication::BApplication"><span class="n">BApplication</span></a><span class="p">::</span></span><span class="n">BApplication</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">archive</span><span class="sig-paren">)</span></pre><p>The constructor creates a new object, locks it, sets the global variable
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">be()</span></code> to point to it,
and establishes a connection to the Application Server. From this point on,
your application can receive messages, although it won’t start processing them until you call
<a class="reference internal" href="#_CPPv4N12BApplication3RunEv" title="BApplication::Run"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Run()</span></code></a>.
You can also begin creating and displaying
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code> objects even
before you call
<a class="reference internal" href="#_CPPv4N12BApplication3RunEv" title="BApplication::Run"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Run()</span></code></a>.
The <span class="hparameter">signature</span> constructors assign the argument as the app’s
application signature. The argument is ignored if a signature is already specified
in a resource or attribute of the application’s executable (serious apps should
always set the signature as both an attribute and a resource). The signature is
a MIME type string
that must have the supertype “application”. For more information on
application signatures and how to set them, see
TODO.
If you specify <span class="hparameter">error</span>, a pointer to a status_t, any error that occurs
while constructing the <span class="hclass">BApplication</span> will be returned in
that variable. Alternately, you can call
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">InitCheck()</span></code>
to check the results. If an error is returned by the constructor, you shouldn’t call
<a class="reference internal" href="#_CPPv4N12BApplication3RunEv" title="BApplication::Run"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Run()</span></code></a>.
The <span class="hparameter">archive</span> constructor is an implementation detail; see the
<span class="xref std std-ref">BArchivable</span> class.</p>
<section id="_CPPv4N12BApplicationD0Ev">
</section>
<h3>
~BApplication()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">~BApplication</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Closes and deletes the application’s
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code>s (and the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code>s they contain),
and severs the application’s connection to the
Application Server.
Never delete a <span class="hclass">BApplication</span> object while it’s
running; wait until
<a class="reference internal" href="#_CPPv4N12BApplication3RunEv" title="BApplication::Run"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Run()</span></code></a>
returns. To stop a <span class="hclass">BApplication</span> (and so cause
<a class="reference internal" href="#_CPPv4N12BApplication3RunEv" title="BApplication::Run"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Run()</span></code></a>
to return), send it a
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">QUIT()</span></code>
message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">be_app</span><span class="o">-&gt;</span><span class="n">PostMessage</span><span class="p">(</span><span class="n">B_QUIT_REQUESTED</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="hook-functions">
<h2>Hook Functions<a class="headerlink" href="#hook-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N12BApplication14AboutRequestedEv">
</section>
<h3>
AboutRequested()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">AboutRequested</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Hook function that’s invoked when the <span class="hclass">BApplication</span>
receives a
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ABOUT()</span></code> message, undoubtedly
because the user clicked an “About…”
menu item. You should implement the function to put a window on-screen that
provides the user with information about the application (version number,
license restrictions, authors’ names, etc).</p>
<section id="_CPPv4N12BApplication12AppActivatedEb">
</section>
<h3>
AppActivated()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">AppActivated</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">active</span><span class="sig-paren">)</span></pre><p>Hook function that’s invoked when the application receives a
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">APP()</span></code>
message. The message is sent when the
application gains or loses active application status. The <span class="hparameter">active</span>
flag tells you which way the wind blows: <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code> means
your application is now active; <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code> means it isn’t.
The user can activate an application by clicking on or unhiding one of its windows;
you can activate an application programmatically by calling <a class="reference internal" href="../interface/window.html#_CPPv4N7BWindow8ActivateEb" title="BWindow::Activate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BWindow::Activate()</span></code></a> or
<a class="reference internal" href="roster.html#_CPPv4NK7BRoster11ActivateAppE7team_id" title="BRoster::ActivateApp"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BRoster::ActivateApp()</span></code></a>. (With regard to the latter: This function is called only if the
application has an “activatable” window i.e. a non-modal, non-floating
window).
During launch, this function is called after
<a class="reference internal" href="#_CPPv4N12BApplication10ReadyToRunEv" title="BApplication::ReadyToRun"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ReadyToRun()</span></code></a>
(provided the application is displaying an activatable window).</p>
<section id="_CPPv4N12BApplication12ArgvReceivedE5int32PPc">
</section>
<h3>
ArgvReceived()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">ArgvReceived</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">argc</span>, <span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="p">*</span><span class="n sig-param">argv</span><span class="sig-paren">)</span></pre><p>Hook function that’s invoked when the application receives a
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ARGV()</span></code>
message. The message is sent if command
line arguments are used in launching the application from the shell, or if
<span class="hparameter">argv</span>/<span class="hparameter">argc</span> values are passed to
<a class="reference internal" href="roster.html#_CPPv4NK7BRoster6LaunchEPKcP8BMessageP7team_id" title="BRoster::Launch"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BRoster::Launch()</span></code></a>.</p>
<div class="warning admonition">
<p class="admonition-title">Warning</p>
<p>This function isn’t called if there were no command line arguments, or if
<a class="reference internal" href="roster.html#_CPPv4NK7BRoster6LaunchEPKcP8BMessageP7team_id" title="BRoster::Launch"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BRoster::Launch()</span></code></a>
was called without <span class="hparameter">argv</span>/<span class="hparameter">argc</span> values.</p>
</div>
<p>When the application is launched from the shell, <span class="hmethod">ArgvReceived()</span>’s
arguments are identical to the traditional main()
arguments: The number of command line arguments is passed as
<span class="hparameter">argc</span>; the arguments themselves are passed as an array of
strings in <span class="hparameter">argv</span>. The first <span class="hparameter">argv</span>
string identifes the executable file; the other strings are the command line
arguments proper. For example, this…</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ MyApp file1 file2
</pre></div>
</div>
<p>…produces the <span class="hparameter">argv</span> array
{ “./MyApp”, “file1”, “file2” }.</p>
<p><a class="reference internal" href="roster.html#_CPPv4NK7BRoster6LaunchEPKcP8BMessageP7team_id" title="BRoster::Launch"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BRoster::Launch()</span></code></a>
forwards its <span class="hparameter">argv</span> and <span class="hparameter">argc</span>
arguments, but adds the executable name to the front of the
<span class="hparameter">argv</span> array and increments the
<span class="hparameter">argc</span> value.
Normally, the <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ARGV()</span></code>
message (if sent at all) is sent once, just before
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">READY()</span></code>
is sent. However, if the user tries to re-launch (from the command line and with
arguments) an already-running application that’s set to
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">EXCLUSIVE()</span></code> or
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SINGLE()</span></code>,
the re-launch will generate a
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ARGV()</span></code>
message that’s sent to the already-running image. Thus, for such apps, the
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ARGV()</span></code>
message can show up at any time.</p>
<section id="_CPPv4N12BApplication5PulseEv">
</section>
<h3>
Pulse()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">Pulse</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p><span class="hmethod">Pulse()</span> is a hook function that’s called when
the application receives a <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">PULSE()</span></code>
message. The message is sent at the rate set in
<a class="reference internal" href="#_CPPv4N12BApplication12SetPulseRateE9bigtime_t" title="BApplication::SetPulseRate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetPulseRate()</span></code></a>.
The first <span class="hmethod">Pulse()</span> message is sent after
<a class="reference internal" href="#_CPPv4N12BApplication10ReadyToRunEv" title="BApplication::ReadyToRun"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ReadyToRun()</span></code></a> returns.
You can implement <span class="hmethod">Pulse()</span> to do whatever you want (the
default version does nothing), but don’t try to use it for precision timing: The
pulse granularity is no better than 100,000 microseconds.
Keep in mind that <span class="hmethod">Pulse()</span> executes in the app’s message loop
thread along with all other message handling functions. Your application won’t receive any
<span class="hmethod">Pulse()</span> invocations while it’s waiting for some other handler
function (including
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MessageReceived()</span></code>)
to finish. In the meantime,
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">PULSE()</span></code>
messages will be stacking up
in the message queue; when the loop becomes “unblocked”, you’ll see a burst
of <span class="hmethod">Pulse()</span> invocations.</p>
<section id="_CPPv4N12BApplication13QuitRequestedEv">
</section>
<h3>
QuitRequested()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">QuitRequested</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Hook function that’s invoked when the application receives a
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">QUIT()</span></code>
message. As described in the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BLooper</span></code> class (which declares
this function), the request to quit is confirmed if
<span class="hmethod">QuitRequested()</span> returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>, and
denied if it returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code>.
In its implementation, <span class="hclass">BApplication</span> sends
<a class="reference internal" href="looper.html#_CPPv4N7BLooper13QuitRequestedEv" title="BLooper::QuitRequested"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BLooper::QuitRequested()</span></code></a>
to each of its <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code>
objects. If they all agree to quit, the windows are all destroyed (through
<a class="reference internal" href="../interface/window.html#_CPPv4N7BWindow4QuitEv" title="BWindow::Quit"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BWindow::Quit()</span></code></a>)
and this <span class="hmethod">QuitRequested()</span> returns
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>. But if any
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code> refuses to quit,
that window and all surviving windows are saved, and this
<span class="hmethod">QuitRequested()</span> returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code>.
Augment this function as you will, but be sure to call the
<span class="hclass">BApplication</span> version in your implementation.</p>
<section id="_CPPv4N12BApplication10ReadyToRunEv">
</section>
<h3>
ReadyToRun()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">ReadyToRun</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Hook function that’s called when the application receives a
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">READY()</span></code>
message. The message is sent automatically during the
<a class="reference internal" href="#_CPPv4N12BApplication3RunEv" title="BApplication::Run"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Run()</span></code></a>
function, and is sent after the initial
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">REFS()</span></code> and
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ARGV()</span></code>
messages (if any) have been handled. This is the only application message
that every running application is guaranteed to receive.
What you do with <span class="hmethod">ReadyToRun()</span> is up to you,
if your application hasn’t put up a window by the time this function is
called, you’ll probably want to do it here. The default version of
<span class="hmethod">ReadyToRun()</span> is empty.</p>
<section id="_CPPv4N12BApplication12RefsReceivedEP8BMessage">
</section>
<h3>
RefsReceived()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">RefsReceived</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span><span class="sig-paren">)</span></pre><p>Hook function that’s called when the application receives a
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">REFS()</span></code>
message. The message is sent when the user drops a file (or files) on your
app’s icon, or double clicks a file that’s handled by your app. The message
can arrive either at launch time, or while your application is already
running use
<a class="reference internal" href="#_CPPv4NK12BApplication11IsLaunchingEv" title="BApplication::IsLaunching"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">IsLaunching()</span></code></a>
to tell which.
<span class="hparameter">message</span> contains a single field named
be:refs that contains one or more entry_ref
(<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_REF_TYPE</span></code>) items one for each file that was dropped
or double-clicked. Do with them what you will; the default implementation
is empty. Typically, you would use the refs to create
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BEntry</span></code> or
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFile</span></code> objects.</p>
</section>
<section id="member-functions">
<h2>Member Functions<a class="headerlink" href="#member-functions" title="Permalink to this heading">¶</a></h2>
<h3>
</h3><p>????</p>
<h3>
</h3><p>See <a class="reference internal" href="../support/archivable.html#_CPPv4NK11BArchivable7ArchiveEP8BMessageb" title="BArchivable::Archive"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BArchivable::Archive()</span></code></a></p>
<h3>
</h3><p>See <a class="reference internal" href="looper.html#_CPPv4N7BLooper15DispatchMessageEP8BMessageP8BHandler" title="BLooper::DispatchMessage"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BLooper::DispatchMessage()</span></code></a></p>
<section id="_CPPv4NK12BApplication10GetAppInfoEP8app_info">
</section>
<h3>
GetAppInfo()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">GetAppInfo</span><span class="sig-paren">(</span><span class="n">app_info</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">theInfo</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Returns information about the application. This is a cover for</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">be_roster</span><span class="o">-&gt;</span><span class="n">GetRunningAppInfo</span><span class="p">(</span><span class="n">be_app</span><span class="o">-&gt;</span><span class="n">Team</span><span class="p">(),</span> <span class="n">theInfo</span><span class="p">);</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="roster.html#_CPPv4NK7BRoster10GetAppInfoEPKcP8app_info" title="BRoster::GetAppInfo"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BRoster::GetAppInfo()</span></code></a>
for more information.</p>
<section id="_CPPv4N12BApplication18GetSupportedSuitesEP8BMessage">
</section>
<h3>
GetSupportedSuites()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">GetSupportedSuites</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span><span class="sig-paren">)</span></pre><p>Adds the scripting suite “suite/vnd.Be-application” to message. See
“<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ScriptingSuites()</span></code>”
for the suite’s properties. Also see
<a class="reference internal" href="handler.html#_CPPv4N8BHandler18GetSupportedSuitesEP8BMessage" title="BHandler::GetSupportedSuites"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BHandler::GetSupportedSuites()</span></code></a>
for more information on how this function works.</p>
<section id="_CPPv4NK12BApplication11IsLaunchingEv">
</section>
<h3>
IsLaunching()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">IsLaunching</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code> if the application is still
launching. An application is considered to be in its launching phase until
<a class="reference internal" href="#_CPPv4N12BApplication10ReadyToRunEv" title="BApplication::ReadyToRun"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ReadyToRun()</span></code></a>
returns. Invoked from within
<a class="reference internal" href="#_CPPv4N12BApplication10ReadyToRunEv" title="BApplication::ReadyToRun"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ReadyToRun()</span></code></a>,
<span class="hmethod">IsLaunching()</span> returns
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>.</p>
<h3>
</h3><p>See
<a class="reference internal" href="handler.html#_CPPv4N8BHandler15MessageReceivedEP8BMessage" title="BHandler::MessageReceived"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BHandler::MessageReceived()</span></code></a></p>
<h3>
</h3><p>See
<a class="reference internal" href="handler.html#_CPPv4N8BHandler16ResolveSpecifierEP8BMessage5int32P8BMessage5int32PKc" title="BHandler::ResolveSpecifier"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BHandler::ResolveSpecifier()</span></code></a></p>
<section id="_CPPv4N12BApplication3RunEv">
</section>
<section id="_CPPv4N12BApplication4QuitEv">
</section>
<h3>
Run(), Quit()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">thread_id</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">Run</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">Quit</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>These functions, inherited from
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BLooper</span></code>, are different
enough from their parent versions to warrant description.
<span class="hmethod">Run()</span> doesn’t spawn a new thread—it runs
the message loop in the thread that it’s called from, and doesn’t return
until the message loop stops.
<span class="hmethod">Quit()</span> doesn’t kill the looper thread it tells the
thread to finish processing the message queue (disallowing new messages) at
which point <span class="hmethod">Run()</span> will be able to return. After so
instructing the thread, <span class="hmethod">Quit()</span> returns, it doesn’t
wait for the message queue to empty.
Also, <span class="hmethod">Quit()</span> doesn’t delete the
<span class="hclass">BApplication</span> object. It’s up to you to delete it
after <span class="hmethod">Run()</span> returns. (However,
<span class="hmethod">Quit()</span> does delete the object
if it’s called before the message loop starts i.e. before
<span class="hmethod">Run()</span> is called.)</p>
<section id="_CPPv4N12BApplication9SetCursorEPKv">
</section>
<section id="_CPPv4N12BApplication10HideCursorEv">
</section>
<section id="_CPPv4N12BApplication10ShowCursorEv">
</section>
<section id="_CPPv4N12BApplication13ObscureCursorEv">
</section>
<section id="_CPPv4NK12BApplication14IsCursorHiddenEv">
</section>
<h3>
SetCursor(), HideCursor(), ShowCursor(), ObscureCursor(), IsCursorHidden()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">SetCursor</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">cursor</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">SetCursor</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BCursor</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">cursor</span>, <span class="kt">bool</span><span class="w"> </span><span class="n sig-param">sync</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">HideCursor</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">ShowCursor</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">ObscureCursor</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">IsCursorHidden</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p><span class="hmethod">SetCursor()</span> sets the cursor image that’s used when
this is the active application.
You can pass one of the Be-defined cursor
constants (<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">HAND()</span></code> and
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">I()</span></code>)
or create your own cursor image. The cursor data format is described
in the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BCursor</span></code>
<span class="xref std std-ref">class overview</span>.
You can also call <span class="hmethod">SetCursor()</span> passing a
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BCursor</span></code> object;
specifying <span class="hparameter">sync</span> as <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>
forces the Application Server to immediately
resynchronize, thereby ensuring that the cursor change takes place
immediately. The default <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BCursor</span></code>s are
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">CURSOR()</span></code>
for the hand cursor and
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">CURSOR()</span></code>
for the I-beam text editing cursor.
<span class="hmethod">HideCursor()</span> removes the cursor from the screen.
<span class="hmethod">ShowCursor()</span> restores it.
<span class="hmethod">ObscureCursor()</span> hides the cursor until the user moves the mouse.
<span class="hmethod">IsCursorHidden()</span> returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>
if the cursor is hidden (but not obscured), and <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code>
if not.
The cursor data format is described in the
“<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Overview()</span></code>” section
in the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BCursor</span> <span class="pre">overview</span></code>.</p>
<section id="_CPPv4N12BApplication12SetPulseRateE9bigtime_t">
</section>
<h3>
SetPulseRate()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">SetPulseRate</span><span class="sig-paren">(</span><span class="n">bigtime_t</span><span class="w"> </span><span class="n sig-param">rate</span><span class="sig-paren">)</span></pre><p>Sets the period between
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">PULSE()</span></code>
messages being sent and the
<a class="reference internal" href="#_CPPv4N12BApplication5PulseEv" title="BApplication::Pulse"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Pulse()</span></code></a>
method being called. If the pulse rate is 0 (the default), the
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">PULSE()</span></code>
messages aren’t sent.</p>
<section id="_CPPv4NK12BApplication8WindowAtE5int32">
</section>
<section id="_CPPv4NK12BApplication12CountWindowsEv">
</section>
<h3>
WindowAt(), CountWindows()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BWindow</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">WindowAt</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">index</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">int32</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">CountWindows</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p><span class="hmethod">WindowAt()</span> returns the <span class="hparameter">index</span>’th
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code> object in the
application’s window list. If <span class="hparameter">index</span> is out of range, the
function returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>.
<span class="hmethod">CountWindows()</span> returns the number of windows in the
window list.
The windows list includes all windows explicitly created by the app—whether
they’re normal, floating, or modal, and whether or not they’re actually
displayed—but excludes private windows created by Be classes.
The order of windows in the list has no signficance.
Locking the <span class="hclass">BApplication</span> object doesn’t lock the window
list. If you need coordinated access to the list, you’ll have to provide your
own locking mechanism that protects these functions and all
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code> construction
and deletion.</p>
</section>
<section id="static-functions">
<h2>Static Functions<a class="headerlink" href="#static-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N12BApplication12AppResourcesEv">
</section>
<h3>
AppResources()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">static</span><span class="w"> </span><span class="n">BResources</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BApplication</span><span class="p">::</span></span><span class="n">AppResources</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Returns a <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BResources</span></code> object that’s
configured from your application’s executable file. You may read the data
in the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BResources</span></code>
object, but you’re not allowed to write it; see the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BResources</span></code> class for
details. The <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BResources</span></code> object
belongs to the <span class="hclass">BApplication</span> class and mustn’t be
freed.
You needn’t have a be_app object to
invoke this function.</p>
<h3>
</h3><p>See <a class="reference internal" href="../support/archivable.html#_CPPv4N11BArchivable11InstantiateEP8BMessage" title="BArchivable::Instantiate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BArchivable::Instantiate()</span></code></a></p>
</section>
<section id="global-variables">
<h2>Global Variables<a class="headerlink" href="#global-variables" title="Permalink to this heading">¶</a></h2>
<h3>
</h3><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BApplication</span><span class="o">*</span> <span class="n">be_app</span><span class="p">;</span>
</pre></div>
</div>
<p>be_app is the global variable that
represents your <span class="hclass">BApplication</span> object. You can refer
to be_app anywhere you need a reference to the <span class="hclass">BApplication</span> object that you created. If you want to call a function that’s declared by your <span class="hclass">BApplication</span> subclass, you have to cast be_app to your subclass:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">((</span><span class="n">MyApp</span> <span class="o">*</span><span class="p">)</span><span class="n">be_app</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">MyAppFunction</span><span class="p">();</span>
</pre></div>
</div>
<h3>
</h3><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BMessenger</span><span class="o">*</span> <span class="n">be_app_messenger</span><span class="p">;</span>
</pre></div>
</div>
<p>be_app_messenger is a global
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessenger</span></code> that
targets your be_app object. It’s created in the
<span class="hclass">BApplication</span> <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Constructor()</span></code>.</p>
</section>
<section id="archived-fields">
<h2>Archived Fields<a class="headerlink" href="#archived-fields" title="Permalink to this heading">¶</a></h2>
</section>
<section id="scripting-suites-and-properties">
<h2>Scripting Suites and Properties<a class="headerlink" href="#scripting-suites-and-properties" title="Permalink to this heading">¶</a></h2>
<h3>
</h3><p>“Name”CommandSpecifierDescriptionB_GET_PROPERTYB_DIRECT_SPECIFIERGets the name of the application’s main thread.
“Window”CommandSpecifierDescriptionB_COUNT_PROPERTIESB_DIRECT_SPECIFIERReturns CountWindows().Not applicable.B_NAME_SPECIFIER, B_INDEX_SPECIFIER, B_REVERSE_INDEX_SPECIFIERThe message is forwarded to the specified BWindow.</p>
</section>
</section>


        <div class="clearer"></div>
      </div>
          </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="../../index.html">Welcome to the Haiku Book</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="application/overview-old.html">BApplication Overview</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Haiku, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>