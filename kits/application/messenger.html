
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>BMessenger &#8212; The Haiku Book  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/haiku.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/code.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="BPropertyInfo" href="property-info.html" />
    <link rel="prev" title="BMessageQueue" href="message-queue.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../index.html">
          <span>API Documentation</span></a></h1>
        <h2 class="heading"><span>BMessenger</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="message-queue.html">BMessageQueue</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="property-info.html">BPropertyInfo</a>&#160;&#160;»
        </p>

      </div>
        
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">BMessenger</a><ul>
<li><a class="reference internal" href="#constructor-and-destructor">Constructor and Destructor</a><ul>
<li><a class="reference internal" href="#_CPPv4N10BMessenger10BMessengerEPK8BHandlerPK7BLooperP8status_t">BMessenger</a></li>
<li><a class="reference internal" href="#_CPPv4N10BMessengerD0Ev">~BMessenger</a></li>
</ul>
</li>
<li><a class="reference internal" href="#member-functions">Member Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4NK10BMessenger7IsValidEv">IsValid</a></li>
<li><a class="reference internal" href="#_CPPv4NK10BMessenger10LockTargetEv">LockTarget</a></li>
<li><a class="reference internal" href="#_CPPv4NK10BMessenger21LockTargetWithTimeoutE9bigtime_t">LockTargetWithTimeout</a></li>
<li><a class="reference internal" href="#_CPPv4NK10BMessenger11SendMessageEP8BMessageP8BMessage9bigtime_t9bigtime_t">SendMessage</a></li>
<li><a class="reference internal" href="#_CPPv4NK10BMessenger6TargetEPP7BLooper">Target</a></li>
<li><a class="reference internal" href="#_CPPv4NK10BMessenger13IsTargetLocalEv">IsTargetLocal</a></li>
<li><a class="reference internal" href="#_CPPv4NK10BMessenger4TeamEv">Team</a></li>
</ul>
</li>
<li><a class="reference internal" href="#operators">Operators</a></li>
</ul>
</li>
</ul>

  </div>

        </div>
      </div>
          <div class="bodywrapper">
      <div class="content" role="main">
        
  <section id="bmessenger">
<h1 id="CPPv410BMessenger">BMessenger<a class="headerlink" href="#bmessenger" title="Permalink to this heading">¶</a></h1>
<section id="constructor-and-destructor">
<h2>Constructor and Destructor<a class="headerlink" href="#constructor-and-destructor" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N10BMessenger10BMessengerEPK8BHandlerPK7BLooperP8status_t">
</section>
<h3>
BMessenger()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N10BMessenger10BMessengerEPK8BHandlerPK7BLooperP8status_t" title="BMessenger::BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="n">BMessenger</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><a class="reference internal" href="handler.html#_CPPv48BHandler" title="BHandler"><span class="n">BHandler</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">handler</span>, <span class="k">const</span><span class="w"> </span><a class="reference internal" href="looper.html#_CPPv47BLooper" title="BLooper"><span class="n">BLooper</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">looper</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span>, <a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">error</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><br /><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N10BMessenger10BMessengerEPKc7team_idP8status_t" title="BMessenger::BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="n">BMessenger</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">signature</span>, <span class="n">team_id</span><span class="w"> </span><span class="n sig-param">team</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="o">-</span><span class="m">1</span>, <a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">error</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><br /><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N10BMessenger10BMessengerERK10BMessenger" title="BMessenger::BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="n">BMessenger</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><a class="reference internal" href="#_CPPv4N10BMessenger10BMessengerERK10BMessenger" title="BMessenger::BMessenger"><span class="n">BMessenger</span></a><span class="w"> </span><span class="p">&amp;</span><span class="n sig-param">messenger</span><span class="sig-paren">)</span><br /><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N10BMessenger10BMessengerEv" title="BMessenger::BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="n">BMessenger</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Creates a new <span class="hclass">BMessenger</span> and sets its target to a local
<span class="hparameter">looper</span>/<span class="hparameter">handler</span>, to the (running) application identified
by <span class="hparameter">signature</span> or <span class="hparameter">team</span>, or to the target of some other
<span class="hparameter">messenger</span>.</p>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>looper/handler.</p></td>
<td><p>To target a looper, supply a <span class="hparameter">looper</span> and pass a <span class="cpp-expr sig sig-inline cpp"><span class="n">NULL</span></span>
<span class="hparameter">handler</span>. When the messenger sends a message, the message will be
handled by <span class="hparameter">looper</span>’s preferred handler. If you want the message to
be sent to a specific handler within a looper, supply a <span class="hparameter">handler</span>
and pass a <span class="cpp-expr sig sig-inline cpp"><span class="n">NULL</span></span> <span class="hparameter">looper</span>. The handler must already be
attached to a looper, and can’t switch loopers after this
<span class="hclass">BMessenger</span> is constructed.</p></td>
</tr>
<tr class="row-odd"><td><p>signatureorteam.</p></td>
<td><p>If you supply a <span class="hparameter">signature</span> but leave <span class="hparameter">team</span> as -1, the
messenger targets an app with that signature. (The app must already be
running; in the case of multiple instances of a running app, the exact
instance is indeterminate) If you supply a <span class="hparameter">team</span> but no
<span class="hparameter">signature</span>, you target exactly that <span class="hparameter">team</span>, regardless of
<span class="hparameter">signature</span>. By supplying both a <span class="hparameter">team</span> and a
<span class="hparameter">signature</span>, you can specify a specific instance of an app. In this
case, <span class="hparameter">team</span> must be an app that has the proper
<span class="hparameter">signature</span>.</p></td>
</tr>
</tbody>
</table>
<p>Messages sent to a remote target are received and handled by the remote
application’s <a class="reference internal" href="application.html#_CPPv412BApplication" title="BApplication"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BApplication</span></code></a> object.</p>
<p>The <span class="hclass">BMessenger</span> doesn’t own its target.</p>
<p>The constructor places an error code in <span class="hparameter">error</span> (if provided).</p>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Return Code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_OK</span></code>.</p></td>
<td><p>The target was properly set.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BAD_VALUE</span></code>.</p></td>
<td><p>The application identified by <span class="hparameter">signature</span> couldn’t be found, or
both <span class="hparameter">handler</span> and <span class="hparameter">looper</span> are invalid.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BAD_TEAM_ID</span></code>.</p></td>
<td><p>Invalid <span class="hparameter">team</span>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_MISMATCHED_VALUES</span></code>.</p></td>
<td><p><span class="hparameter">team</span> isn’t a <span class="hparameter">signature</span> app, or <span class="hparameter">handler</span> is
associated with a <a class="reference internal" href="looper.html#_CPPv47BLooper" title="BLooper"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BLooper</span></code></a> other than <span class="hparameter">looper</span>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BAD_HANDLER</span></code>.</p></td>
<td><p><span class="hparameter">handler</span> isn’t associated with a <span class="xref std std-ref">BLooper</span></p></td>
</tr>
</tbody>
</table>
<section id="_CPPv4N10BMessengerD0Ev">
</section>
<h3>
~BMessenger()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="n">~BMessenger</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Frees the <span class="hclass">BMessenger</span>; the target isn’t affected.</p>
</section>
<section id="member-functions">
<h2>Member Functions<a class="headerlink" href="#member-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4NK10BMessenger7IsValidEv">
</section>
<h3>
IsValid()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="n">IsValid</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Returns <span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> if the target looper, whether local or remote,
still exists.</p>
<div class="warning admonition">
<p class="admonition-title">Warning</p>
<p>This function doesn’t tell you whether the looper is actually ready to
receive messages, or whether the handler (if it was specified in the
constructor) exists. In other words, a valid <span class="hclass">BMessenger</span> is no
guarantee that a message will actually get to the target.</p>
</div>
<section id="_CPPv4NK10BMessenger10LockTargetEv">
</section>
<section id="_CPPv4NK10BMessenger21LockTargetWithTimeoutE9bigtime_t">
</section>
<h3>
LockTarget(), LockTargetWithTimeout()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="n">LockTarget</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="n">LockTargetWithTimeout</span><span class="sig-paren">(</span><span class="n">bigtime_t</span><span class="w"> </span><span class="n sig-param">timeout</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><div class="important admonition">
<p class="admonition-title">Important</p>
<p>These functions apply to local targets only.</p>
</div>
<p>These functions attempt to lock the target looper in the manner of the
similarly named <a class="reference internal" href="looper.html#_CPPv47BLooper" title="BLooper"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BLooper</span></code></a> functions (see
<a class="reference internal" href="looper.html#_CPPv4N7BLooper4LockEv" title="BLooper::Lock"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BLooper::Lock()</span></code></a> ). In addition to the error codes reported there,
these functions return <span class="cpp-expr sig sig-inline cpp"><span class="k">false</span></span> and <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BAD_VALUE</span></code>
(respectively) if the target isn’t local, or if the looper is otherwise
invalid.</p>
<section id="_CPPv4NK10BMessenger11SendMessageEP8BMessageP8BMessage9bigtime_t9bigtime_t">
</section>
<h3>
SendMessage()</h3><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="n">SendMessage</span><span class="sig-paren">(</span><a class="reference internal" href="message.html#_CPPv48BMessage" title="BMessage"><span class="n">BMessage</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span>, <a class="reference internal" href="message.html#_CPPv48BMessage" title="BMessage"><span class="n">BMessage</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">reply</span>, <span class="n">bigtime_t</span><span class="w"> </span><span class="n sig-param">deliveryTimeout</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><a class="reference internal" href="../kernel/miscellaneous.html#_CPPv418B_INFINITE_TIMEOUT" title="B_INFINITE_TIMEOUT"><span class="n">B_INFINITE_TIMEOUT</span></a>, <span class="n">bigtime_t</span><span class="w"> </span><span class="n sig-param">replyTimeout</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><a class="reference internal" href="../kernel/miscellaneous.html#_CPPv418B_INFINITE_TIMEOUT" title="B_INFINITE_TIMEOUT"><span class="n">B_INFINITE_TIMEOUT</span></a><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="n">SendMessage</span><span class="sig-paren">(</span><a class="reference internal" href="message.html#_CPPv48BMessage" title="BMessage"><span class="n">BMessage</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span>, <a class="reference internal" href="handler.html#_CPPv48BHandler" title="BHandler"><span class="n">BHandler</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">replyHandler</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span>, <span class="n">bigtime_t</span><span class="w"> </span><span class="n sig-param">deliveryTimeout</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><a class="reference internal" href="../kernel/miscellaneous.html#_CPPv418B_INFINITE_TIMEOUT" title="B_INFINITE_TIMEOUT"><span class="n">B_INFINITE_TIMEOUT</span></a><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="n">SendMessage</span><span class="sig-paren">(</span><a class="reference internal" href="message.html#_CPPv48BMessage" title="BMessage"><span class="n">BMessage</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span>, <a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">replyMessenger</span>, <span class="n">bigtime_t</span><span class="w"> </span><span class="n sig-param">deliveryTimeout</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><a class="reference internal" href="../kernel/miscellaneous.html#_CPPv418B_INFINITE_TIMEOUT" title="B_INFINITE_TIMEOUT"><span class="n">B_INFINITE_TIMEOUT</span></a><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="n">SendMessage</span><span class="sig-paren">(</span><span class="n">uint32</span><span class="w"> </span><span class="n sig-param">command</span>, <a class="reference internal" href="message.html#_CPPv48BMessage" title="BMessage"><span class="n">BMessage</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">reply</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="n">SendMessage</span><span class="sig-paren">(</span><span class="n">uint32</span><span class="w"> </span><span class="n sig-param">command</span>, <a class="reference internal" href="handler.html#_CPPv48BHandler" title="BHandler"><span class="n">BHandler</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">replyHandler</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Sends a copy of <span class="hparameter">message</span> (or a <a class="reference internal" href="message.html#_CPPv48BMessage" title="BMessage"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code></a> based on a
<span class="hparameter">command</span> constant) to the object’s target. The caller retains
ownership of <span class="hparameter">message</span>. The function doesn’t return until the
message has been delivered; if you’re sending a <span class="hparameter">message</span> (as
opposed to a <span class="hparameter">command</span> constant) you can set a microsecond delivery
timeout through <span class="hparameter">deliveryTimeout</span>.</p>
<p>The target can respond to the message:</p>
<ul class="simple">
<li><p>If you supply a <span class="hparameter">reply</span> <a class="reference internal" href="message.html#_CPPv48BMessage" title="BMessage"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code></a>, the response is
synchronous, with an optional timeout (<span class="hparameter">replyTimeout</span>) that starts
ticking after the original message has been delivered. If the response
times out, or the target deletes the original message without responding,
the <span class="hparameter">reply</span>-&gt;<span class="hparameter">what</span> is set to <a class="reference internal" href="../../constants.html#_CPPv410B_NO_REPLY" title="B_NO_REPLY"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_NO_REPLY</span></code></a>.
The caller is responsible for allocating and freeing <span class="hparameter">reply</span>.
<span class="hparameter">message</span> and <span class="hparameter">reply</span> can be the same object.</p></li>
</ul>
<div class="warning admonition">
<p class="admonition-title">Warning</p>
<p>Use caution when requesting a synchronous reply: If you call
<span class="hmethod">SendMessage()</span> from the target looper’s thread, you’ll deadlock
(or, at best, time out).</p>
</div>
<ul class="simple">
<li><p>If you supply a reply target (<span class="hparameter">replyMessenger</span> or
<span class="hparameter">replyHandler</span>), the response is asynchronous, and is sent to the
reply target.</p></li>
<li><p>If you supply neither a reply message nor a reply target, the target’s
response is sent to <span class="hparameter">be_app_messenger</span>.</p></li>
</ul>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Return Code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_OK</span></code>.</p></td>
<td><p>The message was delivered (and the synchronous reply was received, if
applicable).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_TIMED_OUT</span></code>.</p></td>
<td><p><span class="hparameter">deliveryTimeout</span> expired; the message never made it to the
target.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_WOULD_BLOCK</span></code>.</p></td>
<td><p>You requested a 0 <span class="hparameter">deliveryTimeout</span>, and the target’s message
queue is full.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BAD_PORT_ID</span></code>.</p></td>
<td><p>The messenger’s target is invalid, or the reply port was deleted while
waiting for a reply (synchronous response requests only).</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_NO_MORE_PORTS</span></code>.</p></td>
<td><p>You asked for a synchronous reply, but there are no more reply ports.</p></td>
</tr>
</tbody>
</table>
<div class="warning admonition">
<p class="admonition-title">Warning</p>
<p>If you specified a <span class="hparameter">handler</span> when you constructed your
<span class="hclass">BMessenger</span>, and if that handler has since changed loopers,
<span class="hmethod">SendMessage()</span> won’t deliver its message, but it doesn’t complain
(it returns <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_OK</span></code>).</p>
</div>
<section id="_CPPv4NK10BMessenger6TargetEPP7BLooper">
</section>
<section id="_CPPv4NK10BMessenger13IsTargetLocalEv">
</section>
<section id="_CPPv4NK10BMessenger4TeamEv">
</section>
<h3>
Target(), IsTargetLocal(), Team()</h3><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="handler.html#_CPPv48BHandler" title="BHandler"><span class="n">BHandler</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="n">Target</span><span class="sig-paren">(</span><a class="reference internal" href="looper.html#_CPPv47BLooper" title="BLooper"><span class="n">BLooper</span></a><span class="w"> </span><span class="p">*</span><span class="p">*</span><span class="n sig-param">looper</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="n">IsTargetLocal</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">inline</span><span class="w"> </span><span class="n">team_id</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="n">Team</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p><span class="hmethod">Target()</span> returns the <span class="hclass">BMessenger</span>’s handler (directly)
and looper (by reference in <span class="hparameter">looper</span>). This function only works for
local targets. If <span class="hmethod">Target()</span> returns <span class="cpp-expr sig sig-inline cpp"><span class="n">NULL</span></span>, it can mean
one of four things:</p>
<ol class="arabic simple">
<li><p>The target is remote; <span class="hparameter">looper</span> is set to <span class="cpp-expr sig sig-inline cpp"><span class="n">NULL</span></span>.</p></li>
<li><p>The <span class="hclass">BMessenger</span> hasn’t been initialized; <span class="hparameter">looper</span> is set
to <span class="cpp-expr sig sig-inline cpp"><span class="n">NULL</span></span>.</p></li>
<li><p>The handler is the looper’s preferred handler; <span class="hparameter">looper</span> will be
valid.</p></li>
<li><p>The handler has been deleted; <span class="hparameter">looper</span> will be valid given that it
hasn’t been deleted as well.</p></li>
</ol>
<p><span class="hmethod">IsTargetLocal()</span> returns <span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> if the target is
local. <span class="hmethod">Team()</span> returns a target’s team.</p>
</section>
<section id="operators">
<h2>Operators<a class="headerlink" href="#operators" title="Permalink to this heading">¶</a></h2>
<h3>
</h3><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="w"> </span><span class="p">&amp;</span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="k">operator</span><span class="o">=</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="w"> </span><span class="p">&amp;</span><span class="n sig-param">from</span><span class="sig-paren">)</span></pre><p>Sets the left-side <span class="hclass">BMessenger</span>’s target to that of the right-side
object.</p>
<h3>
</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="p">::</span></span><span class="k">operator</span><span class="o">==</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><a class="reference internal" href="#_CPPv410BMessenger" title="BMessenger"><span class="n">BMessenger</span></a><span class="w"> </span><span class="p">&amp;</span><span class="n sig-param">other</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Two <span class="hclass">BMessenger</span>s are equal if they have the same target.</p>
</section>
</section>


        <div class="clearer"></div>
      </div>
          </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="message-queue.html">BMessageQueue</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="property-info.html">BPropertyInfo</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Haiku, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>