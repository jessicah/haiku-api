
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>BInputServerFilter &#8212; The Haiku Book  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/haiku.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/code.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="BInputServerMethod" href="input-server-method.html" />
    <link rel="prev" title="BInputServerDevice" href="input-server-device.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../index.html">
          <span>API Documentation</span></a></h1>
        <h2 class="heading"><span>BInputServerFilter</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="input-server-device.html">BInputServerDevice</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="input-server-method.html">BInputServerMethod</a>&#160;&#160;»
        </p>

      </div>
        
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">BInputServerFilter</a><ul>
<li><a class="reference internal" href="#constructor-and-destructor">Constructor and Destructor</a><ul>
<li><a class="reference internal" href="#_CPPv4N18BInputServerFilter18BInputServerFilterEv">BInputServerFilter</a></li>
<li><a class="reference internal" href="#_CPPv4N18BInputServerFilter18BInputServerFilterEv">BInputServerFilter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hook-functions">Hook Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N18BInputServerFilter6FilterEP8BMessageP5BList">Filter</a></li>
<li><a class="reference internal" href="#_CPPv4N18BInputServerFilter9InitCheckEv">InitCheck</a></li>
</ul>
</li>
<li><a class="reference internal" href="#member-functions">Member Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4NK18BInputServerFilter15GetScreenRegionEP7BRegion">GetScreenRegion</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>

        </div>
      </div>
          <div class="bodywrapper">
      <div class="content" role="main">
        
  <section id="binputserverfilter">
<h1 id="CPPv418BInputServerFilter">BInputServerFilter<a class="headerlink" href="#binputserverfilter" title="Permalink to this heading">¶</a></h1>
<section id="constructor-and-destructor">
<h2>Constructor and Destructor<a class="headerlink" href="#constructor-and-destructor" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N18BInputServerFilter18BInputServerFilterEv">
</section>
<h3>
BInputServerFilter()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N18BInputServerFilter18BInputServerFilterEv" title="BInputServerFilter::BInputServerFilter"><span class="n">BInputServerFilter</span></a><span class="p">::</span></span><span class="n">BInputServerFilter</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Creates a new <span class="hclass">BInputServerFilter</span> object. You can initialize the
object—set initial values, spawn threads, etc.—either here or in the
<a class="reference internal" href="#_CPPv4N18BInputServerFilter9InitCheckEv" title="BInputServerFilter::InitCheck"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">InitCheck()</span></code></a> function, which is
called immediately after the constructor.</p>
<section id="_CPPv4N18BInputServerFilter18BInputServerFilterEv">
</section>
<h3>
BInputServerFilter()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N18BInputServerFilter18BInputServerFilterEv" title="BInputServerFilter::BInputServerFilter"><span class="n">BInputServerFilter</span></a><span class="p">::</span></span><span class="n">BInputServerFilter</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Deletes the <span class="hclass">BInputServerFilter</span> object. The destructor is invoked
by the Input Server only—you never delete a <span class="hclass">BInputServerFilter</span>
object from your own code. If this object has spawned its own threads or
allocated memory on the heap, it must clean up after itself here.</p>
</section>
<section id="hook-functions">
<h2>Hook Functions<a class="headerlink" href="#hook-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N18BInputServerFilter6FilterEP8BMessageP5BList">
</section>
<h3>
Filter()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">filter_result</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv418BInputServerFilter" title="BInputServerFilter"><span class="n">BInputServerFilter</span></a><span class="p">::</span></span><span class="n">Filter</span><span class="sig-paren">(</span><a class="reference internal" href="../application/message.html#_CPPv48BMessage" title="BMessage"><span class="n">BMessage</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span>, <span class="n">BList</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outList</span><span class="sig-paren">)</span></pre><p>The <span class="hmethod">Filter()</span> hook function is invoked by the Input Server to
filter the in-coming message. You can discard the message, allow it to pass
downstream (as is or modified), or replace it with one or more other
messages:</p>
<ul class="simple">
<li><p>To discard message, implement <span class="hmethod">Filter()</span> to return
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_SKIP_MESSAGE</span></code> (don’t delete the <a class="reference internal" href="../application/message.html#_CPPv48BMessage" title="BMessage"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code></a>
yourself—it’s owned by the Input Server).</p></li>
<li><p>If you implement <span class="hmethod">Filter()</span> to return
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_DISPATCH_MESSAGE</span></code> (and if you leave <span class="hparameter">outList</span>
unchanged), <span class="hparameter">message</span> is allowed to continue downstream. You’re
allowed to modify (but not destroy or replace) <span class="hparameter">message</span>.</p></li>
<li><p>To replace <span class="hparameter">message</span>, place one or more <a class="reference internal" href="../application/message.html#_CPPv48BMessage" title="BMessage"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code></a> in
<span class="hparameter">outList</span> and return <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_DISPATCH_MESSAGE</span></code>.
<span class="hparameter">message</span> is discarded; the messages in <span class="hparameter">outList</span> are
passed downstream in the order that they appear in the list. The Input
Server owns all of the messages you pass back in <span class="hparameter">outList</span>, so
don’t delete them yourself. Note that if you want to include
<span class="hparameter">message</span> in <span class="hparameter">outList</span>, you must copy the object before
adding it to the list.</p></li>
</ul>
<p>The default implementation returns <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_DISPATCH_MESSAGE</span></code>
without modifying the message.</p>
<section id="_CPPv4N18BInputServerFilter9InitCheckEv">
</section>
<h3>
InitCheck()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv418BInputServerFilter" title="BInputServerFilter"><span class="n">BInputServerFilter</span></a><span class="p">::</span></span><span class="n">InitCheck</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Invoked by the Input Server immediately after the object is constructed to
test the validity of the initialization. If the object is properly
initialized (i.e. all required resources are located or allocated), this
function should return <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_OK</span></code>. If the object returns
non-<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_OK</span></code>, the object is deleted and the add-on is
unloaded.</p>
<p>The default implementation returns <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_OK</span></code>.</p>
</section>
<section id="member-functions">
<h2>Member Functions<a class="headerlink" href="#member-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4NK18BInputServerFilter15GetScreenRegionEP7BRegion">
</section>
<h3>
GetScreenRegion()</h3><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv418BInputServerFilter" title="BInputServerFilter"><span class="n">BInputServerFilter</span></a><span class="p">::</span></span><span class="n">GetScreenRegion</span><span class="sig-paren">(</span><a class="reference internal" href="../interface/region.html#_CPPv47BRegion" title="BRegion"><span class="n">BRegion</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">region</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>The <span class="hmethod">GetScreenRegion()</span> function returns the screen’s region in
<span class="hparameter">region</span>. This is the most efficient way for an input filter to get
the screen’s region. The system screen saver’s input filter uses this for
its “sleep now”/”sleep never” corners.</p>
<p><span class="hmethod">GetScreenRegion()</span> returns <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_OK</span></code>.</p>
</section>
</section>


        <div class="clearer"></div>
      </div>
          </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="input-server-device.html">BInputServerDevice</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="input-server-method.html">BInputServerMethod</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Haiku, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>