
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>BControl &#8212; The Haiku Book  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/haiku.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/code.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="BDragger" href="dragger.html" />
    <link rel="prev" title="BColorControl" href="color-control.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../index.html">
          <span>API Documentation</span></a></h1>
        <h2 class="heading"><span>BControl</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="color-control.html">BColorControl</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="dragger.html">BDragger</a>&#160;&#160;»
        </p>

      </div>
        
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">BControl</a><ul>
<li><a class="reference internal" href="#constructor-and-destructor">Constructor and Destructor</a><ul>
<li><a class="reference internal" href="#_CPPv4N8BControl8BControlE5BRectPKcPKcP8BMessage6uint326uint32">BControl</a></li>
<li><a class="reference internal" href="#_CPPv4N8BControlD0Ev">~BControl</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hook-functions">Hook Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N8BControl16AttachedToWindowEv">AttachedToWindow</a></li>
<li><a class="reference internal" href="#_CPPv4N8BControl7KeyDownEPKc5int32">KeyDown</a></li>
<li><a class="reference internal" href="#_CPPv4N8BControl15MessageReceivedEP8BMessage">MessageReceived</a></li>
<li><a class="reference internal" href="#_CPPv4N8BControl10SetEnabledEb">SetEnabled</a></li>
<li><a class="reference internal" href="#_CPPv4NK8BControl9IsEnabledEv">IsEnabled</a></li>
<li><a class="reference internal" href="#_CPPv4N8BControl8SetValueE5int32">SetValue</a></li>
<li><a class="reference internal" href="#_CPPv4NK8BControl5ValueEv">Value</a></li>
<li><a class="reference internal" href="#_CPPv4N8BControl15WindowActivatedEb">WindowActivated</a></li>
</ul>
</li>
<li><a class="reference internal" href="#member-functions">Member Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4NK8BControl7ArchiveEP8BMessageb">Archive</a></li>
<li><a class="reference internal" href="#_CPPv4N8BControl18GetSupportedSuitesEP8BMessage">GetSupportedSuites</a></li>
<li><a class="reference internal" href="#_CPPv4N8BControl6InvokeEP8BMessage">Invoke</a></li>
<li><a class="reference internal" href="#_CPPv4NK8BControl15IsFocusChangingEv">IsFocusChanging</a></li>
<li><a class="reference internal" href="#_CPPv4N8BControl9MakeFocusEb">MakeFocus</a></li>
<li><a class="reference internal" href="#_CPPv4N8BControl16ResolveSpecifierEP8BMessage5int32P8BMessage5int32PKc">ResolveSpecifier</a></li>
<li><a class="reference internal" href="#_CPPv4N8BControl8SetLabelEPKc">SetLabel</a></li>
<li><a class="reference internal" href="#_CPPv4NK8BControl5LabelEv">Label</a></li>
</ul>
</li>
<li><a class="reference internal" href="#static-functions">Static Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N8BControl11InstantiateEP8BMessage">Instantiate</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripting-support">Scripting Support</a></li>
<li><a class="reference internal" href="#archived-fields">Archived Fields</a></li>
</ul>
</li>
</ul>

  </div>

        </div>
      </div>
          <div class="bodywrapper">
      <div class="content" role="main">
        
  <section id="bcontrol">
<h1>BControl<a class="headerlink" href="#bcontrol" title="Permalink to this heading">¶</a></h1>
<section id="constructor-and-destructor">
<h2>Constructor and Destructor<a class="headerlink" href="#constructor-and-destructor" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N8BControl8BControlE5BRectPKcPKcP8BMessage6uint326uint32">
</section>
<h3>
BControl()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N8BControl8BControlE5BRectPKcPKcP8BMessage6uint326uint32" title="BControl::BControl"><span class="n">BControl</span></a><span class="p">::</span></span><span class="n">BControl</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">frame</span>, <span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">name</span>, <span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">label</span>, <span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">resizingMode</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">flags</span><span class="sig-paren">)</span><br /><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N8BControl8BControlEP8BMessage" title="BControl::BControl"><span class="n">BControl</span></a><span class="p">::</span></span><span class="n">BControl</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">archive</span><span class="sig-paren">)</span></pre><p>Initializes the <span class="hclass">BControl</span> by setting its initial value to 0
(<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_CONTROL_OFF</span></code>), assigning it a <span class="hparameter">label</span>,
and registering a model <span class="hparameter">message</span>
that captures what the control does—the command it gives when it’s
invoked and the information that accompanies the command. The <span class="hparameter">label</span> and
the <span class="hparameter">message</span> can each be <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p>The <span class="hparameter">label</span> is copied, but the <span class="hparameter">message</span>
is not. The <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code> object becomes
the property of the <span class="hclass">BControl</span>; it should not be deleted, posted, assigned
to another object, or otherwise used in application code. The label and
message can be altered after construction with the
<a class="reference internal" href="#_CPPv4N8BControl8SetLabelEPKc" title="BControl::SetLabel"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetLabel()</span></code></a> and
<a class="reference internal" href="../application/invoker.html#_CPPv4N8BInvoker10SetMessageEP8BMessage" title="BInvoker::SetMessage"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetMessage()</span></code></a> functions.</p>
<p>The <span class="hclass">BControl</span> class doesn’t define a
<a class="reference internal" href="view.html#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a>
function to draw the label or a
<a class="reference internal" href="view.html#_CPPv4N5BView9MouseDownE6BPoint" title="BView::MouseDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MouseDown()</span></code></a>
function to post the message. (It does define
<a class="reference internal" href="view.html#_CPPv4N5BView7KeyDownEPKc5int32" title="BView::KeyDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">KeyDown()</span></code></a>,
but only to enable keyboard navigation between controls.) It’s up to
derived classes to determine how the <span class="hparameter">label</span> is drawn and how the <span class="hparameter">message</span>
is to be used. Typically, when a <span class="hclass">BControl</span> object needs to take action (in
response to a click, for example), it calls the
<a class="reference internal" href="#_CPPv4N8BControl6InvokeEP8BMessage" title="BControl::Invoke"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Invoke()</span></code></a> function, which
copies the model message and delivers the copy to the designated target.
By default, the target is the window where the control is located, but
<a class="reference internal" href="../application/invoker.html#_CPPv4N8BInvoker9SetTargetE10BMessenger" title="BInvoker::SetTarget"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BInvoker::SetTarget()</span></code></a>
can designate another handler.</p>
<p>Before delivering the message,
<a class="reference internal" href="#_CPPv4N8BControl6InvokeEP8BMessage" title="BControl::Invoke"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Invoke()</span></code></a>
adds two data field to it, under
the names when and source.
These names should not be used for data items in the model.</p>
<p>The <span class="hparameter">frame</span>, <span class="hparameter">name</span>,
<span class="hparameter">resizingMode</span>, and <span class="hparameter">flags</span> arguments are identical to those
declared for the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code> class and are passed unchanged to the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code>
constructor.</p>
<p>The <span class="hclass">BControl</span> begins life enabled, and the system plain font is made the
default font for all control devices.</p>
<p>See also: the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code>
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Constructor()</span></code>,
<a class="reference internal" href="../application/looper.html#_CPPv4N7BLooper11PostMessageEP8BMessage" title="BLooper::PostMessage"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BLooper::PostMessage()</span></code></a>,
<a class="reference internal" href="#_CPPv4N8BControl8SetLabelEPKc" title="BControl::SetLabel"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetLabel()</span></code></a>,
<a class="reference internal" href="../application/invoker.html#_CPPv4N8BInvoker10SetMessageEP8BMessage" title="BInvoker::SetMessage"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetMessage()</span></code></a>,
<a class="reference internal" href="../application/invoker.html#_CPPv4N8BInvoker9SetTargetE10BMessenger" title="BInvoker::SetTarget"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BInvoker::SetTarget()</span></code></a>,
<a class="reference internal" href="#_CPPv4N8BControl6InvokeEP8BMessage" title="BControl::Invoke"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Invoke()</span></code></a></p>
<section id="_CPPv4N8BControlD0Ev">
</section>
<h3>
~BControl()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">~BControl</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Frees the model message and all memory allocated by the <span class="hclass">BControl</span>.</p>
</section>
<section id="hook-functions">
<h2>Hook Functions<a class="headerlink" href="#hook-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N8BControl16AttachedToWindowEv">
</section>
<h3>
AttachedToWindow()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">AttachedToWindow</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Overrides
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code>’s
version of this function to set the <span class="hclass">BControl</span>’s low
color and view color so that it matches the view color of its new parent.
It also makes the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code>
to which the <span class="hclass">BControl</span> has become attached the
default target for the <a class="reference internal" href="#_CPPv4N8BControl6InvokeEP8BMessage" title="BControl::Invoke"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Invoke()</span></code></a>
function, provided that another target
hasn’t already been set.</p>
<p><span class="hmethod">AttachedToWindow()</span> is called for you when the
<span class="hclass">BControl</span> becomes a child of
a view already associated with the window.</p>
<p>See also:
<a class="reference internal" href="view.html#_CPPv4N5BView16AttachedToWindowEv" title="BView::AttachedToWindow"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::AttachedToWindow()</span></code></a>,
<a class="reference internal" href="#_CPPv4N8BControl6InvokeEP8BMessage" title="BControl::Invoke"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Invoke()</span></code></a>,
<a class="reference internal" href="../application/invoker.html#_CPPv4N8BInvoker9SetTargetE10BMessenger" title="BInvoker::SetTarget"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BInvoker::SetTarget()</span></code></a></p>
<section id="_CPPv4N8BControl7KeyDownEPKc5int32">
</section>
<h3>
KeyDown()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">KeyDown</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">bytes</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">numBytes</span><span class="sig-paren">)</span></pre><p>Augments the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code> version of
<a class="reference internal" href="view.html#_CPPv4N5BView7KeyDownEPKc5int32" title="BView::KeyDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">KeyDown()</span></code></a>
to toggle the <span class="hclass">BControl</span>’s value
and call <a class="reference internal" href="#_CPPv4N8BControl6InvokeEP8BMessage" title="BControl::Invoke"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Invoke()</span></code></a>
when the character encoded in bytes is either <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_SPACE</span></code>
or <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_ENTER</span></code>. This is done to facilitate keyboard navigation and make all
derived control devices operable from the keyboard. Some derived
classes—<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BCheckBox</span></code>
in particular—find this version of the
function to be adequate. Others, like
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BRadioButton</span></code>, reimplement it.</p>
<p><span class="hmethod">KeyDown()</span> is called only when the
<span class="hclass">BControl</span> is the focus view in the
active window. (However, if the window has a default button, <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_ENTER</span></code>
events will be passed to that object and won’t be dispatched to the focus
view.)</p>
<p>See also:
<a class="reference internal" href="view.html#_CPPv4N5BView7KeyDownEPKc5int32" title="BView::KeyDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::KeyDown()</span></code></a>,
<a class="reference internal" href="#_CPPv4N8BControl9MakeFocusEb" title="BControl::MakeFocus"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MakeFocus()</span></code></a></p>
<section id="_CPPv4N8BControl15MessageReceivedEP8BMessage">
</section>
<h3>
MessageReceived()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">MessageReceived</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span><span class="sig-paren">)</span></pre><p>Handles scripting messages for the <span class="hclass">BControl</span>. See
“<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ScriptingSupport()</span></code>”
for a description of the messages.</p>
<p>See also: <a class="reference internal" href="../application/handler.html#_CPPv4N8BHandler15MessageReceivedEP8BMessage" title="BHandler::MessageReceived"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BHandler::MessageReceived()</span></code></a></p>
<section id="_CPPv4N8BControl10SetEnabledEb">
</section>
<section id="_CPPv4NK8BControl9IsEnabledEv">
</section>
<h3>
SetEnabled(), IsEnabled()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">SetEnabled</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">enabled</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">IsEnabled</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p><span class="hmethod">SetEnabled()</span> enables the <span class="hclass">BControl</span>
if the <span class="hparameter">enabled</span> flag is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>, and
disables it if enabled is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code>.
<span class="hmethod">IsEnabled()</span> returns whether or not the
object is currently enabled. <span class="hclass">BControl</span>s are enabled by default.</p>
<p>While disabled, a <span class="hclass">BControl</span> won’t let the user navigate to it; the
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_NAVIGABLE</span></code> flag is turned off if enabled is
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code> and turned on again if
<span class="hparameter">enabled</span> is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>.</p>
<p>Typically, a disabled <span class="hclass">BControl</span> also won’t post messages or respond
visually to mouse and keyboard manipulation. To indicate this
nonfunctional state, the control device is displayed on-screen in subdued
colors. However, it’s left to each derived class to carry out this
strategy in a way that’s appropriate for the kind of control it
implements. The <span class="hclass">BControl</span> class merely marks an object as being enabled or
disabled; none of its functions take the enabled state of the device into
account.</p>
<p>Derived classes can augment <span class="hmethod">SetEnabled()</span> (override it) to take action
when the control device becomes enabled or disabled. To be sure that
<span class="hmethod">SetEnabled()</span> has been called to actually make a change, its current state
should be checked before calling the inherited version of the function.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">MyControl</span><span class="p">::</span><span class="n">SetEnabled</span><span class="p">(</span><span class="nb">bool</span> <span class="n">enabled</span><span class="p">)</span>
<span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span> <span class="n">enabled</span> <span class="o">==</span> <span class="n">IsEnabled</span><span class="p">()</span> <span class="p">)</span>
      <span class="k">return</span><span class="p">;</span>
   <span class="n">BControl</span><span class="p">::</span><span class="n">SetEnabled</span><span class="p">(</span><span class="n">enabled</span><span class="p">);</span>
   <span class="o">/*</span> <span class="n">Code</span> <span class="n">that</span> <span class="n">responds</span> <span class="n">to</span> <span class="n">the</span> <span class="n">change</span> <span class="ow">in</span> <span class="n">state</span> <span class="n">goes</span> <span class="n">here</span><span class="o">.</span> <span class="o">*/</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note, however, that you don’t have to override <span class="hmethod">SetEnabled()</span> just to
update the on-screen display when the control becomes enabled or
disabled. If the <span class="hclass">BControl</span> is attached to a window, the kit’s version of
<span class="hmethod">SetEnabled()</span> always calls the
<a class="reference internal" href="view.html#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a> function. Therefore, the device
on-screen will be updated automatically—as long as
<a class="reference internal" href="view.html#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a> has been
implemented to take the enabled state into account.</p>
<p>See also: the <span class="hclass">BControl</span> <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Constructor()</span></code></p>
<section id="_CPPv4N8BControl8SetValueE5int32">
</section>
<section id="_CPPv4NK8BControl5ValueEv">
</section>
<h3>
SetValue(), Value()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">SetValue</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">value</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">int32</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">Value</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions set and return the value of the <span class="hclass">BControl</span> object.</p>
<p><span class="hmethod">SetValue()</span> assigns the object a new value. If the <span class="hparameter">value</span> passed is in fact
different from the <span class="hclass">BControl</span>’s current value, this function calls the
object’s <a class="reference internal" href="view.html#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a> function so that the new value will be reflected in what
the user sees on-screen; otherwise it does nothing.</p>
<p><span class="hmethod">Value()</span> returns the current value.</p>
<p>Classes derived from <span class="hclass">BControl</span> should call
<span class="hmethod">SetValue()</span> to change the value
of the control device in response to user actions. The derived classes
defined in the Be software kits change values only by calling this
function.</p>
<p>Since <span class="hmethod">SetValue()</span> is a virtual function, you can override it to take note
whenever a control’s value changes. However, if you want your code to act
only when the value actually changes, you must check to be sure the new
value doesn’t match the old before calling the inherited version of the
function. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">MyControl</span><span class="p">::</span><span class="n">SetValue</span><span class="p">(</span><span class="n">int32</span> <span class="n">value</span><span class="p">)</span>
<span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span> <span class="n">value</span> <span class="o">!=</span> <span class="n">Value</span><span class="p">()</span> <span class="p">)</span> <span class="p">{</span>
      <span class="n">BControl</span><span class="p">::</span><span class="n">SetValue</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
      <span class="o">/*</span> <span class="n">MyControl</span><span class="s1">&#39;s additions to SetValue() go here*/</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Remember that the <span class="hclass">BControl</span> version of
<span class="hmethod">SetValue()</span> does nothing unless the
new value differs from the old.</p>
<section id="_CPPv4N8BControl15WindowActivatedEb">
</section>
<h3>
WindowActivated()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">WindowActivated</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">active</span><span class="sig-paren">)</span></pre><p>Makes sure that the <span class="hclass">BControl</span>, if it’s the focus view, is redrawn when the
window is activated or deactivated.</p>
<p>See also:
<a class="reference internal" href="view.html#_CPPv4N5BView15WindowActivatedEb" title="BView::WindowActivated"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::WindowActivated()</span></code></a></p>
</section>
<section id="member-functions">
<h2>Member Functions<a class="headerlink" href="#member-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4NK8BControl7ArchiveEP8BMessageb">
</section>
<h3>
Archive()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">Archive</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">archive</span>, <span class="kt">bool</span><span class="w"> </span><span class="n sig-param">deep</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Archives the <span class="hclass">BControl</span> by recording its label, current value, model
message, and whether or not it’s disabled in the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code> <span class="hparameter">archive</span>.</p>
<p>See also:
<a class="reference internal" href="../support/archivable.html#_CPPv4NK11BArchivable7ArchiveEP8BMessageb" title="BArchivable::Archive"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BArchivable::Archive()</span></code></a>,
<a class="reference internal" href="#_CPPv4N8BControl11InstantiateEP8BMessage" title="BControl::Instantiate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Instantiate()</span></code></a> static function</p>
<section id="_CPPv4N8BControl18GetSupportedSuitesEP8BMessage">
</section>
<h3>
GetSupportedSuites()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">GetSupportedSuites</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span><span class="sig-paren">)</span></pre><p>Adds the name “suite/vnd.Be-control” to the message. See
“<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ScriptingSupport()</span></code>”
and the
“<span class="xref std std-ref">Scripting</span>”
section in The Application Kit overview for more information.</p>
<p>See also:
<a class="reference internal" href="../application/handler.html#_CPPv4N8BHandler18GetSupportedSuitesEP8BMessage" title="BHandler::GetSupportedSuites"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BHandler::GetSupportedSuites()</span></code></a></p>
<section id="_CPPv4N8BControl6InvokeEP8BMessage">
</section>
<h3>
Invoke()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">Invoke</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span></pre><p>Copies the <span class="hclass">BControl</span>’s model
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code> and sends the copy so that it will
be dispatched to the designated target (which may be a
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BLooper</span></code>’s
preferred handler). The following two pieces of information are added to
the copy before it’s delivered:</p>
<p>Data nameType codeDescription”when”B_INT64_TYPEWhen the control was invoked, as measured in the number of milliseconds since 12:00:00 AM January 1, 1970.”source”B_POINTER_TYPEA pointer to the BControl object. This permits the message handler to request more information from the source of the message.</p>
<p>These two names shouldn’t be used for data fields in the model.</p>
<p><span class="hclass">BControl</span>’s version of <span class="hmethod">Invoke()</span>
overrides the
<a class="reference internal" href="../application/invoker.html#_CPPv4N8BInvoker6InvokeEP8BMessage" title="BInvoker::Invoke"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Invoke()</span></code></a>
that the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BInvoker</span></code>
class defines. It’s designed to be called by derived classes in their
<a class="reference internal" href="view.html#_CPPv4N5BView9MouseDownE6BPoint" title="BView::MouseDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MouseDown()</span></code></a> and
<a class="reference internal" href="#_CPPv4N8BControl7KeyDownEPKc5int32" title="BControl::KeyDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">KeyDown()</span></code></a>
functions; it’s not called for you in <span class="hclass">BControl</span>
code. It’s up to each derived class to define what user actions trigger
the call to <span class="hmethod">Invoke()</span>—what activity constitutes “invoking” the
control.</p>
<p>This function doesn’t check to make sure the <span class="hclass">BControl</span> is currently
enabled. Derived classes should make that determination before calling
<span class="hmethod">Invoke()</span>.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N8BControl10SetEnabledEb" title="BControl::SetEnabled"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetEnabled()</span></code></a></p>
<section id="_CPPv4NK8BControl15IsFocusChangingEv">
</section>
<h3>
IsFocusChanging()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">IsFocusChanging</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code> if the <span class="hclass">BControl</span>
is being asked to draw because the focus
changed, and <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code> if not. If the return value is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>, either the
<span class="hclass">BControl</span> has just become the focus view or it has just lost that status
and the
<a class="reference internal" href="view.html#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a>
function has been called to update the on-screen display.</p>
<p>This function can be called from inside
<a class="reference internal" href="view.html#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a> to learn whether it’s
necessary to draw or erase the visible indication that the <span class="hclass">BControl</span> is
the focus view. <span class="hmethod">IsFocusChanging()</span>
will return the new status of the view.</p>
<p>See also: <a class="reference internal" href="#_CPPv4N8BControl9MakeFocusEb" title="BControl::MakeFocus"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MakeFocus()</span></code></a></p>
<section id="_CPPv4N8BControl9MakeFocusEb">
</section>
<h3>
MakeFocus()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">MakeFocus</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">focused</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="sig-paren">)</span></pre><p>Augments the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code>
version of this function to call the <span class="hclass">BControl</span>’s
<a class="reference internal" href="view.html#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a>
function when the focus changes. This is done to aid keyboard navigation
among control devices. If the
<a class="reference internal" href="view.html#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a>
function of a derived class has a
section of code that checks whether the object is in focus and marks the
on-screen display to show that it is (and removes any such marking when
it isn’t), the visual part of keyboard navigation will be taken care of.
The derived class doesn’t have to reimplement
<span class="hmethod">MakeFocus()</span>. Most of the
derived classes implemented in the Interface Kit depend on this version
of the function.</p>
<p>When <a class="reference internal" href="view.html#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a>
is called from this function,
<a class="reference internal" href="#_CPPv4NK8BControl15IsFocusChangingEv" title="BControl::IsFocusChanging"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">IsFocusChanging()</span></code></a>
returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>.</p>
<p>See also: <a class="reference internal" href="view.html#_CPPv4N5BView9MakeFocusEb" title="BView::MakeFocus"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::MakeFocus()</span></code></a>,
<a class="reference internal" href="#_CPPv4N8BControl7KeyDownEPKc5int32" title="BControl::KeyDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">KeyDown()</span></code></a>,
<a class="reference internal" href="#_CPPv4NK8BControl15IsFocusChangingEv" title="BControl::IsFocusChanging"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">IsFocusChanging()</span></code></a></p>
<section id="_CPPv4N8BControl16ResolveSpecifierEP8BMessage5int32P8BMessage5int32PKc">
</section>
<h3>
ResolveSpecifier()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">BHandler</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">ResolveSpecifier</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">index</span>, <span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">specifier</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">command</span>, <span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">property</span><span class="sig-paren">)</span></pre><p>Resolves specifiers for the “Label” and “Value” properties. See
“<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ScriptingSupport()</span></code>”
and the
“<span class="xref std std-ref">Scripting</span>”
section in The Application Kit overview for more information.</p>
<p>See also: <a class="reference internal" href="../application/handler.html#_CPPv4N8BHandler16ResolveSpecifierEP8BMessage5int32P8BMessage5int32PKc" title="BHandler::ResolveSpecifier"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BHandler::ResolveSpecifier()</span></code></a></p>
<section id="_CPPv4N8BControl8SetLabelEPKc">
</section>
<section id="_CPPv4NK8BControl5LabelEv">
</section>
<h3>
SetLabel(), Label()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">SetLabel</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">string</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">Label</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions set and return the label on a control device—the
text that’s displayed, for example, on top of a button or alongside a
check box or radio button. The label is a null-terminated string.</p>
<p><span class="hmethod">SetLabel()</span> frees the old label, replaces it with a copy of
<span class="hparameter">string</span>, and
updates the control on-screen so the new label will be displayed to the
user—but only if the string that’s passed differs from the current
label. The label is first set by the
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Constructor()</span></code>
and can be modified thereafter by this function.</p>
<p><span class="hmethod">Label()</span> returns the current label. The string it returns belongs to the
<span class="hclass">BControl</span> and may be altered or freed in due course.</p>
<p>See also: the <span class="hclass">BControl</span> constructor,
<a class="reference internal" href="view.html#_CPPv4N5BView16AttachedToWindowEv" title="BView::AttachedToWindow"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::AttachedToWindow()</span></code></a></p>
</section>
<section id="static-functions">
<h2>Static Functions<a class="headerlink" href="#static-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N8BControl11InstantiateEP8BMessage">
</section>
<h3>
Instantiate()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">static</span><span class="w"> </span><span class="n">BArchivable</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BControl</span><span class="p">::</span></span><span class="n">Instantiate</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">archive</span><span class="sig-paren">)</span></pre><p>Returns a new <span class="hclass">BControl</span> object, allocated by new and created with the
version of the constructor that takes a <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code> archive. However, if the
archive doesn’t contain data for a <span class="hclass">BControl</span> object, <span class="hmethod">Instantiate()</span> returns
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p>See also:
<a class="reference internal" href="../support/archivable.html#_CPPv4N11BArchivable11InstantiateEP8BMessage" title="BArchivable::Instantiate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BArchivable::Instantiate()</span></code></a>,
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">object()</span></code>,
<a class="reference internal" href="#_CPPv4NK8BControl7ArchiveEP8BMessageb" title="BControl::Archive"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Archive()</span></code></a></p>
</section>
<section id="scripting-support">
<h2>Scripting Support<a class="headerlink" href="#scripting-support" title="Permalink to this heading">¶</a></h2>
<h3>
</h3><p>Whether or not the control is enabled</p>
<p>The “Enabled” property corresponds to the methods
<a class="reference internal" href="#_CPPv4NK8BControl9IsEnabledEv" title="BControl::IsEnabled"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">IsEnabled()</span></code></a> and
<a class="reference internal" href="#_CPPv4N8BControl10SetEnabledEb" title="BControl::SetEnabled"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetEnabled()</span></code></a>,
using a boolean to store the data.</p>
<p>MessageSpecifiersDescriptionB_GET_PROPERTYB_DIRECT_SPECIFIERReturns whether or not the BControl is currently enabled.B_SET_PROPERTYB_DIRECT_SPECIFIEREnables or disables the BControl.</p>
<h3>
</h3><p>The text label for the control</p>
<p>The “Label” property corresponds to the methods
<a class="reference internal" href="#_CPPv4NK8BControl5LabelEv" title="BControl::Label"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Label()</span></code></a> and
<a class="reference internal" href="#_CPPv4N8BControl8SetLabelEPKc" title="BControl::SetLabel"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetLabel()</span></code></a>,
using a string to store the data.</p>
<p>MessageSpecifiersDescriptionB_GET_PROPERTYB_DIRECT_SPECIFIERReturns the BControl’s label.B_SET_PROPERTYB_DIRECT_SPECIFIERSets the label of the BControl.</p>
<h3>
</h3><p>The value of the control</p>
<p>The “Value” property corresponds to the methods
<a class="reference internal" href="#_CPPv4NK8BControl5ValueEv" title="BControl::Value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Value()</span></code></a> and
<a class="reference internal" href="#_CPPv4N8BControl8SetValueE5int32" title="BControl::SetValue"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetValue()</span></code></a>,
using an int32 to store the data.</p>
<p>MessageSpecifiersDescriptionB_GET_PROPERTYB_DIRECT_SPECIFIERReturns the BControl’s value.B_SET_PROPERTYB_DIRECT_SPECIFIERSets the value of the BControl.</p>
</section>
<section id="archived-fields">
<h2>Archived Fields<a class="headerlink" href="#archived-fields" title="Permalink to this heading">¶</a></h2>
</section>
</section>


        <div class="clearer"></div>
      </div>
          </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="color-control.html">BColorControl</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="dragger.html">BDragger</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Haiku, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>