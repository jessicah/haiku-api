
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>BView &#8212; The Haiku Book  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/haiku.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/code.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="BWindow" href="window.html" />
    <link rel="prev" title="BTextView" href="text-view.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../index.html">
          <span>API Documentation</span></a></h1>
        <h2 class="heading"><span>BView</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="text-view.html">BTextView</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="window.html">BWindow</a>&#160;&#160;»
        </p>

      </div>
        
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">BView</a><ul>
<li><a class="reference internal" href="#constructor-and-destructor">Constructor and Destructor</a><ul>
<li><a class="reference internal" href="#_CPPv4N5BView5BViewE5BRectPKc6uint326uint32">BView</a></li>
<li><a class="reference internal" href="#_CPPv4N5BViewD0Ev">~BView</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hook-functions">Hook Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N5BView16AttachedToWindowEv">AttachedToWindow</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView11AllAttachedEv">AllAttached</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView18DetachedFromWindowEv">DetachedFromWindow</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView11AllDetachedEv">AllDetached</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView4DrawE5BRect">Draw</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView17DrawAfterChildrenE5BRect">DrawAfterChildren</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView10FrameMovedE6BPoint">FrameMoved</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView12FrameResizedEff">FrameResized</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView16GetPreferredSizeEPfPf">GetPreferredSize</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView17ResizeToPreferredEv">ResizeToPreferred</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView7KeyDownEPKc5int32">KeyDown</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView5KeyUpEPKc5int32">KeyUp</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView15MessageReceivedEP8BMessage">MessageReceived</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView9MouseDownE6BPoint">MouseDown</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView10MouseMovedE6BPoint6uint32PK8BMessage">MouseMoved</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView7MouseUpE6BPoint">MouseUp</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView5PulseEv">Pulse</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView20TargetedByScrollViewEP11BScrollView">TargetedByScrollView</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView15WindowActivatedEb">WindowActivated</a></li>
</ul>
</li>
<li><a class="reference internal" href="#general-functions">General Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4NK5BView7ArchiveEP8BMessageb">Archive</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView6BoundsEv">Bounds</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView15ConvertToParentE6BPoint">ConvertToParent</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView17ConvertFromParentE6BPoint">ConvertFromParent</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView15ConvertToScreenE6BPoint">ConvertToScreen</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView17ConvertFromScreenE6BPoint">ConvertFromScreen</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView5FrameEv">Frame</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView4HideEv">Hide</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView4ShowEv">Show</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView7IsFocusEv">IsFocus</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView8IsHiddenEv">IsHidden</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView10IsPrintingEv">IsPrinting</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView7LeftTopEv">LeftTop</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView6MoveByEff">MoveBy</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView6MoveToE6BPoint">MoveTo</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView8ResizeByEff">ResizeBy</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView8ResizeToEff">ResizeTo</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView8SetFlagsE6uint32">SetFlags</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView5FlagsEv">Flags</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView9SetOriginE6BPoint">SetOrigin</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView6OriginEv">Origin</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView15SetResizingModeE6uint32">SetResizingMode</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView12ResizingModeEv">ResizingMode</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView13SetViewCursorEPK7BCursorb">SetViewCursor</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView6WindowEv">Window</a></li>
</ul>
</li>
<li><a class="reference internal" href="#view-hierarchy-functions">View Hierarchy Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N5BView8AddChildEP5BViewP5BView">AddChild</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView11RemoveChildEP5BView">RemoveChild</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView8FindViewEPKc">FindView</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView6ParentEv">Parent</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView11NextSiblingEv">NextSibling</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView15PreviousSiblingEv">PreviousSibling</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView7ChildAtE5int32">ChildAt</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView13CountChildrenEv">CountChildren</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView10RemoveSelfEv">RemoveSelf</a></li>
</ul>
</li>
<li><a class="reference internal" href="#input-related-functions">Input Related Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N5BView17BeginRectTrackingE5BRect6uint32">BeginRectTracking</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView15EndRectTrackingEv">EndRectTracking</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView11DragMessageEP8BMessage5BRectP8BHandler">DragMessage</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView8GetMouseEP6BPointP6uint32b">GetMouse</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView9MakeFocusEb">MakeFocus</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView9ScrollBarE11orientation">ScrollBar</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView8ScrollByEff">ScrollBy</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView8ScrollToE6BPoint">ScrollTo</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView12SetEventMaskE6uint326uint32">SetEventMask</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView17SetMouseEventMaskE6uint326uint32">SetMouseEventMask</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView9EventMaskEv">EventMask</a></li>
</ul>
</li>
<li><a class="reference internal" href="#graphics-state-functions">Graphics State Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N5BView9MovePenByEff">MovePenBy</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView9MovePenToE6BPoint">MovePenTo</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView11PenLocationEv">PenLocation</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView9PushStateEv">PushState</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView8PopStateEv">PopState</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView11SetLineModeE8cap_mode9join_modef">SetLineMode</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView11LineCapModeEv">LineCapMode</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView12LineJoinModeEv">LineJoinMode</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView14LineMiterLimitEv">LineMiterLimit</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView8SetScaleEf">SetScale</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView10SetPenSizeEf">SetPenSize</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView7PenSizeEv">PenSize</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView12SetHighColorE9rgb_color">SetHighColor</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView9HighColorEv">HighColor</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView11SetLowColorE9rgb_color">SetLowColor</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView8LowColorEv">LowColor</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView12SetViewColorE9rgb_color">SetViewColor</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView9ViewColorEv">ViewColor</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView15SetBlendingModeE12source_alpha14alpha_function">SetBlendingMode</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView15GetBlendingModeEP12source_alphaP14alpha_function">GetBlendingMode</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView14SetDrawingModeE12drawing_mode">SetDrawingMode</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView11DrawingModeEv">DrawingMode</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView17ForceFontAliasingEb">ForceFontAliasing</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView13GetFontHeightEP11font_height">GetFontHeight</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView7SetFontEPK5BFont6uint32">SetFont</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView7GetFontEP5BFont">GetFont</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView11SetFontSizeEf">SetFontSize</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView11StringWidthEPKc">StringWidth</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView15GetStringWidthsEA_PcA_5int325int32A_f">GetStringWidths</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView14TruncateStringEP7BString6uint32f">TruncateString</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView13ClipToPictureEP8BPicture6BPointb">ClipToPicture</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView20ClipInverseToPictureEP8BPicture6BPointb">ClipInverseToPicture</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView23ConstrainClippingRegionEP7BRegion">ConstrainClippingRegion</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView17GetClippingRegionEP7BRegion">GetClippingRegion</a></li>
</ul>
</li>
<li><a class="reference internal" href="#drawing-related-functions">Drawing Related Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N5BView10DrawBitmapEPK7BBitmap">DrawBitmap</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView15DrawBitmapAsyncEPK7BBitmap">DrawBitmapAsync</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView8DrawCharEc">DrawChar</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView10DrawStringEPKcP16escapement_delta">DrawString</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView10FillRegionEP7BRegion7pattern">FillRegion</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView12StrokeBezierEP6BPoint7pattern">StrokeBezier</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView10FillBezierEP6BPoint7pattern">FillBezier</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView13StrokeEllipseE5BRect7pattern">StrokeEllipse</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView11FillEllipseE5BRect7pattern">FillEllipse</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView9StrokeArcE5BRectff7pattern">StrokeArc</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView7FillArcE5BRectff7pattern">FillArc</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView9StrokeArcE6BPoint6BPoint7pattern">StrokeArc</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView13StrokePolygonE8BPolygonb7pattern">StrokePolygon</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView11FillPolygonE8BPolygonb7pattern">FillPolygon</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView10StrokeRectE5BRect7pattern">StrokeRect</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView8FillRectE5BRect7pattern">FillRect</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView15StrokeRoundRectE5BRectff7pattern">StrokeRoundRect</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView13FillRoundRectE5BRectff7pattern">FillRoundRect</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView11StrokeShapeEP6BShape7pattern">StrokeShape</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView9FillShapeEP6BShape7pattern">FillShape</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView14StrokeTriangleE6BPoint6BPoint6BPoint7pattern">StrokeTriangle</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView12FillTriangleE6BPoint6BPoint6BPoint7pattern">FillTriangle</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView14BeginLineArrayE5int32">BeginLineArray</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView7AddLineE6BPoint6BPoint9rgb_color">AddLine</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView12EndLineArrayEv">EndLineArray</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView12BeginPictureEP8BPicture">BeginPicture</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView15AppendToPictureEP8BPicture">AppendToPicture</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView10EndPictureEv">EndPicture</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView8CopyBitsE5BRect5BRect">CopyBits</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView11DrawPictureEPK8BPicture">DrawPicture</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView16DrawPictureAsyncEPK8BPicture">DrawPictureAsync</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView5FlushEv">Flush</a></li>
<li><a class="reference internal" href="#_CPPv4NK5BView4SyncEv">Sync</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView10InvalidateE5BRect">Invalidate</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView10InvertRectE5BRect">InvertRect</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView13SetViewBitmapEPK7BBitmap6uint326uint32">SetViewBitmap</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView15ClearViewBitmapEv">ClearViewBitmap</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView14SetViewOverlayEPK7BBitmapP9rgb_color6uint326uint32">SetViewOverlay</a></li>
<li><a class="reference internal" href="#_CPPv4N5BView16ClearViewOverlayEv">ClearViewOverlay</a></li>
</ul>
</li>
<li><a class="reference internal" href="#static-functions">Static Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N5BView11InstantiateEP8BMessage">Instantiate</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripting-support">Scripting Support</a></li>
<li><a class="reference internal" href="#archived-fields">Archived Fields</a></li>
</ul>
</li>
</ul>

  </div>

        </div>
      </div>
          <div class="bodywrapper">
      <div class="content" role="main">
        
  <section id="bview">
<h1>BView<a class="headerlink" href="#bview" title="Permalink to this heading">¶</a></h1>
<section id="constructor-and-destructor">
<h2>Constructor and Destructor<a class="headerlink" href="#constructor-and-destructor" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N5BView5BViewE5BRectPKc6uint326uint32">
</section>
<h3>
BView()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N5BView5BViewE5BRectPKc6uint326uint32" title="BView::BView"><span class="n">BView</span></a><span class="p">::</span></span><span class="n">BView</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">frame</span>, <span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">name</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">resizingMode</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">flags</span><span class="sig-paren">)</span><br /><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N5BView5BViewEP8BMessage" title="BView::BView"><span class="n">BView</span></a><span class="p">::</span></span><span class="n">BView</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">archive</span><span class="sig-paren">)</span></pre><p>Sets up a view with the <span class="hparameter">frame</span> rectangle, which is specified in the
coordinate system of its eventual parent, and assigns the <span class="hclass">BView</span> an
identifying <span class="hparameter">name</span>, which can be <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p>When it’s created, a <span class="hclass">BView</span> doesn’t belong to a window and has no parent.
It’s assigned a parent by having another <span class="hclass">BView</span> adopt it with the
<a class="reference internal" href="#_CPPv4N5BView8AddChildEP5BViewP5BView" title="BView::AddChild"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AddChild()</span></code></a> function. If the other view is in a window, the <span class="hclass">BView</span> becomes
part of that window’s view hierarchy. A <span class="hclass">BView</span> can be made a child of the
window’s top view by calling <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code>’s
<a class="reference internal" href="window.html#_CPPv4N7BWindow8AddChildEP5BViewP5BView" title="BWindow::AddChild"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AddChild()</span></code></a> of the <span class="hmethod">AddChild()</span> function.</p>
<p>When the <span class="hclass">BView</span> gains a parent, the values in
<span class="hparameter">frame</span> are interpreted in the
parent’s coordinate system. The sides of the view must be aligned on
screen pixels. Therefore, the <span class="hparameter">frame</span> rectangle should not contain
coordinates with fractional values. Fractional coordinates will be
rounded to the first lower whole number (for example 1.2 will be rounded
down to 1.0).</p>
<p>The <span class="hparameter">resizingMode</span> mask determines the behavior of the view when its parent
is resized. It should combine one constant for horizontal resizing,</p>
<ul class="simple">
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_LEFT</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_RIGHT</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_LEFT_RIGHT</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_H_CENTER</span></code></p></li>
</ul>
<p>with one for vertical resizing:</p>
<ul class="simple">
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_TOP</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_BOTTOM</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_TOP_BOTTOM</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_V_CENTER</span></code></p></li>
</ul>
<p>For example, if <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_LEFT</span></code> is chosen, the margin between the left side
of the view and the left side of its parent will remain
constant—the view will “follow” the parent’s left side. Similarly,
if <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_RIGHT</span></code> is chosen, the view will follow the parent’s right
side. If <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_H_CENTER</span></code> is chosen, the view will maintain a constant
relationship to the horizontal center of the parent.</p>
<p>If the constants name opposite sides of the view rectangle—left and
right, or top and bottom—the view will necessarily be resized in
that dimension when the parent is. For example, <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_LEFT_RIGHT</span></code> means
that the margin between the left side of the view and left side of the
parent will remain constant, as will the margin between the right side of
the view and the right side of the parent. As the parent is resized
horizontally, the child will be resized with it. Note that
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_LEFT_RIGHT</span></code> is not the same as combining <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_LEFT</span></code> and
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_RIGHT</span></code>, an illegal move. The <span class="hparameter">resizingMode</span> mask can contain only
one horizontal constant and one vertical constant.</p>
<p>If a side is not mentioned in the mask, the distance between that side of
the view and the corresponding side of the parent is free to fluctuate.
This may mean that the view will move within its parent’s coordinate
system when the parent is resized. <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_RIGHT</span></code> plus <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_BOTTOM</span></code>,
for example, would keep a view from being resized, but the view will move
to follow the right bottom corner of its parent whenever the parent is
resized. <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_LEFT</span></code> plus <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_TOP</span></code> prevents a view from being
resized and from being moved.</p>
<p>In addition to the constants listed above, there are two other
possibilities:</p>
<ul class="simple">
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_ALL_SIDES</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_NONE</span></code></p></li>
</ul>
<p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_ALL_SIDES</span></code> is a shorthand for <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_LEFT_RIGHT</span></code> and
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_TOP_BOTTOM</span></code>. It means that the view will be resized in tandem
with its parent, both horizontally and vertically.</p>
<p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_NONE</span></code> behaves just like
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_LEFT</span></code> | <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_TOP</span></code>; the view
maintains the same position in its parent’s coordinate system, but not in
the screen coordinate system.</p>
<p>Typically, a parent view is resized because the user resizes the window
it’s in. When the window is resized, the top view is too. Depending on
how the <span class="hparameter">resizingMode</span> flag is set for the top view’s children and for the
descendants of its children, automatic resizing can cascade down the view
hierarchy. A view can also be resized programmatically by the
<a class="reference internal" href="#_CPPv4N5BView8ResizeToEff" title="BView::ResizeTo"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ResizeTo()</span></code></a>
and <a class="reference internal" href="#_CPPv4N5BView8ResizeByEff" title="BView::ResizeBy"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ResizeBy()</span></code></a>
functions.</p>
<p>The resizing mode can be changed after construction with the
<a class="reference internal" href="#_CPPv4N5BView15SetResizingModeE6uint32" title="BView::SetResizingMode"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetResizingMode()</span></code></a> function.</p>
<p>The <span class="hparameter">flags</span> mask determines what kinds of notifications the <span class="hclass">BView</span> will
receive. It can be any combination of the following constants:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Constant</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_WILL_DRAW</span></code></p></td>
<td><p>Indicates that the <span class="hclass">BView</span> does some drawing of its own and therefore can’t be ignored when the window is updated. If this flag isn’t set, the <span class="hclass">BView</span> won’t receive update notifications—its <a class="reference internal" href="#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a> function won’t be called—and it won’t be erased to its background view color if the color is other than white.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_PULSE_NEEDED</span></code></p></td>
<td><p>Indicates that the <span class="hclass">BView</span> should receive <a class="reference internal" href="#_CPPv4N5BView5PulseEv" title="BView::Pulse"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Pulse()</span></code></a> notifications.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FRAME_EVENTS</span></code></p></td>
<td><p>Indicates that the <span class="hclass">BView</span> should receive <a class="reference internal" href="#_CPPv4N5BView12FrameResizedEff" title="BView::FrameResized"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">FrameResized()</span></code></a> and <a class="reference internal" href="#_CPPv4N5BView10FrameMovedE6BPoint" title="BView::FrameMoved"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">FrameMoved()</span></code></a> notifications when its frame rectangle changes—typically as a result of the automatic resizing behavior described above. <a class="reference internal" href="#_CPPv4N5BView12FrameResizedEff" title="BView::FrameResized"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">FrameResized()</span></code></a> is called when the dimensions of the view change; <a class="reference internal" href="#_CPPv4N5BView10FrameMovedE6BPoint" title="BView::FrameMoved"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">FrameMoved()</span></code></a> is called when the position of its left top corner in its parent’s coordinate system changes.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FULL_UPDATE_ON_RESIZE</span></code></p></td>
<td><p>Indicates that the entire view should be updated when it’s resized. If this flag isn’t set, only the portions that resizing adds to the view will be included in the clipping region. This doesn’t affect the view’s children; their own flags determine when updates will occur.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_NAVIGABLE</span></code></p></td>
<td><p>Indicates that the <span class="hclass">BView</span> can become the focus view for keyboard actions. This flag makes it possible for the user to navigate to the view and put it in focus by pressing the Tab key. See “<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Listening()</span></code>” at the beginning of this chapter.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_NAVIGABLE_JUMP</span></code></p></td>
<td><p>Marks the position of a group of views for keyboard navigation. By pressing Control+Tab, the user can jump from group to group. The focus lands on the first <span class="hclass">BView</span> in the group that has the <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_NAVIGABLE</span></code> flag set. This may be the same <span class="hclass">BView</span> that has the <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_NAVIGABLE_JUMP</span></code> marker, or the <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_NAVIGABLE_JUMP</span></code> <span class="hclass">BView</span> may be the parent of a group of <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_NAVIGABLE</span></code> views.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_SUBPIXEL_PRECISE</span></code></p></td>
<td><p>Instructs the rendering methods to use subpixel precision when drawing. If you don’t set this flag, coordinates are rounded to the nearest unit.</p></td>
</tr>
</tbody>
</table>
<p>If none of these constants apply, <span class="hparameter">flags</span> can be
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>. The flags can be
reset after construction with the
<a class="reference internal" href="#_CPPv4N5BView8SetFlagsE6uint32" title="BView::SetFlags"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFlags()</span></code></a> function.</p>
<p>See also:
<a class="reference internal" href="../application/handler.html#_CPPv4N8BHandler7SetNameEPKc" title="BHandler::SetName"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BHandler::SetName()</span></code></a></p>
<section id="_CPPv4N5BViewD0Ev">
</section>
<h3>
~BView()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">~BView</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Frees all memory the <span class="hclass">BView</span> allocated, and ensures that each of the
<span class="hclass">BView</span>’s descendants in the view hierarchy is also destroyed.</p>
<p>It’s an error to delete a <span class="hclass">BView</span> while it remains attached to a window.
Call
<a class="reference internal" href="#_CPPv4N5BView11RemoveChildEP5BView" title="BView::RemoveChild"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">RemoveChild()</span></code></a> or
<a class="reference internal" href="#_CPPv4N5BView10RemoveSelfEv" title="BView::RemoveSelf"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">RemoveSelf()</span></code></a>
before using the delete operator.</p>
</section>
<section id="hook-functions">
<h2>Hook Functions<a class="headerlink" href="#hook-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N5BView16AttachedToWindowEv">
</section>
<section id="_CPPv4N5BView11AllAttachedEv">
</section>
<h3>
AttachedToWindow(), AllAttached()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">AttachedToWindow</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">AllAttached</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Implemented by derived classes to complete the initialization of the
<span class="hclass">BView</span> when it’s assigned to a window.
A <span class="hclass">BView</span> is assigned to a window
when it, or one of its ancestors in the view hierarchy, becomes a child
of a view already attached to a window.</p>
<p><span class="hmethod">AttachedToWindow()</span> is called immediately
after the <span class="hclass">BView</span> is formally made
a part of the window’s view hierarchy and after it has become known to
the Application Server and its graphics parameters are set. The
<a class="reference internal" href="#_CPPv4NK5BView6WindowEv" title="BView::Window"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Window()</span></code></a>
function can identify which
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code> the
<span class="hclass">BView</span> belongs to.</p>
<p>All of the <span class="hclass">BView</span>’s children, if it has any, also become attached to the
window and receive their own <span class="hmethod">AttachedToWindow()</span> notifications. Parents
receive the notification before their children, but only after all views
have become attached to the window and recognized as part of the window’s
view hierarchy. This function can therefore depend on all ancestor and
descendant views being in place.</p>
<p>For example, <span class="hmethod">AttachedToWindow()</span> can be implemented to set a view’s
background color to the same color as its parent, something that can’t be
done before the view belongs to a window and knows who its parent is.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">MyView</span><span class="p">::</span><span class="n">AttachedToWindow</span><span class="p">()</span>
<span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span> <span class="n">Parent</span><span class="p">()</span> <span class="p">)</span>
      <span class="n">SetViewColor</span><span class="p">(</span><span class="n">Parent</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">ViewColor</span><span class="p">());</span>
   <span class="n">baseClass</span><span class="p">::</span><span class="n">AttachedToWindow</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <span class="hmethod">AllAttached()</span> notification follows on the heels of
<span class="hmethod">AttachedToWindow()</span>, but works its way up the view hierarchy rather than
down. When <span class="hmethod">AllAttached()</span> is called for a
<span class="hclass">BView</span>, all its descendants have
received both <span class="hmethod">AttachedToWindow()</span> and
<span class="hmethod">AllAttached()</span> notifications.
Therefore, parent views can depend on any calculations that their
children make in either function. For example, a parent can resize itself
to fit the size of its children, where their sizes depend on calculations
done in <span class="hmethod">AttachedToWindow()</span>.</p>
<p>The default (<span class="hclass">BView</span>) version of both these functions are empty.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView8AddChildEP5BViewP5BView" title="BView::AddChild"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AddChild()</span></code></a></p>
<section id="_CPPv4N5BView18DetachedFromWindowEv">
</section>
<section id="_CPPv4N5BView11AllDetachedEv">
</section>
<h3>
DetachedFromWindow(), AllDetached()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DetachedFromWindow</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">AllDetached</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Implemented by derived classes to make any adjustments necessary when the
<span class="hclass">BView</span> is about to be removed from a window’s view hierarchy. These two
functions parallel the more commonly implemented
<a class="reference internal" href="#_CPPv4N5BView16AttachedToWindowEv" title="BView::AttachedToWindow"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AttachedToWindow()</span></code></a> and
<a class="reference internal" href="#_CPPv4N5BView11AllAttachedEv" title="BView::AllAttached"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AllAttached()</span></code></a> functions.</p>
<p><span class="hmethod">DetachedFromWindow()</span> notifications work their way down the hierarchy of
views being detached, followed by <span class="hmethod">AllDetached()</span> notifications, which work
their way up the hierarchy. The second function call permits an ancestor
view to take actions that depend on calculations a descendant might have
to make when it’s first notified of being detached.</p>
<p>The <span class="hclass">BView</span> is still attached to the window when both functions are called.</p>
<section id="_CPPv4N5BView4DrawE5BRect">
</section>
<h3>
Draw()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">Draw</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">updateRect</span><span class="sig-paren">)</span></pre><p>Implemented by derived classes to draw the <span class="hparameter">updateRect</span> portion of the
view. The update rectangle is stated in the <span class="hclass">BView</span>’s coordinate system.</p>
<p><span class="hmethod">Draw()</span> is called as the result of update messages whenever the view needs
to present itself on-screen. This may happen when:</p>
<ul class="simple">
<li><p>The window the view is in is first shown on-screen, or shown after being hidden (see the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code> version of the <a class="reference internal" href="window.html#_CPPv4N7BWindow4HideEv" title="BWindow::Hide"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Hide()</span></code></a> function).</p></li>
<li><p>The view is made visible after being hidden (see <span class="hclass">BView</span>’s <a class="reference internal" href="#_CPPv4N5BView4HideEv" title="BView::Hide"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Hide()</span></code></a> function).</p></li>
<li><p>Obscured parts of the view are revealed, as when a window is moved from in front of the view or an image is dragged across it.</p></li>
<li><p>The view is resized.</p></li>
<li><p>The contents of the view are scrolled (see <a class="reference internal" href="#_CPPv4N5BView8ScrollByEff" title="BView::ScrollBy"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ScrollBy()</span></code></a>).</p></li>
<li><p>A child view is added, removed, or resized.</p></li>
<li><p>A rectangle has been invalidated that includes at least some of the view (see <a class="reference internal" href="#_CPPv4N5BView10InvalidateE5BRect" title="BView::Invalidate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Invalidate()</span></code></a>).</p></li>
<li><p><a class="reference internal" href="#_CPPv4N5BView8CopyBitsE5BRect5BRect" title="BView::CopyBits"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">CopyBits()</span></code></a> can’t completely fill a destination rectangle within the view.</p></li>
</ul>
<p><span class="hmethod">Draw()</span> is also called from a
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BPrintJob</span></code> object’s
<a class="reference internal" href="print-job.html#_CPPv4N9BPrintJob8DrawViewEP5BView5BRect6BPoint" title="BPrintJob::DrawView"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DrawView()</span></code></a> function to
draw the view on a printed page.
<a class="reference internal" href="#_CPPv4NK5BView10IsPrintingEv" title="BView::IsPrinting"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">IsPrinting()</span></code></a>
returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code> when the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code>
is drawing for the printer and <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code> when it’s drawing to the screen.
When printing, you may want to recalculate layouts, substitute fonts,
turn antialiasing off, scale the size of a coordinate unit, or make other
adjustments to ensure the quality of the printed image.</p>
<p>When drawing to the screen, the <span class="hparameter">updateRect</span> is the smallest rectangle that
encloses the current clipping region for the view. Since the Application
Server won’t render anything on-screen that’s outside the clipping
region, an application will be more efficient if it avoids producing
drawing instructions for images that don’t intersect with the rectangle.
For still more efficiency and precision, you can ask for the clipping
region itself (by calling
<a class="reference internal" href="#_CPPv4NK5BView17GetClippingRegionEP7BRegion" title="BView::GetClippingRegion"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetClippingRegion()</span></code></a>)
and confine drawing to images that intersect with it.</p>
<p>When printing, the <span class="hparameter">updateRect</span> matches the rectangle passed to
<a class="reference internal" href="print-job.html#_CPPv4N9BPrintJob8DrawViewEP5BView5BRect6BPoint" title="BPrintJob::DrawView"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DrawView()</span></code></a>
and may lie outside the clipping region. The clipping region is not
enforced for printing, but the Print Server clips the BView’s drawing to
the specified rectangle.</p>
<p>See also:
<a class="reference internal" href="window.html#_CPPv4N7BWindow14UpdateIfNeededEv" title="BWindow::UpdateIfNeeded"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BWindow::UpdateIfNeeded()</span></code></a></p>
<section id="_CPPv4N5BView17DrawAfterChildrenE5BRect">
</section>
<h3>
DrawAfterChildren()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawAfterChildren</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">updateRect</span><span class="sig-paren">)</span></pre><p>This function is similar (in fact, almost identical) to
<a class="reference internal" href="#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a>. The only
difference is that <span class="hmethod">DrawAfterChildren()</span>
is called after all children have drawn during a screen update.
This is in contrast to <a class="reference internal" href="#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a>,
which draws before any children have drawn. In general,
<a class="reference internal" href="#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a> will be used for
almost all of your drawing needs; <span class="hmethod">DrawAfterChildren()</span> is intended for use
in the rare circumstances where you wish a view to be able to draw on top
of its child views.</p>
<p>Other details are as for <a class="reference internal" href="#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a>.</p>
<section id="_CPPv4N5BView10FrameMovedE6BPoint">
</section>
<h3>
FrameMoved()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FrameMoved</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">newLocation</span><span class="sig-paren">)</span></pre><p>Implemented by derived classes to respond to a notification that the view
has moved within its parent’s coordinate system. <span class="hparameter">newLocation</span> gives the
new location, within the coordinate system of the view’s window, of the
left top corner of the <span class="hclass">BView</span>’s frame rectangle.</p>
<p><span class="hmethod">FrameMoved()</span> is called only if the
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FRAME_EVENTS</span></code> flag is set and the
<span class="hclass">BView</span> is attached to a window.</p>
<p>If the view is both moved and resized, <span class="hmethod">FrameMoved()</span> is called before
<a class="reference internal" href="#_CPPv4N5BView12FrameResizedEff" title="BView::FrameResized"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">FrameResized()</span></code></a>.
This might happen, for example, if the <span class="hclass">BView</span>’s automatic
resizing mode is a combination of <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_TOP_BOTTOM</span></code>
and <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FOLLOW_RIGHT</span></code>
and its parent is resized both horizontally and vertically.</p>
<p><span class="hclass">BView</span>’s version of this function is empty.</p>
<p>Currently, <span class="hmethod">FrameMoved()</span> is also called when a hidden window is shown
on-screen.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView6MoveByEff" title="BView::MoveBy"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MoveBy()</span></code></a>,
<a class="reference internal" href="window.html#_CPPv4N7BWindow10FrameMovedEP6BPoint" title="BWindow::FrameMoved"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BWindow::FrameMoved()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView8SetFlagsE6uint32" title="BView::SetFlags"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFlags()</span></code></a></p>
<section id="_CPPv4N5BView12FrameResizedEff">
</section>
<h3>
FrameResized()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FrameResized</span><span class="sig-paren">(</span><span class="kt">float</span><span class="w"> </span><span class="n sig-param">width</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">height</span><span class="sig-paren">)</span></pre><p>Implemented by derived classes to respond to a notification that the view
has been resized. The arguments state the new width and height of the
view. The resizing could have been the result of a user action (resizing
the window) or of a programmatic one (calling
<a class="reference internal" href="#_CPPv4N5BView8ResizeToEff" title="BView::ResizeTo"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ResizeTo()</span></code></a> or
<a class="reference internal" href="#_CPPv4N5BView8ResizeByEff" title="BView::ResizeBy"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ResizeBy()</span></code></a>).</p>
<p><span class="hmethod">FrameResized()</span> is called only if the
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FRAME_EVENTS</span></code> flag is set and the
<span class="hclass">BView</span> is attached to a window.</p>
<p><span class="hclass">BView</span>’s version of this function is empty.</p>
<p>See also:
<a class="reference internal" href="window.html#_CPPv4N7BWindow12FrameResizedEff" title="BWindow::FrameResized"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BWindow::FrameResized()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView8SetFlagsE6uint32" title="BView::SetFlags"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFlags()</span></code></a></p>
<section id="_CPPv4N5BView16GetPreferredSizeEPfPf">
</section>
<section id="_CPPv4N5BView17ResizeToPreferredEv">
</section>
<h3>
GetPreferredSize(), ResizeToPreferred()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">GetPreferredSize</span><span class="sig-paren">(</span><span class="kt">float</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">width</span>, <span class="kt">float</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">height</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ResizeToPreferred</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p><span class="hmethod">GetPreferredSize()</span> is implemented by derived classes to write the
preferred width and height of the view into the variables the <span class="hparameter">width</span> and
<span class="hparameter">height</span> arguments refer to. Derived classes generally make this
calculation based on the view’s contents. For example, a
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BButton</span></code> object
reports the optimal size for displaying the button border and label given
the current font.</p>
<p><span class="hmethod">ResizeToPreferred()</span> resizes the
<span class="hclass">BView</span>’s frame rectangle to the preferred
size, keeping its left and top sides constant.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView8ResizeToEff" title="BView::ResizeTo"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ResizeTo()</span></code></a></p>
<section id="_CPPv4N5BView7KeyDownEPKc5int32">
</section>
<h3>
KeyDown()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">KeyDown</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">bytes</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">numBytes</span><span class="sig-paren">)</span></pre><p>Implemented by derived classes to respond to a
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">KEY()</span></code> message
reporting keyboard input. Whenever a <span class="hclass">BView</span> is the focus view of the
active window, it receives a <span class="hmethod">KeyDown()</span> notification for each character
the user types, except for those that:</p>
<ul class="simple">
<li><p>Are produced while a Command key is held down. Command key events are interpreted as keyboard shortcuts.</p></li>
<li><p>Are produced by the Tab key when an Option key is held down. Option+Tab events are invariably interpreted as instructions to change the focus view (for keyboard navigation); they work even where Tab alone does not.</p></li>
<li><p>Can operate the default button in a window. The <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BButton</span></code> object’s <a class="reference internal" href="button.html#_CPPv4N7BButton7KeyDownEPKc5int32" title="BButton::KeyDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">KeyDown()</span></code></a> function is called, rather than the focus view’s.</p></li>
</ul>
<p>The first argument, <span class="hparameter">bytes</span>, is an array that encodes the character mapped
to the key the user pressed. The second argument, <span class="hparameter">numBytes</span>, tells how
many bytes are in the array; there will always be at least one. The <span class="hparameter">bytes</span>
value follows the character encoding of the <span class="hclass">BView</span>’s font. Typically, the
encoding is Unicode UTF-8 (<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_UNICODE_UTF8</span></code>), so there may be more than one
byte per character. The bytes array is not null-terminated; ‘0’ is a
valid character value.</p>
<p>The character value takes into account any modifier keys that were held
down or keyboard locks that were on at the time of the keystroke. For
example, Shift+i
is reported as uppercase ‘I’ (0x49) and
Control+i is
reported as a <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_TAB</span></code> (0x09).</p>
<p>Single-byte characters can be tested against
ASCII
codes and these constants:</p>
<ul class="simple">
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_BACKSPACE</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_ENTER</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_RETURN</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_SPACE</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_TAB</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_ESCAPE</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_LEFT_ARROW</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_RIGHT_ARROW</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_UP_ARROW</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_DOWN_ARROW</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_INSERT</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_DELETE</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_HOME</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_END</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_PAGE_UP</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_PAGE_DOWN</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FUNCTION_KEY</span></code></p></li>
</ul>
<p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_ENTER</span></code> and <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_RETURN</span></code>
are the same character, a newline (‘\n’).</p>
<p>Only keys that generate characters produce key-down events; the modifier
keys on their own do not.</p>
<p>You can determine which modifier keys were being held down at the time of
the event by calling
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BLooper</span></code>’s
<a class="reference internal" href="../application/looper.html#_CPPv4NK7BLooper14CurrentMessageEv" title="BLooper::CurrentMessage"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">CurrentMessage()</span></code></a>
function and looking up the “modifiers” entry in the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code>
it returns. If the <span class="hparameter">bytes</span> character
is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FUNCTION_KEY</span></code> and you want to know which key produced the character,
you can look up the “key” entry in the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code>
and test it against these constants:</p>
<ul class="simple">
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_F1_KEY</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_F1_KEY</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_F2_KEY</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_F3_KEY</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_F4_KEY</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_F5_KEY</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_F6_KEY</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_F7_KEY</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_F8_KEY</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_F9_KEY</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_F10_KEY</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_F11_KEY</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_F12_KEY</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_PRINT_KEY</span></code> (Print Screen)</p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_SCROLL_KEY</span></code> (Scroll Lock)</p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_PAUSE_KEY</span></code></p></li>
</ul>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span> <span class="nb">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">B_FUNCTION_KEY</span> <span class="p">)</span> <span class="p">{</span>
   <span class="n">BMessage</span> <span class="o">*</span><span class="n">msg</span> <span class="o">=</span> <span class="n">Window</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">CurrentMessage</span><span class="p">();</span>
   <span class="k">if</span> <span class="p">(</span> <span class="n">msg</span> <span class="p">)</span> <span class="p">{</span>
      <span class="n">int32</span> <span class="n">key</span><span class="p">;</span>
      <span class="n">msg</span><span class="o">-&gt;</span><span class="n">FindInt32</span><span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">key</span><span class="p">);</span>
      <span class="n">switch</span> <span class="p">(</span> <span class="n">key</span> <span class="p">)</span> <span class="p">{</span>
      <span class="k">case</span> <span class="n">B_F1_KEY</span><span class="p">:</span>
         <span class="o">.</span> <span class="o">.</span> <span class="o">.</span>
         <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="n">B_F2_KEY</span><span class="p">:</span>
         <span class="o">.</span> <span class="o">.</span> <span class="o">.</span>
         <span class="k">break</span><span class="p">;</span>
      <span class="o">.</span> <span class="o">.</span> <span class="o">.</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <span class="hclass">BView</span> version of <span class="hmethod">KeyDown()</span>
handles keyboard navigation from view to view through
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_TAB</span></code> characters. If the view you define is navigable, its
<span class="hmethod">KeyDown()</span> function should permit
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_SPACE</span></code> characters to operate the object
and perhaps allow the arrow keys to navigate inside the view. It should
also call the inherited version of
<span class="hmethod">KeyDown()</span> to enable between-view
navigation. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">MyView</span><span class="p">::</span><span class="n">KeyDown</span><span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="nb">bytes</span><span class="p">,</span> <span class="n">int32</span> <span class="n">numBytes</span><span class="p">)</span>
<span class="p">{</span>
   <span class="k">if</span> <span class="p">(</span> <span class="n">numBytes</span> <span class="o">==</span> <span class="mi">1</span> <span class="p">)</span> <span class="p">{</span>
      <span class="n">switch</span> <span class="p">(</span> <span class="nb">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">)</span> <span class="p">{</span>
      <span class="k">case</span> <span class="n">B_SPACE</span><span class="p">:</span>
         <span class="o">/*</span> <span class="n">mimic</span> <span class="n">a</span> <span class="n">click</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">view</span><span class="o">*/</span>
         <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="n">B_RIGHT_ARROW</span><span class="p">:</span>
         <span class="o">/*</span> <span class="n">move</span> <span class="n">one</span> <span class="n">position</span> <span class="n">to</span> <span class="n">the</span> <span class="n">right</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">view</span><span class="o">*/</span>
         <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="n">B_LEFT_ARROW</span><span class="p">:</span>
         <span class="o">/*</span> <span class="n">move</span> <span class="n">one</span> <span class="n">position</span> <span class="n">to</span> <span class="n">the</span> <span class="n">left</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">view</span><span class="o">*/</span>
         <span class="k">break</span><span class="p">;</span>
      <span class="n">default</span><span class="p">:</span>
         <span class="n">baseClass</span><span class="p">::</span><span class="n">KeyDown</span><span class="p">(</span><span class="nb">bytes</span><span class="p">,</span> <span class="n">numBytes</span><span class="p">);</span>
         <span class="k">break</span><span class="p">;</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If your <span class="hclass">BView</span> is navigable but needs to respond to <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_TAB</span></code>
characters—for example, if it permits users to insert tabs in a
text string—its <span class="hmethod">KeyDown()</span> function should simply grab the
characters and not pass them to the inherited function. Users will have
to rely on the
Option+Tab
combination to navigate from your view.</p>
<p>See also: the <span class="xref std std-ref">Keyboard Information</span> special topic,
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">KEY()</span></code> in the
<span class="xref std std-ref">Keyboard Messages</span> appendix,
<a class="reference internal" href="window.html#_CPPv4N7BWindow16SetDefaultButtonEP7BButton" title="BWindow::SetDefaultButton"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BWindow::SetDefaultButton()</span></code></a>,
<span class="xref std std-ref">modifiers()</span></p>
<section id="_CPPv4N5BView5KeyUpEPKc5int32">
</section>
<h3>
KeyUp()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">KeyUp</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">bytes</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">numBytes</span><span class="sig-paren">)</span></pre><p>Implemented by derived classes to respond to a
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">KEY()</span></code>
message reporting that the user released a key on the keyboard.
The same set of keys that produce
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">KEY()</span></code>
messages when they’re pressed produce
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">KEY()</span></code>
messages when they’re released. The <span class="hparameter">bytes</span>
and <span class="hparameter">numBytes</span> arguments encode
the character mapped to the key the user released; they work exactly like
the same arguments passed to
<a class="reference internal" href="#_CPPv4N5BView7KeyDownEPKc5int32" title="BView::KeyDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">KeyDown()</span></code></a>.</p>
<p>Some <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">KEY()</span></code>
messages are swallowed by the system and are never dispatched by calling
<a class="reference internal" href="#_CPPv4N5BView7KeyDownEPKc5int32" title="BView::KeyDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">KeyDown()</span></code></a>;
others are dispatched, but not to the focus view. In contrast, all
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">KEY()</span></code>
messages are dispatched by calling
<a class="reference internal" href="#_CPPv4N5BView5KeyUpEPKc5int32" title="BView::KeyUp"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">KeyUp()</span></code></a>
for the focus view of the active window. Since the focus view and
active window can change between the time a key is pressed and the time
it’s released, this may or may not be the same <span class="hclass">BView</span> that was notified of
the <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">KEY()</span></code>
message.</p>
<section id="_CPPv4N5BView15MessageReceivedEP8BMessage">
</section>
<h3>
MessageReceived()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">MessageReceived</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span><span class="sig-paren">)</span></pre><p>Augments the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BHandler</span></code> version of
<a class="reference internal" href="../application/handler.html#_CPPv4N8BHandler15MessageReceivedEP8BMessage" title="BHandler::MessageReceived"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MessageReceived()</span></code></a>
to handle scripting messages for the <span class="hclass">BView</span>.</p>
<section id="_CPPv4N5BView9MouseDownE6BPoint">
</section>
<h3>
MouseDown()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">MouseDown</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">point</span><span class="sig-paren">)</span></pre><p><span class="hmethod">MouseDown()</span> is a hook function that’s invoked when the user depresses a
mouse button (or other pointing device button, not including joysticks).
The location of the cursor at the time of the event is given by <span class="hparameter">point</span> in
the <span class="hclass">BView</span>’s coordinates. See
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MOUSE()</span></code>
for the message format. Also see
<a class="reference internal" href="#_CPPv4N5BView17SetMouseEventMaskE6uint326uint32" title="BView::SetMouseEventMask"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetMouseEventMask()</span></code></a>
for information on extending the view’s event mask while the mouse is being held down.</p>
<p>The <span class="hclass">BView</span> version of <span class="hmethod">MouseDown()</span> is empty.</p>
<section id="_CPPv4N5BView10MouseMovedE6BPoint6uint32PK8BMessage">
</section>
<h3>
MouseMoved()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">MouseMoved</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">point</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">transit</span>, <span class="k">const</span><span class="w"> </span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span><span class="sig-paren">)</span></pre><p>Implemented by derived classes to respond to reports of mouse-moved
events associated with the view. As the user moves the cursor over a
window, the Application Server generates a continuous stream of messages
reporting where the cursor is located.</p>
<p>The first argument, <span class="hparameter">point</span>, gives the cursor’s
new location in the <span class="hclass">BView</span>’s
coordinate system. The second argument, <span class="hparameter">transit</span>, is one of four constants,</p>
<ul class="simple">
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_ENTERED_VIEW</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_INSIDE_VIEW</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_EXITED_VIEW</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OUTSIDE_VIEW</span></code></p></li>
</ul>
<p>which explains whether the cursor has just entered the visible region of
the view, is now inside the visible region having previously entered, has
just exited from the view, or is currently outside the visible region of
the view. When the cursor passes from one view to another, <span class="hmethod">MouseMoved()</span>
is called on each of the <span class="hclass">BView</span>s, once with a transit code of
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_EXITED_VIEW</span></code> and the other with a code of <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_ENTERED_VIEW</span></code>.</p>
<p>If the user is dragging a bundle of information from one location to
another, the final argument, <span class="hparameter">message</span>, is a pointer to the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code> object
that holds the information. If a message isn’t being dragged,
<span class="hparameter">message</span> is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p>The default version of <span class="hmethod">MouseMoved()</span> is empty.</p>
<section id="_CPPv4N5BView7MouseUpE6BPoint">
</section>
<h3>
MouseUp()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">MouseUp</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">point</span><span class="sig-paren">)</span></pre><p>Implemented by derived classes to respond to a message reporting a
mouse-up event within the view. The location of the cursor at the time of
the event is given by <span class="hparameter">point</span> in the <span class="hclass">BView</span>’s coordinates.</p>
<section id="_CPPv4N5BView5PulseEv">
</section>
<h3>
Pulse()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">Pulse</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Implemented by derived classes to do something at regular intervals.
Pulses are regularly timed events, like the tick of a clock or the beat
of a steady pulse. A <span class="hclass">BView</span> receives
<span class="hmethod">Pulse()</span> notifications when no other
messages are pending, but only if it asks for them with the
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_PULSE_NEEDED</span></code> flag.</p>
<p>The interval between <span class="hmethod">Pulse()</span> calls can be set with
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code>’s
<a class="reference internal" href="window.html#_CPPv4N7BWindow12SetPulseRateE9bigtime_t" title="BWindow::SetPulseRate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetPulseRate()</span></code></a>
function. The default interval is around 500 milliseconds.
The pulse rate is the same for all views within a window, but can vary
between windows.</p>
<p>Derived classes can implement a <span class="hmethod">Pulse()</span> function to do something that
must be repeated continuously. However, for time-critical actions, you
should implement your own timing mechanism.</p>
<p>The <span class="hclass">BView</span> version of this function is empty.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView8SetFlagsE6uint32" title="BView::SetFlags"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFlags()</span></code></a>
the <span class="hclass">BView</span>
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Constructor()</span></code>,</p>
<section id="_CPPv4N5BView20TargetedByScrollViewEP11BScrollView">
</section>
<h3>
TargetedByScrollView()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">TargetedByScrollView</span><span class="sig-paren">(</span><span class="n">BScrollView</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">scroller</span><span class="sig-paren">)</span></pre><p>Implemented by derived classes to respond to a notification that the
<span class="hclass">BView</span> has become the target of the scroller
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BScrollView</span></code>
object. This function is called when the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BScrollView</span></code>
sets its target, which it does on
construction. The target is the object whose contents will be scrolled.</p>
<p><span class="hclass">BView</span>’s implementation of this function is empty.</p>
<p>See also: The various scrolling-related
functions in <span class="hclass">BView</span>
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Input()</span></code>.</p>
<section id="_CPPv4N5BView15WindowActivatedEb">
</section>
<h3>
WindowActivated()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">WindowActivated</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">active</span><span class="sig-paren">)</span></pre><p>Implemented by derived classes to take whatever steps are necessary when
the <span class="hclass">BView</span>’s window becomes the active window, or when the window gives up
that status. If <span class="hparameter">active</span> is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>,
the window has become active. If <span class="hparameter">active</span>
is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code>, it no longer is the active window.</p>
<p>All objects in the view hierarchy receive
<span class="hmethod">WindowActivated()</span>
notifications when the status of the window changes.</p>
<p><span class="hclass">BView</span>’s version of this function is empty.</p>
<p>See also:
<a class="reference internal" href="window.html#_CPPv4N7BWindow15WindowActivatedEb" title="BWindow::WindowActivated"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BWindow::WindowActivated()</span></code></a></p>
</section>
<section id="general-functions">
<h2>General Functions<a class="headerlink" href="#general-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4NK5BView7ArchiveEP8BMessageb">
</section>
<h3>
Archive()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">Archive</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">archive</span>, <span class="kt">bool</span><span class="w"> </span><span class="n sig-param">deep</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Archives the <span class="hclass">BView</span> in the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code> <span class="hparameter">archive</span>.</p>
<p>See also:
<a class="reference internal" href="../support/archivable.html#_CPPv4NK11BArchivable7ArchiveEP8BMessageb" title="BArchivable::Archive"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BArchivable::Archive()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView11InstantiateEP8BMessage" title="BView::Instantiate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Instantiate()</span></code></a> static function</p>
<section id="_CPPv4NK5BView6BoundsEv">
</section>
<h3>
Bounds()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BRect</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">Bounds</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Returns the <span class="hclass">BView</span>’s bounds rectangle.</p>
<section id="_CPPv4NK5BView15ConvertToParentE6BPoint">
</section>
<section id="_CPPv4NK5BView17ConvertFromParentE6BPoint">
</section>
<h3>
ConvertToParent(), ConvertFromParent()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BPoint</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConvertToParent</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">localPoint</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConvertToParent</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">localPoint</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><span class="n">BRect</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConvertToParent</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">localRect</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConvertToParent</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">localRect</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BPoint</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConvertFromParent</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">parentPoint</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConvertFromParent</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">parentPoint</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><span class="n">BRect</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConvertFromParent</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">parentRect</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConvertFromParent</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">parentRect</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions convert points and rectangles to and from the coordinate
system of the <span class="hclass">BView</span>’s parent.
<span class="hmethod">ConvertToParent()</span> converts <span class="hparameter">localPoint</span> or
<span class="hparameter">localRect</span> from the <span class="hclass">BView</span>’s coordinate system to the coordinate system of
its parent <span class="hclass">BView</span>.
<span class="hmethod">ConvertFromParent()</span> does the opposite; it converts
<span class="hparameter">parentPoint</span> or <span class="hparameter">parentRect</span> from the coordinate system of the <span class="hclass">BView</span>’s
parent to the <span class="hclass">BView</span>’s own coordinate system.</p>
<p>If the point or rectangle is passed by value, the function returns the
converted value. If a pointer is passed, the conversion is done in place.</p>
<p>Both functions fail if the <span class="hclass">BView</span> isn’t attached to a window.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4NK5BView15ConvertToScreenE6BPoint" title="BView::ConvertToScreen"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ConvertToScreen()</span></code></a></p>
<section id="_CPPv4NK5BView15ConvertToScreenE6BPoint">
</section>
<section id="_CPPv4NK5BView17ConvertFromScreenE6BPoint">
</section>
<h3>
ConvertToScreen(), ConvertFromScreen()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BPoint</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConvertToScreen</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">localPoint</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConvertToScreen</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">localPoint</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><span class="n">BRect</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConvertToScreen</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">localRect</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConvertToScreen</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">localRect</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BPoint</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConvertFromScreen</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">screenPoint</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConvertFromScreen</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">screenPoint</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><span class="n">BRect</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConvertFromScreen</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">screenRect</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConvertFromScreen</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">screenRect</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p><span class="hmethod">ConvertToScreen()</span> converts
<span class="hparameter">localPoint</span> or <span class="hparameter">localRect</span> from the <span class="hclass">BView</span>’s
coordinate system to the global screen coordinate system.
<span class="hmethod">ConvertFromScreen()</span> makes the opposite conversion; it converts
<span class="hparameter">screenPoint</span> or <span class="hparameter">screenRect</span> from the screen coordinate system to the
<span class="hclass">BView</span>’s local coordinate system.</p>
<p>If the point or rectangle is passed by value, the function returns the
converted value. If a pointer is passed, the conversion is done in place.</p>
<p>The screen coordinate system has its origin, (0.0, 0.0), at the left top
corner of the main screen.</p>
<p>Neither function will work if the <span class="hclass">BView</span> isn’t attached to a window.</p>
<p>See also:
<a class="reference internal" href="window.html#_CPPv4NK7BWindow15ConvertToScreenE6BPoint" title="BWindow::ConvertToScreen"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BWindow::ConvertToScreen()</span></code></a>,
<a class="reference internal" href="#_CPPv4NK5BView15ConvertToParentE6BPoint" title="BView::ConvertToParent"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ConvertToParent()</span></code></a></p>
<section id="_CPPv4NK5BView5FrameEv">
</section>
<h3>
Frame()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BRect</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">Frame</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Returns the <span class="hclass">BView</span>’s frame rectangle. The frame rectangle is first set by
the <span class="hclass">BView</span> constructor and is altered only when the view is moved or
resized. It’s stated in the coordinate system of the <span class="hclass">BView</span>’s parent.</p>
<section id="_CPPv4N5BView4HideEv">
</section>
<section id="_CPPv4N5BView4ShowEv">
</section>
<h3>
Hide(), Show()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">Hide</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">Show</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>These functions hide a view and show it again.</p>
<p><span class="hmethod">Hide()</span> makes the view invisible without removing it from the view
hierarchy. The visible region of the view will be empty and the <span class="hclass">BView</span>
won’t receive update messages. If the <span class="hclass">BView</span> has children, they also are
hidden.</p>
<p><span class="hmethod">Show()</span> unhides a view that had been hidden. This function doesn’t
guarantee that the view will be visible to the user; it merely undoes the
effects of <span class="hmethod">Hide()</span>. If the view didn’t have any visible area before being
hidden, it won’t have any after being shown again (given the same
conditions).</p>
<p>Calls to <span class="hmethod">Hide()</span> and <span class="hmethod">Show()</span>
can be nested. For a hidden view to become
visible again, the number of <span class="hmethod">Hide()</span> calls must be matched by an equal
number of <span class="hmethod">Show()</span> calls.</p>
<p>However, <span class="hmethod">Show()</span> can only undo a previous <span class="hmethod">Hide()</span> call on the same view. If
the view became hidden when <span class="hmethod">Hide()</span> was called to hide the window it’s in
or to hide one of its ancestors in the view hierarchy, calling <span class="hmethod">Show()</span> on
the view will have no effect. For a view to come out of hiding, its
window and all its ancestor views must be unhidden.</p>
<p><span class="hmethod">Hide()</span> and <span class="hmethod">Show()</span>
can affect a view before it’s attached to a window. The
view will reflect its proper state (hidden or not) when it becomes
attached. Views are created in an unhidden state.</p>
<p>See also:
<a class="reference internal" href="window.html#_CPPv4N7BWindow4HideEv" title="BWindow::Hide"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BWindow::Hide()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView8IsHiddenEv" title="BView::IsHidden"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">IsHidden()</span></code></a></p>
<section id="_CPPv4N5BView7IsFocusEv">
</section>
<h3>
IsFocus()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">IsFocus</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code> if the <span class="hclass">BView</span>
is the current focus view for its window, and
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code> if it’s not. The focus view changes as the user chooses one view to
work in and then another—for example, as the user moves from one
text field to another when filling out an on-screen form. The change is
made programmatically through the
<a class="reference internal" href="#_CPPv4N5BView9MakeFocusEb" title="BView::MakeFocus"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MakeFocus()</span></code></a> function.</p>
<p>See also:
<a class="reference internal" href="window.html#_CPPv4NK7BWindow12CurrentFocusEv" title="BWindow::CurrentFocus"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BWindow::CurrentFocus()</span></code></a></p>
<section id="_CPPv4N5BView8IsHiddenEv">
</section>
<h3>
IsHidden()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">IsHidden</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code> if the view has been hidden by the
<a class="reference internal" href="#_CPPv4N5BView4HideEv" title="BView::Hide"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Hide()</span></code></a> function, and
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code> otherwise.</p>
<p>This function returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code> whether
<a class="reference internal" href="#_CPPv4N5BView4HideEv" title="BView::Hide"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Hide()</span></code></a>
was called to hide the <span class="hclass">BView</span>
itself, to hide an ancestor view, or to hide the <span class="hclass">BView</span>’s window. When a
window is hidden, all its views are hidden with it. When a <span class="hclass">BView</span> is
hidden, all its descendants are hidden with it.</p>
<p>If the view has no visible region—perhaps because it lies outside
its parent’s frame rectangle or is obscured by a window in
front—this function may nevertheless return <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code>. It reports only
whether the <a class="reference internal" href="#_CPPv4N5BView4HideEv" title="BView::Hide"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Hide()</span></code></a>
function has been called to hide the view, hide one of
the view’s ancestors in the view hierarchy, or hide the window where the
view is located.</p>
<p>If the <span class="hclass">BView</span> isn’t attached to a window,
<span class="hmethod">IsHidden()</span> returns the state
that it will assume when it becomes attached. By default, views are not
hidden.</p>
<section id="_CPPv4NK5BView10IsPrintingEv">
</section>
<h3>
IsPrinting()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">IsPrinting</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code> if the <span class="hclass">BView</span>
is being asked to draw for the printer, and
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code> if the drawing it produces will be rendered on-screen (or if the
<span class="hclass">BView</span> isn’t being asked to draw at all).</p>
<p>This function’s result is only reliable when called from within
<a class="reference internal" href="#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a> or
<a class="reference internal" href="#_CPPv4N5BView17DrawAfterChildrenE5BRect" title="BView::DrawAfterChildren"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DrawAfterChildren()</span></code></a>
to determine whether the drawing it does is destined for
the printer or the screen. When drawing to the printer, the <span class="hclass">BView</span> may
choose different parameters—such as fonts, bitmap images, or
colors—than when drawing to the screen.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>You should avoid calling this function from outside
<a class="reference internal" href="#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a> and
<a class="reference internal" href="#_CPPv4N5BView17DrawAfterChildrenE5BRect" title="BView::DrawAfterChildren"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DrawAfterChildren()</span></code></a>;
however, if you absolutely have to do it, lock the view
first. Failure to do so may bring up the debugger—if not in BeOS 5,
it may in future versions of BeOS.</p>
</div>
<p>See also:
the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BPrintJob</span></code> class</p>
<section id="_CPPv4NK5BView7LeftTopEv">
</section>
<h3>
LeftTop()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BPoint</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">LeftTop</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Returns the coordinates of the left top corner of the view—the
smallest x and y coordinate values within the bounds rectangle.</p>
<p>See also:
<a class="reference internal" href="rect.html#_CPPv4NK5BRect7LeftTopEv" title="BRect::LeftTop"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BRect::LeftTop()</span></code></a>,
<a class="reference internal" href="#_CPPv4NK5BView6BoundsEv" title="BView::Bounds"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Bounds()</span></code></a></p>
<section id="_CPPv4N5BView6MoveByEff">
</section>
<section id="_CPPv4N5BView6MoveToE6BPoint">
</section>
<h3>
MoveBy(), MoveTo()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">MoveBy</span><span class="sig-paren">(</span><span class="kt">float</span><span class="w"> </span><span class="n sig-param">horizontal</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">vertical</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">MoveTo</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">point</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">MoveTo</span><span class="sig-paren">(</span><span class="kt">float</span><span class="w"> </span><span class="n sig-param">x</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">y</span><span class="sig-paren">)</span></pre><p>These functions move the view in its parent’s coordinate system without
altering its size.</p>
<p><span class="hmethod">MoveBy()</span> adds <span class="hparameter">horizontal</span> coordinate units to the left and right
components of the frame rectangle and <span class="hparameter">vertical</span> units to the top and
bottom components. If <span class="hparameter">horizontal</span> and
<span class="hparameter">vertical</span> are positive, the view
moves downward and to the right. If they’re negative, it moves upward and
to the left.</p>
<p><span class="hmethod">MoveTo()</span> moves the upper left corner of the view
to <span class="hparameter">point</span> or to (<span class="hparameter">x</span>, <span class="hparameter">y</span>)
in the parent view’s coordinate system and adjusts all
coordinates in the frame rectangle accordingly.</p>
<p>Neither function alters the <span class="hclass">BView</span>’s bounds rectangle or coordinate system.</p>
<p>None of the values passed to these functions should specify fractional
coordinates; the sides of a view must line up on screen pixels.
Fractional values will be rounded to the closest whole number.</p>
<p>If the <span class="hclass">BView</span> is attached to a window, these functions cause its parent
view to be updated, so the <span class="hclass">BView</span> is immediately displayed in its new
location. If it doesn’t have a parent or isn’t attached to a window,
these functions merely alter its frame rectangle.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView10FrameMovedE6BPoint" title="BView::FrameMoved"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">FrameMoved()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView8ResizeByEff" title="BView::ResizeBy"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ResizeBy()</span></code></a>,
<a class="reference internal" href="#_CPPv4NK5BView5FrameEv" title="BView::Frame"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Frame()</span></code></a></p>
<section id="_CPPv4N5BView8ResizeByEff">
</section>
<section id="_CPPv4N5BView8ResizeToEff">
</section>
<h3>
ResizeBy(), ResizeTo()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ResizeBy</span><span class="sig-paren">(</span><span class="kt">float</span><span class="w"> </span><span class="n sig-param">horizontal</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">vertical</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ResizeTo</span><span class="sig-paren">(</span><span class="kt">float</span><span class="w"> </span><span class="n sig-param">width</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">height</span><span class="sig-paren">)</span></pre><p>These functions resize the view, without moving its left and top sides.
<span class="hmethod">ResizeBy()</span> adds <span class="hparameter">horizontal</span>
coordinate units to the width of the view and
<span class="hparameter">vertical</span> units to the height.
<span class="hmethod">ResizeTo()</span> makes the view <span class="hparameter">width</span> units wide
and <span class="hparameter">height</span> units high. Both functions adjust the right and bottom
components of the frame rectangle accordingly.</p>
<p>Since a <span class="hclass">BView</span>’s frame rectangle must be aligned on screen pixels, only
integral values should be passed to these functions. Values with
fractional components will be rounded to the nearest whole integer.</p>
<p>If the <span class="hclass">BView</span> is attached to a window, these functions cause its parent
view to be updated, so the <span class="hclass">BView</span> is immediately displayed in its new
size. If it doesn’t have a parent or isn’t attached to a window, these
functions merely alter its frame and bounds rectangles.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>If the view isn’t attached to a window, its frame and bounds rectangles
are adjusted, but its children, if any, don’t get corresponding
adjustments.</p>
</div>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView12FrameResizedEff" title="BView::FrameResized"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">FrameResized()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView6MoveByEff" title="BView::MoveBy"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MoveBy()</span></code></a>,
<a class="reference internal" href="#_CPPv4NK5BView5FrameEv" title="BView::Frame"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Frame()</span></code></a>,
<a class="reference internal" href="rect.html#_CPPv4NK5BRect5WidthEv" title="BRect::Width"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BRect::Width()</span></code></a></p>
<section id="_CPPv4N5BView8SetFlagsE6uint32">
</section>
<section id="_CPPv4NK5BView5FlagsEv">
</section>
<h3>
SetFlags(), Flags()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetFlags</span><span class="sig-paren">(</span><span class="n">uint32</span><span class="w"> </span><span class="n sig-param">mask</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">uint32</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">Flags</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions set and return the flags that inform the Application
Server about the kinds of notifications the <span class="hclass">BView</span> should receive. The
mask set by <span class="hmethod">SetFlags()</span> and the return value of
<span class="hmethod">Flags()</span> is formed from
combinations of the following constants:</p>
<ul class="simple">
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_WILL_DRAW</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FULL_UPDATE_ON_RESIZE</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FRAME_EVENTS</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_PULSE_NEEDED</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_NAVIGABLE</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_NAVIGABLE_JUMP</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_SUBPIXEL_PRECISE</span></code></p></li>
</ul>
<p>The flags are first set when the <span class="hclass">BView</span> is constructed; they’re explained
in the description of the <span class="hclass">BView</span> constructor. The mask can be 0.</p>
<p>To set just one of the flags, combine it with the current setting:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">myView</span><span class="o">-&gt;</span><span class="n">SetFlags</span><span class="p">(</span><span class="n">Flags</span><span class="p">()</span> <span class="o">|</span> <span class="n">B_FRAME_EVENTS</span><span class="p">);</span>
</pre></div>
</div>
<p>See also:
The <span class="hclass">BView</span> <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Constructor()</span></code>,
<a class="reference internal" href="#_CPPv4N5BView15SetResizingModeE6uint32" title="BView::SetResizingMode"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetResizingMode()</span></code></a></p>
<section id="_CPPv4N5BView9SetOriginE6BPoint">
</section>
<section id="_CPPv4NK5BView6OriginEv">
</section>
<h3>
SetOrigin(), Origin()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetOrigin</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">pt</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetOrigin</span><span class="sig-paren">(</span><span class="kt">float</span><span class="w"> </span><span class="n sig-param">x</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">y</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BPoint</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">Origin</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Sets and retrieves the local origin of the <span class="hclass">BView</span>’s coordinate system.</p>
<p>The actual origin used by the Application Server is the sum of the local
origin (as set by this method) and the origins stored on the state stack
(properly scaled).</p>
<section id="_CPPv4N5BView15SetResizingModeE6uint32">
</section>
<section id="_CPPv4NK5BView12ResizingModeEv">
</section>
<h3>
SetResizingMode(), ResizingMode()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetResizingMode</span><span class="sig-paren">(</span><span class="n">uint32</span><span class="w"> </span><span class="n sig-param">mode</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">uint32</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ResizingMode</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions set and return the <span class="hclass">BView</span>’s automatic
resizing mode. The resizing mode is first set when the
<span class="hclass">BView</span> is constructed. The various possible modes are
explained where the <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Constructor()</span></code> is
described.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView8SetFlagsE6uint32" title="BView::SetFlags"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFlags()</span></code></a></p>
<section id="_CPPv4NK5BView13SetViewCursorEPK7BCursorb">
</section>
<h3>
SetViewCursor()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetViewCursor</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BCursor</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">cursor</span>, <span class="kt">bool</span><span class="w"> </span><span class="n sig-param">sync</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Sets the specified <span class="hparameter">cursor</span> as the view’s cursor; while the mouse is inside
the view, this cursor will be displayed (unless of course the cursor is
hidden or obscured).</p>
<p>If <span class="hparameter">sync</span> is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>, the
Application Server will be synchronized by this call, forcing the change to
take place immediately. If <span class="hparameter">sync</span> is
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code>, the change will take place when the Application
Server naturally gets to the change in its queue of pending requests.</p>
<section id="_CPPv4NK5BView6WindowEv">
</section>
<h3>
Window()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BWindow</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">Window</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Returns the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code>
to which the <span class="hclass">BView</span> belongs, or <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>
if the <span class="hclass">BView</span>
isn’t attached to a window. This function returns the same object that
<a class="reference internal" href="../application/handler.html#_CPPv4NK8BHandler6LooperEv" title="BHandler::Looper"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Looper()</span></code></a>
(inherited from the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BHandler</span></code>
class) does—except that
<span class="hmethod">Window()</span> returns it more specifically as a pointer to a
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code> and
<a class="reference internal" href="../application/handler.html#_CPPv4NK8BHandler6LooperEv" title="BHandler::Looper"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Looper()</span></code></a>
returns it more generally as a pointer to a
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BLooper</span></code>.</p>
<p>See also:
<a class="reference internal" href="../application/handler.html#_CPPv4NK8BHandler6LooperEv" title="BHandler::Looper"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BHandler::Looper()</span></code></a> in the Application Kit,
<a class="reference internal" href="#_CPPv4N5BView8AddChildEP5BViewP5BView" title="BView::AddChild"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AddChild()</span></code></a>,
<a class="reference internal" href="window.html#_CPPv4N7BWindow8AddChildEP5BViewP5BView" title="BWindow::AddChild"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BWindow::AddChild()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView16AttachedToWindowEv" title="BView::AttachedToWindow"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AttachedToWindow()</span></code></a></p>
</section>
<section id="view-hierarchy-functions">
<h2>View Hierarchy Functions<a class="headerlink" href="#view-hierarchy-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N5BView8AddChildEP5BViewP5BView">
</section>
<section id="_CPPv4N5BView11RemoveChildEP5BView">
</section>
<h3>
AddChild(), RemoveChild()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">AddChild</span><span class="sig-paren">(</span><span class="n">BView</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">aView</span>, <span class="n">BView</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">sibling</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">RemoveChild</span><span class="sig-paren">(</span><span class="n">BView</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">aView</span><span class="sig-paren">)</span></pre><p><span class="hmethod">AddChild()</span> makes <span class="hparameter">aView</span> a
child of the <span class="hclass">BView</span>, provided that <span class="hparameter">aView</span> doesn’t
already have a parent. The new child is added to the
<span class="hclass">BView</span>’s list of children immediately before the
named <span class="hparameter">sibling</span> <span class="hclass">BView</span>. If the
<span class="hparameter">sibling</span> is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code> (as it is by
default), <span class="hparameter">aView</span> isn’t added in front of any other
view—in other words, it’s added to the end of the list. If the
<span class="hclass">BView</span> is attached to a window,
<span class="hparameter">aView</span> and all its descendants become attached to the
same window. Each of them is notified of this change through
<a class="reference internal" href="#_CPPv4N5BView16AttachedToWindowEv" title="BView::AttachedToWindow"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AttachedToWindow()</span></code></a> and
<a class="reference internal" href="#_CPPv4N5BView11AllAttachedEv" title="BView::AllAttached"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AllAttached()</span></code></a>
function calls.</p>
<p><span class="hmethod">AddChild()</span> fails if <span class="hparameter">aView</span>
already belongs to a view hierarchy. A view can
live with only one parent at a time. It also fails if sibling is not
already a child of the <span class="hclass">BView</span>.</p>
<p><span class="hmethod">RemoveChild()</span> severs the link between the
<span class="hclass">BView</span> and <span class="hparameter">aView</span>, so that <span class="hparameter">aView</span>
is no longer a child of the <span class="hclass">BView</span>;
<span class="hparameter">aView</span> retains all its own children and
descendants, but they become an isolated fragment of a view hierarchy,
unattached to a window. Each removed view is notified of this change
through
<a class="reference internal" href="#_CPPv4N5BView18DetachedFromWindowEv" title="BView::DetachedFromWindow"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DetachedFromWindow()</span></code></a> and
<a class="reference internal" href="#_CPPv4N5BView11AllDetachedEv" title="BView::AllDetached"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AllDetached()</span></code></a>
function calls.</p>
<p>A <span class="hclass">BView</span> must be removed from a window before it can be destroyed.</p>
<p>If it succeeds in removing <span class="hparameter">aView</span>, <span class="hmethod">RemoveChild()</span>
returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>. If it
fails, it returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code>. It will fail if <span class="hparameter">aView</span>
is not, in fact, a current child of the <span class="hclass">BView</span>.</p>
<p>When a <span class="hclass">BView</span> object becomes attached to a
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code>, two other connections
are automatically established for it:</p>
<ul class="simple">
<li><p>The view is added to the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code>’s flat list of <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BHandler</span></code> objects, making it an eligible target for messages the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code> dispatches.</p></li>
<li><p>The <span class="hclass">BView</span>’s parent view becomes its next handler. Messages that the <span class="hclass">BView</span> doesn’t recognize will be passed to its parent.</p></li>
</ul>
<p>Removing a <span class="hclass">BView</span> from a window’s view hierarchy also removes it from the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code>’s flat list of
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BHandler</span></code>
objects; the <span class="hclass">BView</span> will no longer be
eligible to handle messages dispatched by the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code>.</p>
<p>See also:
<a class="reference internal" href="window.html#_CPPv4N7BWindow8AddChildEP5BViewP5BView" title="BWindow::AddChild"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BWindow::AddChild()</span></code></a>,
<a class="reference internal" href="../application/looper.html#_CPPv4N7BLooper10AddHandlerEP8BHandler" title="BLooper::AddHandler"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BLooper::AddHandler()</span></code></a>,
<a class="reference internal" href="../application/handler.html#_CPPv4N8BHandler14SetNextHandlerEP8BHandler" title="BHandler::SetNextHandler"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BHandler::SetNextHandler()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView10RemoveSelfEv" title="BView::RemoveSelf"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">RemoveSelf()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView16AttachedToWindowEv" title="BView::AttachedToWindow"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AttachedToWindow()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView18DetachedFromWindowEv" title="BView::DetachedFromWindow"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DetachedFromWindow()</span></code></a></p>
<section id="_CPPv4NK5BView8FindViewEPKc">
</section>
<h3>
FindView()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BView</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FindView</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">name</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Returns the <span class="hclass">BView</span> identified by <span class="hparameter">name</span>,
or <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code> if the view can’t be found.
Names are assigned by the <span class="hclass">BView</span> constructor and can be modified by the
<a class="reference internal" href="../application/handler.html#_CPPv4N8BHandler7SetNameEPKc" title="BHandler::SetName"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetName()</span></code></a> function inherited from
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BHandler</span></code>.</p>
<p><span class="hmethod">FindView()</span> begins the search by checking
whether the <span class="hclass">BView</span>’s name matches
<span class="hparameter">name</span>. If not, it continues to search down the view hierarchy, among the
<span class="hclass">BView</span>’s children and more distant descendants. To search the entire view
hierarchy, use the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code>
<a class="reference internal" href="window.html#_CPPv4NK7BWindow8FindViewEP6BPoint" title="BWindow::FindView"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">FindView()</span></code></a> of this function.</p>
<section id="_CPPv4NK5BView6ParentEv">
</section>
<section id="_CPPv4NK5BView11NextSiblingEv">
</section>
<section id="_CPPv4NK5BView15PreviousSiblingEv">
</section>
<section id="_CPPv4NK5BView7ChildAtE5int32">
</section>
<section id="_CPPv4NK5BView13CountChildrenEv">
</section>
<h3>
Parent(), NextSibling(), PreviousSibling(), ChildAt(), CountChildren()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BView</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">Parent</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BView</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">NextSibling</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BView</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">PreviousSibling</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BView</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ChildAt</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">index</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">int32</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">CountChildren</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions provide various ways of navigating the view hierarchy.
<span class="hmethod">Parent()</span> returns the <span class="hclass">BView</span>’s
parent view, unless the parent is the top
view of the window, in which case it returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>.
It also returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>
if the <span class="hclass">BView</span> doesn’t belong to a view hierarchy and has no parent.</p>
<p>All the children of the same parent are arranged in a linked list.
<span class="hmethod">NextSibling()</span> returns the next sibling of
the <span class="hclass">BView</span> in the list, or <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>
if the <span class="hclass">BView</span> is the last child of its parent.
<span class="hmethod">PreviousSibling()</span> returns
the previous sibling of the <span class="hclass">BView</span>, or <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>
if the <span class="hclass">BView</span> is the first
child of its parent.</p>
<p><span class="hmethod">ChildAt()</span> returns the view at <span class="hparameter">index</span>
in the list of the <span class="hclass">BView</span>’s children,
or <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code> if the <span class="hclass">BView</span> has no such child.
Indices begin at 0 and there are
no gaps in the list. <span class="hmethod">CountChildren()</span> returns the number of children the
<span class="hclass">BView</span> has. If the <span class="hclass">BView</span> has no
children, <span class="hmethod">CountChildren()</span> returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>, as
will <span class="hmethod">ChildAt()</span> for all indices, including 0.</p>
<p>To scan the list of a <span class="hclass">BView</span>’s children, you can increment the <span class="hparameter">index</span>
passed to <span class="hmethod">ChildAt()</span> until it returns
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>. However, it’s more efficient
to ask for the first child and then use <span class="hmethod">NextSibling()</span> to walk down the
sibling list. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BView</span> <span class="o">*</span><span class="n">child</span><span class="p">;</span>
<span class="k">if</span> <span class="p">(</span> <span class="n">child</span> <span class="o">=</span> <span class="n">myView</span><span class="o">-&gt;</span><span class="n">ChildAt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
   <span class="k">while</span> <span class="p">(</span> <span class="n">child</span> <span class="p">)</span> <span class="p">{</span>
      <span class="o">.</span> <span class="o">.</span> <span class="o">.</span>
      <span class="n">child</span> <span class="o">=</span> <span class="n">child</span><span class="o">-&gt;</span><span class="n">NextSibling</span><span class="p">();</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="_CPPv4N5BView10RemoveSelfEv">
</section>
<h3>
RemoveSelf()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">RemoveSelf</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Removes the <span class="hclass">BView</span> from its parent and returns
<span class="hparameter">true</span>, or returns <span class="hparameter">false</span> if
the <span class="hclass">BView</span> doesn’t have a parent or for some reason can’t be removed from
the view hierarchy.</p>
<p>This function acts just like
<a class="reference internal" href="#_CPPv4N5BView11RemoveChildEP5BView" title="BView::RemoveChild"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">RemoveChild()</span></code></a>,
except that it removes the
<span class="hclass">BView</span> itself rather than one of its children.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView8AddChildEP5BViewP5BView" title="BView::AddChild"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AddChild()</span></code></a></p>
</section>
<section id="input-related-functions">
<h2>Input Related Functions<a class="headerlink" href="#input-related-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N5BView17BeginRectTrackingE5BRect6uint32">
</section>
<section id="_CPPv4N5BView15EndRectTrackingEv">
</section>
<h3>
BeginRectTracking(), EndRectTracking()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">BeginRectTracking</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">rect</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">how</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_TRACK_WHOLE_RECT</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">EndRectTracking</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>These functions instruct the Application Server to display a rectangular
outline that will track the movement of the cursor.
<span class="hmethod">BeginRectTracking()</span>
puts the rectangle on-screen and initiates tracking;
<span class="hmethod">EndRectTracking()</span>
terminates tracking and removes the rectangle. The initial rectangle,
<span class="hparameter">rect</span>, is specified in the <span class="hclass">BView</span>’s coordinate system.</p>
<p>This function supports two kinds of tracking, depending on the constant
passed as the <span class="hparameter">how</span> argument:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Constant</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_TRACK_WHOLE_RECT</span></code></p></td>
<td><p>The whole rectangle moves with the cursor. Its position changes, but its size remains fixed.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_TRACK_RECT_CORNER</span></code></p></td>
<td><p>The left top corner of the rectangle remains fixed within the view while its right and bottom edges move with the cursor.</p></td>
</tr>
</tbody>
</table>
<p>Tracking is typically initiated from within a <span class="hclass">BView</span>’s
<a class="reference internal" href="#_CPPv4N5BView9MouseDownE6BPoint" title="BView::MouseDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MouseDown()</span></code></a>
function and is terminated in
<a class="reference internal" href="#_CPPv4N5BView7MouseUpE6BPoint" title="BView::MouseUp"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MouseUp()</span></code></a></p>
<section id="_CPPv4N5BView11DragMessageEP8BMessage5BRectP8BHandler">
</section>
<h3>
DragMessage()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DragMessage</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span>, <span class="n">BRect</span><span class="w"> </span><span class="n sig-param">rect</span>, <span class="n">BHandler</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">replyTarget</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DragMessage</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span>, <span class="n">BBitmap</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">bitmap</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">point</span>, <span class="n">BHandler</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">replyTarget</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DragMessage</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span>, <span class="n">BBitmap</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">image</span>, <span class="n">drawing_mode</span><span class="w"> </span><span class="n sig-param">dragMode</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">offset</span>, <span class="n">BHandler</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">replyTarget</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span></pre><p>Initiates a drag-and-drop session.</p>
<p><span class="hparameter">message</span>, is a
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code>
object that bundles the information that will be
dragged and dropped on the destination view. The caller retains
responsibility for this object and can delete it after <span class="hmethod">DragMessage()</span>
returns (the <span class="hclass">BView</span> makes a copy of the message).</p>
<p><span class="hparameter">image</span>, is a bitmap that the user can drag. The bitmap is automatically
freed when the message is dropped.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>1 bit-per-pixel bitmaps aren’t supported; you should avoid using them.</p>
</div>
<p><span class="hparameter">point</span> locates the hotspot within image (in the bitmap’s coordinate
system). This is the point that’s aligned with the location passed to
<a class="reference internal" href="#_CPPv4N5BView9MouseDownE6BPoint" title="BView::MouseDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MouseDown()</span></code></a>
or returned by
<a class="reference internal" href="#_CPPv4N5BView8GetMouseEP6BPointP6uint32b" title="BView::GetMouse"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetMouse()</span></code></a>.</p>
<p><span class="hparameter">rect</span> defines the dimensions of an outline rectangle that you can instead
of a bitmap. The rectangle is stated in the <span class="hclass">BView</span>’s coordinate system.</p>
<p><span class="hparameter">replyTarget</span>, names the object that you want to handle a message that
might be sent in reply to the dragged message. If
<span class="hparameter">replyTarget</span> is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>, as
it is by default, any reply that’s received will be directed to the <span class="hclass">BView</span>
object that initiated the drag-and-drop session.</p>
<p><span class="hparameter">dragMode</span> defines the drawing_mode
which will be used to draw image as the
image is dragged around. This is provided primarily so that transparent
or partially transparent images can be dragged around (using the
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_ALPHA</span></code> drawing mode).</p>
<p>This function works only for <span class="hclass">BView</span>
objects that are attached to a window.</p>
<section id="_CPPv4N5BView8GetMouseEP6BPointP6uint32b">
</section>
<h3>
GetMouse()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">GetMouse</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">cursor</span>, <span class="n">uint32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">buttons</span>, <span class="kt">bool</span><span class="w"> </span><span class="n sig-param">checkQueue</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="sig-paren">)</span></pre><p>Provides the location of the cursor and the state of the mouse buttons.
The position of the cursor is recorded in the variable referred to by
<span class="hparameter">cursor</span>; it’s provided in the
<span class="hclass">BView</span>’s own coordinates. A bit is set in the
variable referred to by <span class="hparameter">buttons</span> for each mouse button that’s down. This
mask may be 0 (if no buttons are down) or it may contain one or more of
the following constants:</p>
<ul class="simple">
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_PRIMARY_MOUSE_BUTTON</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_SECONDARY_MOUSE_BUTTON</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_TERTIARY_MOUSE_BUTTON</span></code></p></li>
</ul>
<p>The cursor doesn’t have to be located within the view for this function
to work; it can be anywhere on-screen. However, the <span class="hclass">BView</span> must be
attached to a window.</p>
<p>If the <span class="hparameter">checkQueue</span> flag is set to <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code>,
<span class="hmethod">GetMouse()</span> provides information
about the current state of the mouse buttons and the current location of
the cursor.</p>
<p>If <span class="hparameter">checkQueue</span> is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>, as it
is by default, this function first looks in
the message queue for any pending reports of mouse-moved or mouse-up
events. If it finds any, it takes the one that has been in the queue the
longest (the oldest message), removes it from the queue, and reports the
cursor location and button states that were recorded in the message. Each
<span class="hmethod">GetMouse()</span> call removes another message from the queue. If the queue
doesn’t hold any <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_MOUSE_MOVED</span></code> or <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_MOUSE_UP</span></code>
messages, <span class="hmethod">GetMouse()</span> reports
the current state of the mouse and cursor, just as if <span class="hparameter">checkQueue</span> were
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code>.</p>
<p>If <span class="hparameter">checkQueue</span> is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>,
and the view’s parent window has pending update
events, <span class="hmethod">GetMouse()</span> causes those update events to be processed.</p>
<p>You shouldn’t use this function to track the mouse; implement the
<a class="reference internal" href="#_CPPv4N5BView10MouseMovedE6BPoint6uint32PK8BMessage" title="BView::MouseMoved"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MouseMoved()</span></code></a> function instead.</p>
<p>See also:
<span class="xref std std-ref">modifiers()</span></p>
<section id="_CPPv4N5BView9MakeFocusEb">
</section>
<h3>
MakeFocus()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">MakeFocus</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">focused</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="sig-paren">)</span></pre><p>Makes the <span class="hclass">BView</span> the current focus view for its
window (if the <span class="hparameter">focused</span>
flag is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>), or causes it to give up that status
(if <span class="hparameter">focused</span> is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code>).
The focus view is the view that displays the current selection and is
expected to handle reports of key-down events when the window is the
active window. There can be no more than one focus view per window at a
time.</p>
<p>When called to make a <span class="hclass">BView</span> the focus view, this function invokes
<span class="hmethod">MakeFocus()</span> for the previous focus view,
passing it an argument of <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code>.
It’s thus called twice—once for the new and once for the old focus
view.</p>
<p>Calling <span class="hmethod">MakeFocus()</span> is the only way to make a view the focus view; the
focus doesn’t automatically change on mouse-down events. <span class="hclass">BView</span>s that can
display the current selection (including an insertion point) or that can
accept pasted data should call <span class="hmethod">MakeFocus()</span>in their
<a class="reference internal" href="#_CPPv4N5BView9MouseDownE6BPoint" title="BView::MouseDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MouseDown()</span></code></a> functions.</p>
<p>A derived class can override <span class="hmethod">MakeFocus()</span> to add code that takes note of
the change in status. For example, a <span class="hclass">BView</span> that displays selectable data
may want to highlight the current selection when it becomes the focus
view, and remove the highlighting when it’s no longer the focus view. A
<span class="hclass">BView</span> that participates in the keyboard navigation system should visually
indicate that it can be operated from the keyboard when it becomes the
focus view, and remove that indication when the user navigates to another
view and it’s notified that it’s no longer the focus view.</p>
<p>If the <span class="hclass">BView</span> isn’t attached to a window, this function has no effect.</p>
<p>See also:
<a class="reference internal" href="window.html#_CPPv4NK7BWindow12CurrentFocusEv" title="BWindow::CurrentFocus"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BWindow::CurrentFocus()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView7IsFocusEv" title="BView::IsFocus"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">IsFocus()</span></code></a></p>
<section id="_CPPv4NK5BView9ScrollBarE11orientation">
</section>
<h3>
ScrollBar()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BScrollBar</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ScrollBar</span><span class="sig-paren">(</span><span class="n">orientation</span><span class="w"> </span><span class="n sig-param">posture</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Returns a <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BScrollBar</span></code>
object that scrolls the <span class="hclass">BView</span> (that has the <span class="hclass">BView</span> as
its target). The requested scroll bar has the <span class="hparameter">posture</span>
orientation—<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_VERTICAL</span></code> or <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_HORIZONTAL</span></code>.
If the <span class="hclass">BView</span> isn’t the
target of a scroll bar with the specified orientation, this function
returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p>See also:
<a class="reference internal" href="scroll-bar.html#_CPPv4N10BScrollBar9SetTargetEP5BView" title="BScrollBar::SetTarget"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BScrollBar::SetTarget()</span></code></a></p>
<section id="_CPPv4N5BView8ScrollByEff">
</section>
<section id="_CPPv4N5BView8ScrollToE6BPoint">
</section>
<h3>
ScrollBy(), ScrollTo()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ScrollBy</span><span class="sig-paren">(</span><span class="kt">float</span><span class="w"> </span><span class="n sig-param">horizontal</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">vertical</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ScrollTo</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">point</span><span class="sig-paren">)</span><br /><span class="k">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ScrollTo</span><span class="sig-paren">(</span><span class="kt">float</span><span class="w"> </span><span class="n sig-param">x</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">y</span><span class="sig-paren">)</span></pre><p>These functions scroll the contents of the view, provided that the <span class="hclass">BView</span>
is attached to a window.</p>
<p><span class="hmethod">ScrollBy()</span> adds <span class="hparameter">horizontal</span>
to the left and right components of the
<span class="hclass">BView</span>’s bounds rectangle, and <span class="hparameter">vertical</span>
to the top and bottom components.
This serves to shift the display <span class="hparameter">horizontal</span> coordinate units to the left
and <span class="hparameter">vertical</span> units upward. If <span class="hparameter">horizontal</span>
and <span class="hparameter">vertical</span> are negative, the
display shifts in the opposite direction.</p>
<p><span class="hmethod">ScrollTo()</span> shifts the contents of the view as much as necessary to put
<span class="hparameter">point</span>—or
(<span class="hparameter">x</span>, <span class="hparameter">y</span>)—at the upper left corner of its bounds
rectangle. The point is specified in the <span class="hclass">BView</span>’s coordinate system.</p>
<p>Anything in the view that was visible before scrolling and also visible
afterwards is automatically redisplayed at its new location. The
remainder of the view is invalidated, so the <span class="hclass">BView</span>’s
<a class="reference internal" href="#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a> function will
be called to fill in those parts of the display that were previously
invisible. The update rectangle passed to
<a class="reference internal" href="#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a> will be the smallest
possible rectangle that encloses just these new areas. If the view is
scrolled in only one direction, the update rectangle will be exactly the
area that needs to be drawn.</p>
<p>If the <span class="hclass">BView</span> is the target of scroll bars,
<span class="hmethod">ScrollBy()</span> and <span class="hmethod">ScrollTo()</span>
notify the <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BScrollBar()</span></code>
objects of the change in the display so they can
update themselves to match. If the contents were scrolled horizontally,
they call the horizontal
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BScrollBar()</span></code>’s
<a class="reference internal" href="scroll-bar.html#_CPPv4N10BScrollBar8SetValueEf" title="BScrollBar::SetValue"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetValue()</span></code></a> function and pass it the
new value of the left side of the bounds rectangle. If they were scrolled
vertically, they call
<a class="reference internal" href="scroll-bar.html#_CPPv4N10BScrollBar8SetValueEf" title="BScrollBar::SetValue"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetValue()</span></code></a>
for the vertical
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BScrollBar()</span></code>
and pass it the new value of the top of the bounds rectangle.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">inline</span></code> version of <span class="hmethod">ScrollTo()</span>
works by creating a <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BPoint</span></code> object and
passing it to the version that’s declared <code class="docutils literal notranslate"><span class="pre">virtual</span></code>. Therefore, if you want
to override either function, you should override the <code class="docutils literal notranslate"><span class="pre">virtual</span></code> version.
(However, due to the peculiarities of C++, overriding any version of an
overloaded function hides all versions of the function. For continued
access to the nonvirtual version without explicitly specifying the
“BView::” prefix, simply copy the <code class="docutils literal notranslate"><span class="pre">inline</span></code> code from
interface/View.h into
the derived class.)</p>
<section id="_CPPv4N5BView12SetEventMaskE6uint326uint32">
</section>
<section id="_CPPv4N5BView17SetMouseEventMaskE6uint326uint32">
</section>
<section id="_CPPv4N5BView9EventMaskEv">
</section>
<h3>
SetEventMask(), SetMouseEventMask(), EventMask()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetEventMask</span><span class="sig-paren">(</span><span class="n">uint32</span><span class="w"> </span><span class="n sig-param">events</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">options</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetMouseEventMask</span><span class="sig-paren">(</span><span class="n">uint32</span><span class="w"> </span><span class="n sig-param">events</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">options</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">uint32</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">EventMask</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p><span class="hmethod">SetEventMask()</span> lets you extend the scope of the mouse and keyboard events
that the view can receive. If <span class="hparameter">events</span> includes
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_POINTER_EVENTS</span></code>, the view
will receive mouse events (aka pointer events) even when the mouse isn’t
over the view; if it includes <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_KEYBOARD_EVENTS</span></code>, the view will receive
keyboard events even if the view isn’t in focus. (We’ll look at the
options argument below).</p>
<p><span class="hmethod">SetMouseEventMask()</span> does the same thing as
<span class="hmethod">SetEventMask()</span>, except (1) it
can only be called from within an implementation of
<a class="reference internal" href="#_CPPv4N5BView9MouseDownE6BPoint" title="BView::MouseDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MouseDown()</span></code></a>, and (2)
the new <span class="hparameter">events</span> value—which is added to the current event
mask—is only in effect until (and including) the following mouse up
event. When the mouse is released, the view’s previous event mask (as set
through <span class="hmethod">SetEventMask()</span>) is re-established.</p>
<p>The <span class="hparameter">option</span> arguments lets you request other event-handling modifications
(note that <span class="hmethod">SetEventMask()</span> only accepts the first of these options;
<span class="hmethod">SetMouseEventMask()</span> accepts all three):</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Constant</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_NO_POINTER_HISTORY</span></code>.</p></td>
<td><p>This tells the App Server to only send the most recent pointer moved (i.e. mouse moved) event to your view (all “old” events are thrown away). You use this option if your <a class="reference internal" href="#_CPPv4N5BView10MouseMovedE6BPoint6uint32PK8BMessage" title="BView::MouseMoved"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MouseMoved()</span></code></a> implementation is too heavy to keep up with the mouse moved messages that are pouring in. Of course, your view may lose some mouse movement granularity, but that’s the price you pay to stay in synch with the user.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_SUSPEND_VIEW_FOCUS</span></code></p></td>
<td><p>(<span class="hmethod">SetMouseEventMask()</span> only). Events that are normally sent to the focus view are suppressed. In practice, this means that while the mouse is held down, the keyboard is turned off. Note that the view that’s processing the <a class="reference internal" href="#_CPPv4N5BView9MouseDownE6BPoint" title="BView::MouseDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MouseDown()</span></code></a> messages doesn’t have to be the focus view to suppress focused messages.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_LOCK_WINDOW_FOCUS</span></code></p></td>
<td><p>(<span class="hmethod">SetMouseEventMask()</span> only). Prevents the view’s window from losing focused status while the mouse is down, even if the mouse leaves the window’s bounds.</p></td>
</tr>
</tbody>
</table>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>To ask for an option without changing the event mask (or mouse event
mask), pass 0 as the events argument.</p>
</div>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>Both <span class="hmethod">SetEventMask()</span> and
<span class="hmethod">SetMouseEventMask()</span> require that the view be
attached to a window; they have no effect if the view isn’t already
attached.</p>
</div>
<p><span class="hmethod">EventMask()</span> returns the view’s event mask as set through
<span class="hmethod">SetEventMask()</span>.
It doesn’t consider the mask set in <span class="hmethod">SetMouseEventMask()</span>.</p>
</section>
<section id="graphics-state-functions">
<h2>Graphics State Functions<a class="headerlink" href="#graphics-state-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N5BView9MovePenByEff">
</section>
<section id="_CPPv4N5BView9MovePenToE6BPoint">
</section>
<section id="_CPPv4NK5BView11PenLocationEv">
</section>
<h3>
MovePenBy(), MovePenTo(), PenLocation()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">MovePenBy</span><span class="sig-paren">(</span><span class="kt">float</span><span class="w"> </span><span class="n sig-param">horizontal</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">vertical</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">MovePenTo</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">point</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">MovePenTo</span><span class="sig-paren">(</span><span class="kt">float</span><span class="w"> </span><span class="n sig-param">x</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">y</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BPoint</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">PenLocation</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions move the pen (without drawing a line) and report the
current pen location.</p>
<p><span class="hmethod">MovePenBy()</span> moves the pen <span class="hparameter">horizontal</span>
coordinate units to the right and <span class="hparameter">vertical</span> units downward.
If <span class="hparameter">horizontal</span> or <span class="hparameter">vertical</span> are negative, the pen
moves in the opposite direction. <span class="hmethod">MovePenTo()</span> moves the pen to
<span class="hparameter">point</span>—or to (<span class="hparameter">x</span>, <span class="hparameter">y</span>)—in
the <span class="hclass">BView</span>’s coordinate system.</p>
<p>Some drawing functions also move the pen—to the end of whatever
they draw. In particular, this is true of
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">StrokeLine()</span></code>,
<a class="reference internal" href="#_CPPv4N5BView10DrawStringEPKcP16escapement_delta" title="BView::DrawString"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DrawString()</span></code></a>, and
<a class="reference internal" href="#_CPPv4N5BView8DrawCharEc" title="BView::DrawChar"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DrawChar()</span></code></a>.
Functions that stroke a closed shape (such as
<a class="reference internal" href="#_CPPv4N5BView13StrokeEllipseE5BRect7pattern" title="BView::StrokeEllipse"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">StrokeEllipse()</span></code></a>)
don’t move the pen.</p>
<p>The pen location is a parameter of the <span class="hclass">BView</span>’s graphics environment,
which is maintained by both the Application Server and the <span class="hclass">BView</span>. If the
<span class="hclass">BView</span> doesn’t belong to a window,
<span class="hmethod">MovePenTo()</span> and <span class="hmethod">MovePenBy()</span> cache the
location, so that later, when the <span class="hclass">BView</span> becomes attached to a window, it
can be handed to the server to become the operable pen location for the
<span class="hclass">BView</span>. If the <span class="hclass">BView</span> belongs
to a window, these functions alter both the
server parameter and the client-side cache.</p>
<p><span class="hmethod">PenLocation()</span> returns the point where the pen is currently positioned in
the <span class="hclass">BView</span>’s coordinate system. Because of the cache, this shouldn’t
entail contacting the server. The default pen position is (0.0, 0.0).</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView10SetPenSizeEf" title="BView::SetPenSize"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetPenSize()</span></code></a></p>
<section id="_CPPv4N5BView9PushStateEv">
</section>
<section id="_CPPv4N5BView8PopStateEv">
</section>
<h3>
PushState(), PopState()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">PushState</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">PopState</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Saves and restores the state from the state stack. A state consists of
the following: local and global origins, local and global scales, drawing
mode, line cap and join modes, miter limit, pen size and location,
foreground and background color, stipple pattern, local and global
clipping regions, and the font context. When a state is saved to the
stack, a new state context is created, with a local scale of zero, a
local origin at (0,0), and no clipping region.</p>
<div class="warning admonition">
<p class="admonition-title">Warning</p>
<p>If the <span class="hclass">BView</span> isn’t attached to a window, these functions will crash the
application.</p>
</div>
<section id="_CPPv4N5BView11SetLineModeE8cap_mode9join_modef">
</section>
<section id="_CPPv4NK5BView11LineCapModeEv">
</section>
<section id="_CPPv4NK5BView12LineJoinModeEv">
</section>
<section id="_CPPv4NK5BView14LineMiterLimitEv">
</section>
<h3>
SetLineMode(), LineCapMode(), LineJoinMode(), LineMiterLimit()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetLineMode</span><span class="sig-paren">(</span><span class="n">cap_mode</span><span class="w"> </span><span class="n sig-param">lineCap</span>, <span class="n">join_mode</span><span class="w"> </span><span class="n sig-param">lineJoin</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">miterLimit</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_DEFAULT_MITER_LIMIT</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">cap_mode</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">LineCapMode</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">join_mode</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">LineJoinMode</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">float</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">LineMiterLimit</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These methods implement support for PostScript-style line cap and join
modes. The cap mode determines the shape of the endpoints of stroked
paths, while the join mode determines the shape of the corners of the
paths (i.e. where two lines meet).</p>
<p>The following values of cap_mode are defined:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Constant</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_ROUND_CAP</span></code></p></td>
<td><p>A semicircle is drawn around the endpoint. Its diameter is equal to the width of the line.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_BUTT_CAP</span></code></p></td>
<td><p>The line is squared off and does not extend beyond the endpoint.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_SQUARE_CAP</span></code></p></td>
<td><p>The line is squared off, extending past the endpoint for a distance equal to half the width of the line.</p></td>
</tr>
</tbody>
</table>
<p>Additionally, the following values of join_mode are defined:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Constant</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_ROUND_JOIN</span></code></p></td>
<td><p>Acts identically to <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_ROUND_CAP</span></code>, except applied to joins.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_MITER_JOIN</span></code></p></td>
<td><p>The lines are extended until they touch. If they meet at an angle greater than <code class="docutils literal notranslate"><span class="pre">2*arcsin(1/miterLimit)</span></code>, a bevel join is used instead.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_BEVEL_JOIN</span></code></p></td>
<td><p>Butt end caps are used at the common endpoint and the empty area between the caps is filled with a triangle.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_BUTT_JOIN</span></code></p></td>
<td><p>Acts identically to <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_BUTT_CAP</span></code>, except applied to joins.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_SQUARE_JOIN</span></code></p></td>
<td><p>Acts identically to <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_SQUARE_CAP</span></code>, except applied to joins.</p></td>
</tr>
</tbody>
</table>
<p><span class="hmethod">SetLineMode()</span> sets the line and join modes and the miter limit while
<span class="hmethod">LineCapMode()</span>, <span class="hmethod">LineJoinMode()</span>,
and <span class="hmethod">LineMiterLimit()</span> return them. The line
mode affects all of the <span class="hmethod">Stroke…()</span> methods except for
<a class="reference internal" href="#_CPPv4N5BView9StrokeArcE5BRectff7pattern" title="BView::StrokeArc"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">StrokeArc()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView13StrokeEllipseE5BRect7pattern" title="BView::StrokeEllipse"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">StrokeEllipse()</span></code></a>, and
<a class="reference internal" href="#_CPPv4N5BView15StrokeRoundRectE5BRectff7pattern" title="BView::StrokeRoundRect"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">StrokeRoundRect()</span></code></a>.</p>
<section id="_CPPv4N5BView8SetScaleEf">
</section>
<h3>
SetScale()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetScale</span><span class="sig-paren">(</span><span class="kt">float</span><span class="w"> </span><span class="n sig-param">ratio</span><span class="sig-paren">)</span></pre><p>Scales the coordinate system the view uses for drawing. The default scale
is 1.0; smaller ratio values reduce the size of the drawing coordinate
system; larger numbers magnify the system. For example, a ratio of 0.5
makes a subsequent drawing twice as small and moves the drawing closer to
the origin, and 2.0 makes it twice as big and moves it away, as shown
below.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>The scaling ratio only affects subsequent drawing operations! Changing
the scale doesn’t affect the graphics already displayed in the view, the
view’s frame rectangle and clipping region, the placement and size of
subviews, translation of mouse coordinates to and from view space, and so
forth.</p>
</div>
<p>Multiple <span class="hmethod">SetScale()</span> calls don’t compound within the same graphics state,
but they do compound across pushed states:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">aview</span><span class="o">-&gt;</span><span class="n">SetScale</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span>
<span class="n">aview</span><span class="o">-&gt;</span><span class="n">SetScale</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span>
<span class="o">/*</span> <span class="n">aview</span><span class="s1">&#39;s scaling is 0.5. */</span>
<span class="n">bview</span><span class="o">-&gt;</span><span class="n">SetScale</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span>
<span class="n">bview</span><span class="o">-&gt;</span><span class="n">PushState</span><span class="p">();</span>
<span class="n">bview</span><span class="o">-&gt;</span><span class="n">SetScale</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span>
<span class="o">/*</span> <span class="n">view</span><span class="s1">&#39;s scaling is 0.25. */</span>
</pre></div>
</div>
<div class="warning admonition">
<p class="admonition-title">Warning</p>
<p>The <span class="hclass">BView</span> must be attached to a window
before you call this function.</p>
</div>
<section id="_CPPv4N5BView10SetPenSizeEf">
</section>
<section id="_CPPv4NK5BView7PenSizeEv">
</section>
<h3>
SetPenSize(), PenSize()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetPenSize</span><span class="sig-paren">(</span><span class="kt">float</span><span class="w"> </span><span class="n sig-param">size</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">float</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">PenSize</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p><span class="hmethod">SetPenSize()</span> sets the size of the <span class="hclass">BView</span>’s pen—the graphics
parameter that determines the thickness of stroked lines—and
<span class="hmethod">PenSize()</span> returns the current pen size. The pen size is stated in
coordinate units, but is translated to a device-specific number of pixels
for each output device.</p>
<p>The pen tip can be thought of as a brush that’s centered on the line path
and held perpendicular to it. If the brush is broader than one pixel, it
paints roughly the same number of pixels on both sides of the path.</p>
<p>The default pen size is 1.0 coordinate unit. It can be set to any
nonnegative value, including 0.0. If set to 0.0, the size is translated
to one pixel for all devices. This guarantees that it will always draw
the thinnest possible line no matter what the resolution of the device.</p>
<p>Thus, lines drawn with pen sizes of 1.0 and 0.0 will look alike on the
screen (one pixel thick), but the line drawn with a pen size of 1.0 will
be 1/72 of an inch thick when printed, however many printer pixels that
takes, while the line drawn with a 0.0 pen size will be just one pixel
thick.</p>
<p>The pen size is a parameter of the <span class="hclass">BView</span>’s graphics
environment maintained by the Application Server and cached by the
<span class="hclass">BView</span>. If the <span class="hclass">BView</span> isn’t
attached to a window, <span class="hmethod">SetPenSize()</span> records the
size so that later, when the <span class="hclass">BView</span> is added to a
window and becomes known to the server, the cached value can automatically
be established as the operable pen size for the
<span class="hclass">BView</span>. If the <span class="hclass">BView</span> belongs
to a window, this function changes both the server and the cache.</p>
<p>See also:
“<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Drawing()</span></code>”
in the chapter overview,
<a class="reference internal" href="#_CPPv4N5BView9StrokeArcE5BRectff7pattern" title="BView::StrokeArc"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">StrokeArc()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView9MovePenByEff" title="BView::MovePenBy"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MovePenBy()</span></code></a></p>
<section id="_CPPv4N5BView12SetHighColorE9rgb_color">
</section>
<section id="_CPPv4NK5BView9HighColorEv">
</section>
<section id="_CPPv4N5BView11SetLowColorE9rgb_color">
</section>
<section id="_CPPv4NK5BView8LowColorEv">
</section>
<h3>
SetHighColor(), HighColor(), SetLowColor(), LowColor()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetHighColor</span><span class="sig-paren">(</span><span class="n">rgb_color</span><span class="w"> </span><span class="n sig-param">color</span><span class="sig-paren">)</span><br /><span class="k">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetHighColor</span><span class="sig-paren">(</span><span class="n">uchar</span><span class="w"> </span><span class="n sig-param">red</span>, <span class="n">uchar</span><span class="w"> </span><span class="n sig-param">green</span>, <span class="n">uchar</span><span class="w"> </span><span class="n sig-param">blue</span>, <span class="n">uchar</span><span class="w"> </span><span class="n sig-param">alpha</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">255</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">rgb_color</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">HighColor</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetLowColor</span><span class="sig-paren">(</span><span class="n">rgb_color</span><span class="w"> </span><span class="n sig-param">color</span><span class="sig-paren">)</span><br /><span class="k">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetLowColor</span><span class="sig-paren">(</span><span class="n">uchar</span><span class="w"> </span><span class="n sig-param">red</span>, <span class="n">uchar</span><span class="w"> </span><span class="n sig-param">green</span>, <span class="n">uchar</span><span class="w"> </span><span class="n sig-param">blue</span>, <span class="n">uchar</span><span class="w"> </span><span class="n sig-param">alpha</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">255</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">rgb_color</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">LowColor</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions set and return the current high and low colors of the
<span class="hclass">BView</span>. These colors combine to form a pattern that’s passed as an
argument to the <span class="hmethod">Stroke…()</span> and <span class="hmethod">Fill…()</span> drawing functions. The
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_SOLID_HIGH</span></code> pattern is the high color alone, and <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_SOLID_LOW</span></code> is the low
color alone.</p>
<p>The default high color is black—red, green, and blue values all
equal to 0. The default low color is white—red, green, and blue
values all equal to 255.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">inline</span></code> versions of <span class="hmethod">SetHighColor()</span>
and <span class="hmethod">SetLowColor()</span> take separate
arguments for the red, blue, and green color components; they work by
creating an rgb_color data structure and passing it to the corresponding
function that’s declared <code class="docutils literal notranslate"><span class="pre">virtual</span></code>. Therefore, if you want to override
either function, you should override the virtual version. (However, due
to the peculiarities of C++, overriding any version of an overloaded
function hides all versions of the function. For continued access to the
nonvirtual version without explicitly specifying the “BView::” prefix,
simply copy the inline code from interface/View.h into the derived class.)</p>
<p>The high and low colors are parameters of the <span class="hclass">BView</span>’s graphics
environment, which is kept in the <span class="hclass">BView</span>’s shadow counterpart in the
Application Server and cached in the <span class="hclass">BView</span>.
If the <span class="hclass">BView</span> isn’t attached
to a window, <span class="hmethod">SetHighColor()</span> and
<span class="hmethod">SetLowColor()</span> cache the color value so
that later, when the <span class="hclass">BView</span> is placed in a window and becomes known to the
server, the cached value can automatically be registered as the current
high or low color for the view. If the <span class="hclass">BView</span> belongs to a window, these
functions alter both the client-side and the server-side values.</p>
<p><span class="hmethod">HighColor()</span> and <span class="hmethod">LowColor()</span>
return the <span class="hclass">BView</span>’s current high and low
colors. Because of the cache, this shouldn’t entail contacting the
Application Server.</p>
<p>See also:
“<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Drawing()</span></code>”
“in the <span class="xref std std-ref">Drawing</span>” section of this chapter,
<a class="reference internal" href="#_CPPv4N5BView12SetViewColorE9rgb_color" title="BView::SetViewColor"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetViewColor()</span></code></a></p>
<section id="_CPPv4N5BView12SetViewColorE9rgb_color">
</section>
<section id="_CPPv4NK5BView9ViewColorEv">
</section>
<h3>
SetViewColor(), ViewColor()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetViewColor</span><span class="sig-paren">(</span><span class="n">rgb_color</span><span class="w"> </span><span class="n sig-param">color</span><span class="sig-paren">)</span><br /><span class="k">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetViewColor</span><span class="sig-paren">(</span><span class="n">uchar</span><span class="w"> </span><span class="n sig-param">red</span>, <span class="n">uchar</span><span class="w"> </span><span class="n sig-param">green</span>, <span class="n">uchar</span><span class="w"> </span><span class="n sig-param">blue</span>, <span class="n">uchar</span><span class="w"> </span><span class="n sig-param">alpha</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">255</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">rgb_color</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ViewColor</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions set and return the view’s background color. This is the
color that’s displayed when a view is erased during an update, or when
the view is resized to expose new areas. The default view color is white
(255,255,255). If you don’t want the view to be erased in an update, set
the view color to <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_TRANSPARENT_COLOR</span></code>. (Despite the name this doesn’t
actually make the view transparent.)</p>
<p>The <code class="docutils literal notranslate"><span class="pre">inline</span></code> version of <span class="hmethod">SetViewColor()</span>
calls the <code class="docutils literal notranslate"><span class="pre">virtual</span></code> version. Thus,
overriding the <code class="docutils literal notranslate"><span class="pre">virtual</span></code> version affects both versions. However, due to the
peculiarities of C++, overriding any version of an overloaded function
hides all versions of the function. To fix this, simply copy the <code class="docutils literal notranslate"><span class="pre">inline</span></code>
code from View.h into your subclass.</p>
<p><span class="hmethod">ViewColor()</span> returns the current background color.</p>
<p>See also:
“<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Drawing()</span></code>” in the
“<span class="xref std std-ref">Drawing</span>” section of this chapter,
<a class="reference internal" href="#_CPPv4N5BView12SetHighColorE9rgb_color" title="BView::SetHighColor"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetHighColor()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView13SetViewBitmapEPK7BBitmap6uint326uint32" title="BView::SetViewBitmap"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetViewBitmap()</span></code></a></p>
<section id="_CPPv4N5BView15SetBlendingModeE12source_alpha14alpha_function">
</section>
<section id="_CPPv4N5BView15GetBlendingModeEP12source_alphaP14alpha_function">
</section>
<h3>
SetBlendingMode(), GetBlendingMode()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetBlendingMode</span><span class="sig-paren">(</span><span class="n">source_alpha</span><span class="w"> </span><span class="n sig-param">alphaSrcMode</span>, <span class="n">alpha_function</span><span class="w"> </span><span class="n sig-param">alphaFncMode</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">GetBlendingMode</span><span class="sig-paren">(</span><span class="n">source_alpha</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">alphaSrcMode</span>, <span class="n">alpha_function</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">alphaFncMode</span><span class="sig-paren">)</span></pre><p>These two functions set and retrieve the graphics state variables which
control the details of alpha transparency drawing. These variables will
have an effect on drawing in the view only if the drawing mode has been
set to <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_ALPHA</span></code> by
<a class="reference internal" href="#_CPPv4N5BView14SetDrawingModeE12drawing_mode" title="BView::SetDrawingMode"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetDrawingMode()</span></code></a>.</p>
<p><span class="hparameter">alphaSrcMode</span> is one of the following two constants, with associated
meanings:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Constant</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_CONSTANT_ALPHA</span></code></p></td>
<td><p>Use the alpha channel of the current high color as the transparency value for whatever is being drawn.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_PIXEL_ALPHA</span></code></p></td>
<td><p>When drawing a bitmap, use the alpha value associated with each pixel as the transparency value for that pixel. This can be used to obtain some interesting variable transparency effects.</p></td>
</tr>
</tbody>
</table>
<p><span class="hparameter">alphaFncMode</span> is one of the following two constants, with associated
meanings:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Constant</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_ALPHA_OVERLAY</span></code></p></td>
<td><p>The “normal” mode, used when drawing a transparent image or shape over an opaque background.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_ALPHA_COMPOSITE</span></code></p></td>
<td><p>Used when blending two or more transparent images together offscreen, to produce a new transparent image that will later be drawn onscreen using the <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_ALPHA_OVERLAY</span></code> setting.</p></td>
</tr>
</tbody>
</table>
<section id="_CPPv4N5BView14SetDrawingModeE12drawing_mode">
</section>
<section id="_CPPv4NK5BView11DrawingModeEv">
</section>
<h3>
SetDrawingMode(), DrawingMode()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetDrawingMode</span><span class="sig-paren">(</span><span class="n">drawing_mode</span><span class="w"> </span><span class="n sig-param">mode</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">drawing_mode</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawingMode</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions set and return the <span class="hclass">BView</span>’s drawing mode, which can be any
of the following eleven constants:</p>
<ul class="simple">
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_COPY</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_OVER</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_ERASE</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_INVERT</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_SELECT</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_ALPHA</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_MIN</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_MAX</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_ADD</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_SUBTRACT</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_BLEND</span></code></p></li>
</ul>
<p>The drawing mode is an element of the <span class="hclass">BView</span>’s graphics environment, which
both the Application Server and the <span class="hclass">BView</span>
keep track of. If the <span class="hclass">BView</span>
isn’t attached to a window, <span class="hmethod">SetDrawingMode()</span> caches the mode. When the
<span class="hclass">BView</span> is placed in a window and becomes known to the server, the cached
value is automatically set as the current drawing mode. If the <span class="hclass">BView</span>
belongs to a window, <span class="hmethod">SetDrawingMode()</span> makes the change in both the server
and the cache.</p>
<p><span class="hmethod">DrawingMode()</span> returns the current mode. Because of the cache, this
generally doesn’t entail a trip to the server.</p>
<p>The default drawing mode is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_COPY</span></code>. It and the other modes are
explained under
“<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Drawing()</span></code>” in the
“<span class="xref std std-ref">Drawing</span>”
section of this chapter.</p>
<section id="_CPPv4N5BView17ForceFontAliasingEb">
</section>
<h3>
ForceFontAliasing()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ForceFontAliasing</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">enable</span><span class="sig-paren">)</span></pre><p><span class="hmethod">ForceFontAliasing()</span> is used in conjunction with printing. When called
with a value of <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>, if causes subsequent printing to be done without
antialiasing printed characters. This is normally what is desired with
high-resolution printers, to guarantee that the edges of printed
characters appear sharp. Calling <span class="hmethod">ForceFontAliasing()</span> with an argument of
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code> turns antialiasing back on, which may be desirable with
lower-resolution printers.</p>
<p>Note that <span class="hmethod">ForceFontAliasing()</span> does not affect characters or strings drawn
to the screen.</p>
<p>See also:
The <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BPrintJob</span></code> class.</p>
<section id="_CPPv4NK5BView13GetFontHeightEP11font_height">
</section>
<h3>
GetFontHeight()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">GetFontHeight</span><span class="sig-paren">(</span><span class="n">font_height</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">fontHeight</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Gets the height of the <span class="hclass">BView</span>’s font. This function provides the same
information as <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFont</span></code>’s
<a class="reference internal" href="font.html#_CPPv4NK5BFont9GetHeightEP11font_height" title="BFont::GetHeight"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetHeight()</span></code></a>. The following code</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">font_height</span> <span class="n">height</span><span class="p">;</span>
<span class="n">myView</span><span class="o">-&gt;</span><span class="n">GetFontHeight</span><span class="p">(</span><span class="o">&amp;</span><span class="n">height</span><span class="p">);</span>
</pre></div>
</div>
<p>is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">font_height</span> <span class="n">height</span><span class="p">;</span>
<span class="n">BFont</span> <span class="n">font</span><span class="p">;</span>
<span class="n">myView</span><span class="o">-&gt;</span><span class="n">GetFont</span><span class="p">(</span><span class="o">&amp;</span><span class="n">font</span><span class="p">);</span>
<span class="n">font</span><span class="o">.</span><span class="n">GetHeight</span><span class="p">(</span><span class="o">&amp;</span><span class="n">height</span><span class="p">);</span>
</pre></div>
</div>
<p>See the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFont</span></code>
class for more information.</p>
<section id="_CPPv4N5BView7SetFontEPK5BFont6uint32">
</section>
<section id="_CPPv4N5BView7GetFontEP5BFont">
</section>
<h3>
SetFont(), GetFont()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetFont</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BFont</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">font</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">properties</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_FONT_ALL</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">GetFont</span><span class="sig-paren">(</span><span class="n">BFont</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">font</span><span class="sig-paren">)</span></pre><p><span class="hmethod">SetFont()</span> sets the <span class="hclass">BView</span>’s
current font so that it matches the specified
properties of the <span class="hparameter">font</span>
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFont</span></code> object.
The <span class="hparameter">properties</span> mask is formed by
combining the following constants:</p>
<ul class="simple">
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FONT_FAMILY_AND_STYLE</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FONT_SPACING</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FONT_SIZE</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FONT_ENCODING</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FONT_SHEAR</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FONT_FACE</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FONT_ROTATION</span></code></p></li>
<li><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FONT_FLAGS</span></code></p></li>
</ul>
<p>Each constant corresponds to a settable property of the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFont</span></code> object. The
default mask, <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_FONT_ALL</span></code>, is a shorthand for all the properties
(including any that might be added in future releases). If the mask is 0,
<span class="hmethod">SetFont()</span> won’t set the <span class="hclass">BView</span>’s font.</p>
<p><span class="hmethod">GetFont()</span> copies the <span class="hclass">BView</span>’s
current font to the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFont</span></code> object passed as
an argument. Modifying this copy doesn’t modify the <span class="hclass">BView</span>’s font; it
takes an explicit <span class="hmethod">SetFont()</span> call to affect the <span class="hclass">BView</span>.</p>
<p>For example, this code changes the size of a <span class="hclass">BView</span>’s font and turns
antialiasing off:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BFont</span> <span class="n">font</span><span class="p">;</span>
<span class="n">myView</span><span class="o">-&gt;</span><span class="n">GetFont</span><span class="p">(</span><span class="o">&amp;</span><span class="n">font</span><span class="p">);</span>
<span class="n">font</span><span class="o">.</span><span class="n">SetSize</span><span class="p">(</span><span class="mf">67.0</span><span class="p">);</span>
<span class="n">font</span><span class="o">.</span><span class="n">SetFlags</span><span class="p">(</span><span class="n">B_DISABLE_ANTIALIASING</span><span class="p">);</span>
<span class="n">myView</span><span class="o">-&gt;</span><span class="n">SetFont</span><span class="p">(</span><span class="o">&amp;</span><span class="n">font</span><span class="p">,</span> <span class="n">B_FONT_SIZE</span> <span class="o">|</span> <span class="n">B_FONT_FLAGS</span><span class="p">);</span>
</pre></div>
</div>
<p>Since the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFont</span></code>
object that this example code alters is a copy of the
<span class="hclass">BView</span>’s current font, it’s not strictly necessary to name the properties
that are different when calling <span class="hmethod">SetFont()</span>. However, it’s more efficient
and better practice to do so.</p>
<p>The font is part of the <span class="hclass">BView</span>’s graphic environment. Like other elements
in the environment, it can be set whether or not the <span class="hclass">BView</span> is attached to
the window. Graphics parameters are kept by the Application Server and
also cached by the <span class="hclass">BView</span> object.</p>
<p>See also:
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">font()</span></code></p>
<section id="_CPPv4N5BView11SetFontSizeEf">
</section>
<h3>
SetFontSize()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetFontSize</span><span class="sig-paren">(</span><span class="kt">float</span><span class="w"> </span><span class="n sig-param">points</span><span class="sig-paren">)</span></pre><p>Sets the size of the <span class="hclass">BView</span>’s font to <span class="hparameter">points</span>.
This function is a shorthand
for a <span class="hmethod">SetFont()</span> call that just alters the font size. For example, this
line of code</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">myView</span><span class="o">-&gt;</span><span class="n">SetFontSize</span><span class="p">(</span><span class="mf">12.5</span><span class="p">);</span>
</pre></div>
</div>
<p>does the same thing as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BFont</span> <span class="n">font</span><span class="p">;</span>
<span class="n">font</span><span class="o">.</span><span class="n">SetSize</span><span class="p">(</span><span class="mf">12.5</span><span class="p">);</span>
<span class="n">myView</span><span class="o">-&gt;</span><span class="n">SetFont</span><span class="p">(</span><span class="o">&amp;</span><span class="n">font</span><span class="p">,</span> <span class="n">B_FONT_SIZE</span><span class="p">);</span>
</pre></div>
</div>
<p>See also: the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFont</span></code> class</p>
<section id="_CPPv4NK5BView11StringWidthEPKc">
</section>
<section id="_CPPv4NK5BView15GetStringWidthsEA_PcA_5int325int32A_f">
</section>
<h3>
StringWidth(), GetStringWidths()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">float</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StringWidth</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">string</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><span class="kt">float</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StringWidth</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">string</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">length</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">GetStringWidths</span><span class="sig-paren">(</span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">stringArray</span><span class="p">[</span><span class="p">]</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">lengthArray</span><span class="p">[</span><span class="p">]</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">numStrings</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">widthArray</span><span class="p">[</span><span class="p">]</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions measure how much room is required to draw a string, or a
group of strings, in the <span class="hclass">BView</span>’s current font. They’re equivalent to the
identically named set of functions defined in the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFont</span></code> class, except
that they assume the <span class="hclass">BView</span>’s font. For example, this line of code</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">float</span> <span class="n">width</span><span class="p">;</span>
<span class="n">width</span> <span class="o">=</span> <span class="n">myView</span><span class="o">-&gt;</span><span class="n">StringWidth</span><span class="p">(</span><span class="s2">&quot;Be&quot;</span><span class="n">B_UTF8_REGISTERED</span><span class="p">);</span>
</pre></div>
</div>
<p>produces the same result as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">float</span> <span class="n">width</span><span class="p">;</span>
<span class="n">BFont</span> <span class="n">font</span><span class="p">;</span>
<span class="n">myView</span><span class="o">-&gt;</span><span class="n">GetFont</span><span class="p">(</span><span class="o">&amp;</span><span class="n">font</span><span class="p">);</span>
<span class="n">width</span> <span class="o">=</span> <span class="n">font</span><span class="o">.</span><span class="n">StringWidth</span><span class="p">(</span><span class="s2">&quot;Be&quot;</span><span class="n">B_UTF8_REGISTERED</span><span class="p">);</span>
</pre></div>
</div>
<p>See also:
<a class="reference internal" href="font.html#_CPPv4NK5BFont11StringWidthEPKc" title="BFont::StringWidth"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BFont::StringWidth()</span></code></a>,
<a class="reference internal" href="font.html#_CPPv4NK5BFont14GetEscapementsEA_Kc5int32A_f" title="BFont::GetEscapements"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BFont::GetEscapements()</span></code></a></p>
<section id="_CPPv4NK5BView14TruncateStringEP7BString6uint32f">
</section>
<h3>
TruncateString()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">TruncateString</span><span class="sig-paren">(</span><span class="n">BString</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">inOutString</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">mode</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">width</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Truncates the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BString</span></code>
<span class="hparameter">inOutString</span> to be no wider than <span class="hparameter">width</span> pixels. The
<span class="hparameter">mode</span> flags control how the string is truncated.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Constant</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_TRUNCATE_BEGINNING</span></code></p></td>
<td><p>Cut from the beginning of the string until it fits within the specified width.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_TRUNCATE_MIDDLE</span></code></p></td>
<td><p>Cut from the middle of the string.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_TRUNCATE_END</span></code></p></td>
<td><p>Cut from the end of the string.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_TRUNCATE_SMART</span></code></p></td>
<td><p>Cut anywhere, but do so intelligently, so that all the strings remain different after being cut. For example, if a set of similar path names are passed in the <span class="hparameter">inputStringArray</span>, this mode would attempt to cut from the identical parts of the path names and preserve the parts that are different. This mode also pays attention to word boundaries, separators, punctuation, and the like. However, it’s not implemented for the current release.</p></td>
</tr>
</tbody>
</table>
<section id="_CPPv4N5BView13ClipToPictureEP8BPicture6BPointb">
</section>
<section id="_CPPv4N5BView20ClipInverseToPictureEP8BPicture6BPointb">
</section>
<h3>
ClipToPicture(), ClipInverseToPicture()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ClipToPicture</span><span class="sig-paren">(</span><span class="n">BPicture</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">picture</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">where</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_ORIGIN</span>, <span class="kt">bool</span><span class="w"> </span><span class="n sig-param">sync</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ClipInverseToPicture</span><span class="sig-paren">(</span><span class="n">BPicture</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">picture</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">where</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_ORIGIN</span>, <span class="kt">bool</span><span class="w"> </span><span class="n sig-param">sync</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="sig-paren">)</span></pre><p>Modifies the view’s clipping region by intersecting the current clipping
region with the pixels drawn by <span class="hparameter">picture</span> (in the case of
<span class="hmethod">ClipToPicture()</span>) or
with everything outside the pixels drawn by <span class="hparameter">picture</span> (in the case of
<span class="hmethod">ClipToInversePicture()</span>), to produce the new clipping region.</p>
<p>Note that <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BPicture</span></code>
instances are, by their nature, resolution
independent; when the <span class="hmethod">ClipToPicture()</span>
or <span class="hmethod">ClipToInversePicture()</span> command is
invoked, <span class="hparameter">picture</span> is effectively drawn at the same resolution as the
invoking view, and the bitmap produced by that action is used to modify
the clipping region. You may think of <span class="hparameter">picture</span> as executing its drawing
instructions on a surface that starts out as completely transparent; at
the end of the process, each pixel on the drawing surface will either be
either completely transparent, or will be at least somewhat opaque. The
pixels which are at least somewhat opaque are those which were “drawn” by
<span class="hparameter">picture</span>.</p>
<p>If <span class="hparameter">sync</span> is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code>, the
functions will execute asynchronously; normally
they execute synchronously (i.e. wait for the drawing actions to be
completed by the Application Server.)</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView12BeginPictureEP8BPicture" title="BView::BeginPicture"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BeginPicture()</span></code></a></p>
<section id="_CPPv4N5BView23ConstrainClippingRegionEP7BRegion">
</section>
<h3>
ConstrainClippingRegion()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ConstrainClippingRegion</span><span class="sig-paren">(</span><a class="reference internal" href="region.html#_CPPv47BRegionRK7BRegion" title="BRegion"><span class="n">BRegion</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">region</span><span class="sig-paren">)</span></pre><p>Restricts the drawing that the <span class="hclass">BView</span> can do to <span class="hparameter">region</span>.</p>
<p>The Application Server keeps track of a clipping region for each <span class="hclass">BView</span>
that’s attached to a window. It clips all drawing the <span class="hclass">BView</span> does to that
region; the <span class="hclass">BView</span> can’t draw outside of it.</p>
<p>By default, the clipping region contains only the visible area of the
view and, during an update, only the area that actually needs to be
drawn. By passing a <span class="hparameter">region</span> to this function, an application can further
restrict the clipping region. When calculating the clipping region, the
server intersects it with the region provided. The <span class="hclass">BView</span> can draw only in
areas common to the region passed and the clipping region as the server
would otherwise calculate it. The <span class="hparameter">region</span> passed can’t expand the clipping
region beyond what it otherwise would be.</p>
<p>The clipping region is additionally affected by any items on the state
stack. If any saved states contain clipping regions, then the actual
clipping region used by the Application Server is the intersection of the
local clipping region (as set by this method) and the regions stored on
the state stack.</p>
<p>If called during an update, <span class="hmethod">ConstrainClippingRegion()</span> restricts the
clipping region only for the duration of the update.</p>
<p>Calls to <span class="hmethod">ConstrainClippingRegion()</span> are not additive; each region that’s
passed replaces the one that was passed in the previous call. Passing a
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code> pointer removes the previous region without replacing it. The
function works only for <span class="hclass">BView</span>s that are attached to a window.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a></p>
<section id="_CPPv4NK5BView17GetClippingRegionEP7BRegion">
</section>
<h3>
GetClippingRegion()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">GetClippingRegion</span><span class="sig-paren">(</span><a class="reference internal" href="region.html#_CPPv47BRegionRK7BRegion" title="BRegion"><span class="n">BRegion</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">region</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Modifies the <a class="reference internal" href="region.html#_CPPv47BRegionRK7BRegion" title="BRegion"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BRegion</span></code></a>
object passed as an argument so that it describes
the current local clipping region of the <span class="hclass">BView</span>, the region where the
<span class="hclass">BView</span> is allowed to draw. It’s most efficient to allocate temporary
<a class="reference internal" href="region.html#_CPPv47BRegionRK7BRegion" title="BRegion"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BRegion</span></code></a>s on the stack:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BRegion</span> <span class="n">clipper</span><span class="p">;</span>
<span class="n">GetClippingRegion</span><span class="p">(</span><span class="o">&amp;</span><span class="n">clipper</span><span class="p">);</span>
<span class="o">.</span> <span class="o">.</span> <span class="o">.</span>
</pre></div>
</div>
<p>Ordinarily, the clipping region is the same as the visible region of the
view, the part of the view currently visible on-screen. The visible
region is equal to the view’s bounds rectangle minus:</p>
<ul class="simple">
<li><p>The frame rectangles of its children,</p></li>
<li><p>Any areas that are clipped because the view doesn’t lie wholly within the frame rectangles of all its ancestors in the view hierarchy, and</p></li>
<li><p>Any areas that are obscured by other windows or that lie in a part of the window that’s off-screen.</p></li>
</ul>
<p>The clipping region can be smaller than the visible region if the program
restricted it by calling
<a class="reference internal" href="#_CPPv4N5BView23ConstrainClippingRegionEP7BRegion" title="BView::ConstrainClippingRegion"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ConstrainClippingRegion()</span></code></a>.
It will exclude any
area that doesn’t intersect with the region passed to
<a class="reference internal" href="#_CPPv4N5BView23ConstrainClippingRegionEP7BRegion" title="BView::ConstrainClippingRegion"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ConstrainClippingRegion()</span></code></a>.</p>
<p>The clipping region is additionally modified by any items on the state
stack. If any saved states contain clipping regions, then the actual
clipping region used by the Application Server is the intersection of the
local clipping region (as set by
<a class="reference internal" href="#_CPPv4N5BView23ConstrainClippingRegionEP7BRegion" title="BView::ConstrainClippingRegion"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ConstrainClippingRegion()</span></code></a>)
and the regions stored on the state stack.</p>
<p>While the <span class="hclass">BView</span> is being updated, the clipping region contains just those
parts of the view that need to be redrawn. This may be smaller than the
visible region, or the region restricted by
<a class="reference internal" href="#_CPPv4N5BView23ConstrainClippingRegionEP7BRegion" title="BView::ConstrainClippingRegion"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ConstrainClippingRegion()</span></code></a>,
if:</p>
<ul class="simple">
<li><p>The update occurs during scrolling. The clipping region will exclude any of the view’s visible contents that the Application Server is able to shift to their new location and redraw automatically.</p></li>
<li><p>The view rectangle has grown (because, for example, the user resized the window larger) and the update is needed only to draw the new parts of the view.</p></li>
<li><p>The update was caused by <a class="reference internal" href="#_CPPv4N5BView10InvalidateE5BRect" title="BView::Invalidate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Invalidate()</span></code></a> and the rectangle passed to <a class="reference internal" href="#_CPPv4N5BView10InvalidateE5BRect" title="BView::Invalidate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Invalidate()</span></code></a> didn’t cover all of the visible region.</p></li>
<li><p>The update was necessary because <a class="reference internal" href="#_CPPv4N5BView8CopyBitsE5BRect5BRect" title="BView::CopyBits"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">CopyBits()</span></code></a> couldn’t fill all of a destination rectangle.</p></li>
</ul>
<p>If, while updating is ongoing, you call the view’s parent’s
<span class="hmethod">GetClippingRegion()</span> function, the resulting region indicates only the
area of that view that requries updating, and so forth. In other words,
this change in behavior (from returning the true clipping region to
returning the update region) is recursive up the view hierarchy.</p>
<p>This function works only if the <span class="hclass">BView</span> is attached to a window. Unattached
<span class="hclass">BView</span>s can’t draw and therefore have no clipping region.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView23ConstrainClippingRegionEP7BRegion" title="BView::ConstrainClippingRegion"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ConstrainClippingRegion()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView10InvalidateE5BRect" title="BView::Invalidate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Invalidate()</span></code></a></p>
</section>
<section id="drawing-related-functions">
<h2>Drawing Related Functions<a class="headerlink" href="#drawing-related-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N5BView10DrawBitmapEPK7BBitmap">
</section>
<section id="_CPPv4N5BView15DrawBitmapAsyncEPK7BBitmap">
</section>
<h3>
DrawBitmap(), DrawBitmapAsync()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawBitmap</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BBitmap</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">image</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawBitmap</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BBitmap</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">image</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">point</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawBitmap</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BBitmap</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">image</span>, <span class="n">BRect</span><span class="w"> </span><span class="n sig-param">destination</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawBitmap</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BBitmap</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">image</span>, <span class="n">BRect</span><span class="w"> </span><span class="n sig-param">source</span>, <span class="n">BRect</span><span class="w"> </span><span class="n sig-param">destination</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawBitmapAsync</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BBitmap</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">image</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawBitmapAsync</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BBitmap</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">image</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">point</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawBitmapAsync</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BBitmap</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">image</span>, <span class="n">BRect</span><span class="w"> </span><span class="n sig-param">destination</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawBitmapAsync</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BBitmap</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">image</span>, <span class="n">BRect</span><span class="w"> </span><span class="n sig-param">source</span>, <span class="n">BRect</span><span class="w"> </span><span class="n sig-param">destination</span><span class="sig-paren">)</span></pre><p>These functions place a bitmap <span class="hparameter">image</span> in the
view at the current pen position, at the <span class="hparameter">point</span>
specified, or within the designated <span class="hparameter">destination</span>
rectangle. The <span class="hparameter">point</span> and the
<span class="hparameter">destination</span> rectangle are stated in the
<span class="hclass">BView</span>’s coordinate system.
If a <span class="hparameter">source</span> rectangle is given, only that part
of the bitmap image is drawn. Otherwise, the entire bitmap is placed in the
view. The <span class="hparameter">source</span> rectangle is stated in the internal
coordinates of the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BBitmap</span></code>
object.
If the source image is bigger than the
<span class="hparameter">destination</span> rectangle, it’s scaled to fit.
The two functions differ in only one respect:
<span class="hmethod">DrawBitmap()</span> waits for the Application Server to
finish rendering the image before it returns.
<span class="hmethod">DrawBitmapAsync()</span> doesn’t wait; it passes the
image to the server and returns immediately. The latter function can be
more efficient in some cases—for example, you might use an
asynchronous function to draw several bitmaps and then call
<a class="reference internal" href="#_CPPv4NK5BView4SyncEv" title="BView::Sync"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Sync()</span></code></a>
to wait for them all to finish rather than wait for each one individually:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DrawBitmapAsync</span><span class="p">(</span><span class="n">bitmapOne</span><span class="p">,</span> <span class="n">firstPoint</span><span class="p">);</span>
<span class="n">DrawBitmapAsync</span><span class="p">(</span><span class="n">bitmapTwo</span><span class="p">,</span> <span class="n">secondPoint</span><span class="p">);</span>
<span class="n">DrawBitmapAsync</span><span class="p">(</span><span class="n">bitmapThree</span><span class="p">,</span> <span class="n">thirdPoint</span><span class="p">);</span>
<span class="n">Sync</span><span class="p">();</span>
</pre></div>
</div>
<p>Or, if you can cram some useful work between the time you send the
bitmap to the Application Server and the time you need to be sure that it
has appeared on-screen, <span class="hmethod">DrawBitmapAsync()</span> will
free your thread to do that work immediately:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DrawBitmapAsync</span><span class="p">(</span><span class="n">someBitmap</span><span class="p">,</span> <span class="n">somePoint</span><span class="p">);</span>
<span class="o">/*</span> <span class="n">do</span> <span class="n">something</span> <span class="k">else</span> <span class="o">*/</span>
<span class="n">Sync</span><span class="p">();</span>
</pre></div>
</div>
<p>See also:
The “<span class="xref std std-ref">Drawing</span>”
in the chapter overview, the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BBitmap</span></code>
class</p>
<section id="_CPPv4N5BView8DrawCharEc">
</section>
<h3>
DrawChar()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawChar</span><span class="sig-paren">(</span><span class="kt">char</span><span class="w"> </span><span class="n sig-param">c</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawChar</span><span class="sig-paren">(</span><span class="kt">char</span><span class="w"> </span><span class="n sig-param">c</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">point</span><span class="sig-paren">)</span></pre><p>Draws the character <span class="hparameter">c</span> at the current pen
position—or at the <span class="hparameter">point</span> specified—and
moves the pen to a position immediately to the right of the character. This
function is equivalent to passing a string of one character to
<a class="reference internal" href="#_CPPv4N5BView10DrawStringEPKcP16escapement_delta" title="BView::DrawString"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DrawString()</span></code></a>.
The point is specified in the <span class="hclass">BView</span>’s coordinate
system.</p>
<section id="_CPPv4N5BView10DrawStringEPKcP16escapement_delta">
</section>
<h3>
DrawString()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawString</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">string</span>, <span class="n">escapement_delta</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">delta</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawString</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">string</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">length</span>, <span class="n">escapement_delta</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">delta</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawString</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">string</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">point</span>, <span class="n">escapement_delta</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">delta</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawString</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">string</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">length</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">point</span>, <span class="n">escapement_delta</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">delta</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span></pre><p>Draws the characters encoded in <span class="hparameter">length</span> bytes
of <span class="hparameter">string</span>—or, if the number of bytes isn’t
specified, all the characters in the string, up to the null terminator
(‘\0’). Characters are drawn in the <span class="hclass">BView</span>’s current
font. The font’s direction determines whether the string is drawn
left-to-right or right-to-left. Its rotation determines the angle of the
baseline (horizontal for an unrotated font). The spacing mode of the font
determines how characters are positioned within the string and the string
width.
This function places the characters on a baseline that begins one
pixel above the current pen position—or one pixel above the specified
point in the <span class="hclass">BView</span>’s coordinate system. It draws the
characters to the right (assuming an unrotated font) and moves the pen to
the baseline immediately past the characters drawn. For a left-to-right
font, the pen will be in position to draw the next character, as shown
below:</p>
<p>The characters are drawn in the opposite direction for a right-to-left
font, but the pen still moves left-to-right:</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>The BeOS draws text one pixel above the logical baseline to maintain
compatibility with an earlier version of one of our most commonly-used
font rasterizers. This affects both fonts and
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BShape</span></code>s
representing glyphs (see
<a class="reference internal" href="font.html#_CPPv4NK5BFont14GetGlyphShapesEA_Kc5int32A_P6BShape" title="BFont::GetGlyphShapes"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BFont::GetGlyphShapes()</span></code></a>.
To draw text at the right place, add one to
the Y coordinate when calling
<a class="reference internal" href="#_CPPv4N5BView9MovePenToE6BPoint" title="BView::MovePenTo"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MovePenTo()</span></code></a>
or specifying a <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BPoint</span></code> at which
to begin drawing.</p>
</div>
<p>For a font that’s read from left-to-right, a series of simple
<span class="hmethod">DrawString()</span> calls (with no point specified) will
produce a continuous string. For example, these two lines of code,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DrawString</span><span class="p">(</span><span class="s2">&quot;tog&quot;</span><span class="p">);</span>
<span class="n">DrawString</span><span class="p">(</span><span class="s2">&quot;ether&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>will produce the same result as this one,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DrawString</span><span class="p">(</span><span class="s2">&quot;together&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>except if the spacing mode is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_STRING_SPACING</span></code>.
Under <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_STRING_SPACING</span></code>, character placements are
adjusted keeping the string width constant. The adjustments are
contextually dependent on the string and may therefore differ depending on
whether there are two strings (“tog” and “ether”) or
just one (“together”).
If a <span class="hparameter">delta</span> argument is provided,
<span class="hmethod">DrawString()</span> adds the additional amounts
specified in the escapement_delta structure to the width of each
character. This structure has two fields:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>floatnonspace</p></td>
<td><p>The amount to add to the width of characters that have visible glyphs (that put ink on the printed page).</p></td>
</tr>
<tr class="row-odd"><td><p>floatspace</p></td>
<td><p>The amount to add to the width of characters that have escapements, but don’t have visible glyphs (characters that affect the position of surrounding characters but don’t put ink on the page).</p></td>
</tr>
</tbody>
</table>
<p>When drawing to the screen, <span class="hmethod">DrawString()</span> uses antialiasing—unless
the <span class="hclass">BView</span>’s font disables it or the font size is large enough (over
1,000.0 points) so that its benefits aren’t required. Antialiasing
produces colors at the margins of character outlines that are
intermediate between the color of the text (the <span class="hclass">BView</span>’s high color) and
the color of the background against which the text is drawn. When drawing
in <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_COPY</span></code> mode, antialiasing requires the
<span class="hclass">BView</span>’s low color to match the background color.</p>
<p>It’s much faster to draw a string in <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_COPY</span></code> mode than in any other
mode. If you draw the same string repeatedly in the same location in
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_OVER</span></code> mode without erasing, antialiasing will produce different, and
worse, results each time as the intermediate color it previously produced
is treated as the new background each time. Antialiasing doesn’t produce
pleasing results in <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_OP_SELECT</span></code> mode.</p>
<p>This is a graphical drawing function, so any character that doesn’t have
an escapement or a visible representation (including white space) is
replaced by an undefined character that can be drawn (currently an empty
box). This includes all control characters (those with values less than
<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_SPACE</span></code>, 0x20).</p>
<p><span class="hmethod">DrawString()</span> doesn’t erase before drawing.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView9MovePenByEff" title="BView::MovePenBy"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MovePenBy()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView7SetFontEPK5BFont6uint32" title="BView::SetFont"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFont()</span></code></a>,
the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFont</span></code> class</p>
<section id="_CPPv4NK5BView10FillRegionEP7BRegion7pattern">
</section>
<h3>
FillRegion()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FillRegion</span><span class="sig-paren">(</span><a class="reference internal" href="region.html#_CPPv47BRegionRK7BRegion" title="BRegion"><span class="n">BRegion</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">region</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Fills the region with the pattern specified by <span class="hparameter">aPattern</span>—or, if no
pattern is specified, with the current high color. Filling a region is
equivalent to filling all the rectangles that define the region.</p>
<p>See also:
The <a class="reference internal" href="region.html#_CPPv47BRegionRK7BRegion" title="BRegion"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BRegion</span></code></a> class</p>
<section id="_CPPv4NK5BView12StrokeBezierEP6BPoint7pattern">
</section>
<section id="_CPPv4NK5BView10FillBezierEP6BPoint7pattern">
</section>
<h3>
StrokeBezier(), FillBezier()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StrokeBezier</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">controlPoints</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FillBezier</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">controlPoints</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions draw a third degree Bezier curve. <span class="hmethod">StrokeBezier()</span> strokes
a line along the path of the curve; the width of the line is determined
by the current pen size. <span class="hmethod">FillBezier()</span> fills in the region defined by the
path of the curve and the line joining the two endpoints.</p>
<p><span class="hparameter">controlPoints</span> points to an array of the four points for the curve. Both
functions draw using the pattern specified by <span class="hparameter">aPattern</span>—or, if no
pattern is specified, in the current high color. Neither function alters
the current pen position.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView13StrokeEllipseE5BRect7pattern" title="BView::StrokeEllipse"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">StrokeEllipse()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView10SetPenSizeEf" title="BView::SetPenSize"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetPenSize()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView15StrokeRoundRectE5BRectff7pattern" title="BView::StrokeRoundRect"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">StrokeRoundRect()</span></code></a></p>
<section id="_CPPv4N5BView13StrokeEllipseE5BRect7pattern">
</section>
<section id="_CPPv4N5BView11FillEllipseE5BRect7pattern">
</section>
<section id="_CPPv4N5BView9StrokeArcE5BRectff7pattern">
</section>
<section id="_CPPv4N5BView7FillArcE5BRectff7pattern">
</section>
<h3>
StrokeEllipse(), FillEllipse(), StrokeArc(), FillArc()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StrokeEllipse</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">rect</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StrokeEllipse</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">center</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">xRadius</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">yRadius</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FillEllipse</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">rect</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FillEllipse</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">center</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">xRadius</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">yRadius</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StrokeArc</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">rect</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">angle</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">span</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StrokeArc</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">center</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">xRadius</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">yRadius</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">angle</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">span</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FillArc</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">rect</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">angle</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">span</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FillArc</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">center</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">xRadius</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">yRadius</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">angle</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">span</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span></pre><p>These functions draw all or part of the ellipse that’s inscribed in <span class="hparameter">rect</span>
or that has its center at <span class="hparameter">center</span> and has horizontal and vertical radii
<span class="hparameter">xRadius</span> and <span class="hparameter">yRadius</span>. The ellipse is always aligned with the x and y axes.
A more flexible curve-drawing mechanism is given by
<a class="reference internal" href="#_CPPv4NK5BView12StrokeBezierEP6BPoint7pattern" title="BView::StrokeBezier"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">StrokeBezier()</span></code></a> and
<a class="reference internal" href="#_CPPv4NK5BView10FillBezierEP6BPoint7pattern" title="BView::FillBezier"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">FillBezier()</span></code></a>.</p>
<p><span class="hmethod">StrokeEllipse()</span> strokes a line around the entire perimeter of the ellipse
and <span class="hmethod">FillEllipse()</span> fills the area the ellipse encloses.</p>
<p><span class="hmethod">StrokeArc()</span> and <span class="hmethod">FillArc()</span>
stroke and fill a section of the ellipse,
starting at <span class="hparameter">angle</span> (where 0 ° points right along the x-axis) and
proceeding (counterclockwise) span degrees. In the illustration below,
the red arc is the result of <span class="hmethod">StrokeArc()</span> with an angle of 10° and span
of 235°; the blue area is the same arc filled through <span class="hmethod">FillArc()</span>. The
center of the ellipse (the yellow dot) is drawn for reference.</p>
<div class="warning admonition">
<p class="admonition-title">Warning</p>
<p>Currently, angle and span measurements in fractions of a degree are not
supported.</p>
</div>
<p>For the stroking functions, the width of the stroked line is determined
by the current pen size. All functions draw using <span class="hparameter">aPattern</span> or, if no
pattern is specified, the current high color. The functions neither
depend on nor alter the current pen position.</p>
<section id="_CPPv4N5BView9StrokeArcE6BPoint6BPoint7pattern">
</section>
<h3>
StrokeArc()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StrokeArc</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">start</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">end</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StrokeArc</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">end</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span></pre><p>Draws a straight line between the <span class="hparameter">start</span> and <span class="hparameter">end</span> points—or, if no
starting point is given, between the current pen position and end
point—and leaves the pen at the end point.</p>
<p>This function draws the line using the current pen size and the specified
pattern. If no pattern is specified, the line is drawn in the current
high color. The points are specified in the <span class="hclass">BView</span>’s coordinate system.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView10SetPenSizeEf" title="BView::SetPenSize"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetPenSize()</span></code></a>
<a class="reference internal" href="#_CPPv4N5BView14BeginLineArrayE5int32" title="BView::BeginLineArray"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BeginLineArray()</span></code></a></p>
<section id="_CPPv4N5BView13StrokePolygonE8BPolygonb7pattern">
</section>
<section id="_CPPv4N5BView11FillPolygonE8BPolygonb7pattern">
</section>
<h3>
StrokePolygon(), FillPolygon()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StrokePolygon</span><span class="sig-paren">(</span><span class="n">BPolygon</span><span class="w"> </span><span class="n sig-param">polygon</span>, <span class="kt">bool</span><span class="w"> </span><span class="n sig-param">isClosed</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StrokePolygon</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">pointList</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">numPoints</span>, <span class="kt">bool</span><span class="w"> </span><span class="n sig-param">isClosed</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StrokePolygon</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">pointList</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">numPoints</span>, <span class="n">BRect</span><span class="w"> </span><span class="n sig-param">rect</span>, <span class="kt">bool</span><span class="w"> </span><span class="n sig-param">isClosed</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FillPolygon</span><span class="sig-paren">(</span><span class="n">BPolygon</span><span class="w"> </span><span class="n sig-param">polygon</span>, <span class="kt">bool</span><span class="w"> </span><span class="n sig-param">isClosed</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FillPolygon</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">pointList</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">numPoints</span>, <span class="kt">bool</span><span class="w"> </span><span class="n sig-param">isClosed</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FillPolygon</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">pointList</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">numPoints</span>, <span class="n">BRect</span><span class="w"> </span><span class="n sig-param">rect</span>, <span class="kt">bool</span><span class="w"> </span><span class="n sig-param">isClosed</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span></pre><p>These functions draw a polygon with an arbitrary number of sides.
<span class="hmethod">StrokePolygon()</span> strokes a line around the edge of the polygon using the
current pen size. If a <span class="hparameter">pointList</span> is specified rather than a
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BPolygon</span></code>
object, this function strokes a line from point to point, connecting the
first and last points if they aren’t identical. However, if the <span class="hparameter">isClosed</span>
flag is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">false</span></code>, <span class="hmethod">StrokePolygon()</span> won’t stroke the line connecting the first
and last points that define the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BPolygon</span></code>
(or the first and last points in
the <span class="hparameter">pointList</span>). This leaves the polygon open—making it not appear
to be a polygon at all, but rather a series of straight lines connected
at their end points. If <span class="hparameter">isClosed</span> is <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">true</span></code>, as it is by default, the
polygon will appear to be a polygon, a closed figure.</p>
<p><span class="hmethod">FillPolygon()</span> is a simpler function; it fills in the entire area enclosed
by the polygon.</p>
<p>Both functions must calculate the frame rectangle of a polygon
constructed from a point list—that is, the smallest rectangle that
contains all the points in the polygon. If you know what this rectangle
is, you can make the function somewhat more efficient by passing it as
the <span class="hparameter">rect</span> parameter.</p>
<p>Both functions draw using the specified pattern—or, if no pattern
is specified, in the current high color. Neither function alters the
current pen position.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView10SetPenSizeEf" title="BView::SetPenSize"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetPenSize()</span></code></a></p>
<section id="_CPPv4N5BView10StrokeRectE5BRect7pattern">
</section>
<section id="_CPPv4N5BView8FillRectE5BRect7pattern">
</section>
<h3>
StrokeRect(), FillRect()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StrokeRect</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">rect</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FillRect</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">rect</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span></pre><p>These functions draw a rectangle. <span class="hmethod">StrokeRect()</span> strokes a line around the
edge of the rectangle; the width of the line is determined by the current
pen size. <span class="hmethod">FillRect()</span> fills in the entire rectangle.</p>
<p>Both functions draw using the pattern specified by <span class="hparameter">aPattern</span>—or, if
no pattern is specified, in the current high color. Neither function
alters the current pen position.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView10SetPenSizeEf" title="BView::SetPenSize"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetPenSize()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView15StrokeRoundRectE5BRectff7pattern" title="BView::StrokeRoundRect"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">StrokeRoundRect()</span></code></a></p>
<section id="_CPPv4N5BView15StrokeRoundRectE5BRectff7pattern">
</section>
<section id="_CPPv4N5BView13FillRoundRectE5BRectff7pattern">
</section>
<h3>
StrokeRoundRect(), FillRoundRect()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StrokeRoundRect</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">rect</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">xRadius</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">yRadius</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FillRoundRect</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">rect</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">xRadius</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">yRadius</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span></pre><p>These functions draw a rectangle with rounded corners. The corner arc is
one-quarter of an ellipse, where the ellipse would have a horizontal
radius equal to <span class="hparameter">xRadius</span> and a vertical radius equal to <span class="hparameter">yRadius</span>.</p>
<p>Except for the rounded corners of the rectangle, these functions work
exactly like
<a class="reference internal" href="#_CPPv4N5BView10StrokeRectE5BRect7pattern" title="BView::StrokeRect"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">StrokeRect()</span></code></a> and
<a class="reference internal" href="#_CPPv4N5BView8FillRectE5BRect7pattern" title="BView::FillRect"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">FillRect()</span></code></a>.</p>
<p>Both functions draw using the pattern specified by <span class="hparameter">aPattern</span>—or, if
no pattern is specified, in the current high color. Neither function
alters the current pen position.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView13StrokeEllipseE5BRect7pattern" title="BView::StrokeEllipse"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">StrokeEllipse()</span></code></a></p>
<section id="_CPPv4N5BView11StrokeShapeEP6BShape7pattern">
</section>
<section id="_CPPv4N5BView9FillShapeEP6BShape7pattern">
</section>
<h3>
StrokeShape(), FillShape()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StrokeShape</span><span class="sig-paren">(</span><span class="n">BShape</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">shape</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FillShape</span><span class="sig-paren">(</span><span class="n">BShape</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">shape</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span></pre><p>These functions draw a shape. <span class="hmethod">StrokeShape()</span> strokes a line around the
edge of the shape; the width of the line is determined by the current pen
size. <span class="hmethod">FillShape()</span> fills in the entire shape.</p>
<p>Both functions draw using the pattern specified by <span class="hparameter">aPattern</span>—or, if
no pattern is specified, in the current high color. Neither function
alters the current pen position.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView10SetPenSizeEf" title="BView::SetPenSize"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetPenSize()</span></code></a></p>
<section id="_CPPv4N5BView14StrokeTriangleE6BPoint6BPoint6BPoint7pattern">
</section>
<section id="_CPPv4N5BView12FillTriangleE6BPoint6BPoint6BPoint7pattern">
</section>
<h3>
StrokeTriangle(), FillTriangle()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StrokeTriangle</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">firstPoint</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">secondPoint</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">thirdPoint</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">StrokeTriangle</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">firstPoint</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">secondPoint</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">thirdPoint</span>, <span class="n">BRect</span><span class="w"> </span><span class="n sig-param">rect</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FillTriangle</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">firstPoint</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">secondPoint</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">thirdPoint</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">FillTriangle</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">firstPoint</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">secondPoint</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">thirdPoint</span>, <span class="n">BRect</span><span class="w"> </span><span class="n sig-param">rect</span>, <span class="n">pattern</span><span class="w"> </span><span class="n sig-param">aPattern</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_SOLID_HIGH</span><span class="sig-paren">)</span></pre><p>These functions draw a triangle, a three-sided polygon.
<span class="hmethod">StrokeTriangle()</span> strokes a line the width of the
current pen size from the first point to the second, from the second point
to the third, then back to the first point.
<span class="hmethod">FillTriangle()</span> fills in the area that the three
points enclose.</p>
<p>Each function must calculate the smallest rectangle that contains the
triangle. If you know what this rectangle is, you can make the function
marginally more efficient by passing it as the <span class="hparameter">rect</span> parameter.</p>
<p>Both functions do their drawing using the pattern specified by
<span class="hparameter">aPattern</span>—or, if no pattern is specified, in the current high color.
Neither function alters the current pen position.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView10SetPenSizeEf" title="BView::SetPenSize"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetPenSize()</span></code></a></p>
<section id="_CPPv4N5BView14BeginLineArrayE5int32">
</section>
<section id="_CPPv4N5BView7AddLineE6BPoint6BPoint9rgb_color">
</section>
<section id="_CPPv4N5BView12EndLineArrayEv">
</section>
<h3>
BeginLineArray(), AddLine(), EndLineArray()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">BeginLineArray</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">count</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">AddLine</span><span class="sig-paren">(</span><span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">start</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">end</span>, <span class="n">rgb_color</span><span class="w"> </span><span class="n sig-param">color</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">EndLineArray</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>These functions provide a more efficient way of drawing a large number of
lines than repeated calls to
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">StrokeLine()</span></code>.
<span class="hmethod">BeginLineArray()</span>
signals the beginning of a series of up to count
<span class="hmethod">AddLine()</span> calls;
<span class="hmethod">EndLineArray()</span>
signals the end of the series. Each
<span class="hmethod">AddLine()</span>
call defines a line from
the start point to the end point, associates it with a particular <span class="hparameter">color</span>,
and adds it to the array. The lines can each be a different color; they
don’t have to be contiguous. When
<span class="hmethod">EndLineArray()</span>
is called, all the lines
are drawn—using the then current pen size—in the order that
they were added to the array.</p>
<p>These functions don’t change any graphics parameters. For example, they
don’t move the pen or change the current high and low colors. Parameter
values that are in effect when
<span class="hmethod">EndLineArray()</span>
is called are the ones used
to draw the lines. The high and low colors are ignored in favor of the
<span class="hparameter">color</span> specified for each line.</p>
<p>The <span class="hparameter">count</span> passed to
<span class="hmethod">BeginLineArray()</span>
is an upper limit on the number of
lines that can be drawn. Keeping the count close to accurate and within
reasonable bounds helps the efficiency of the line-array mechanism. It’s
a good idea to keep it less than 256; above that number, memory
requirements begin to impinge on performance.</p>
<p>See also:
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">StrokeLine()</span></code></p>
<section id="_CPPv4N5BView12BeginPictureEP8BPicture">
</section>
<section id="_CPPv4N5BView15AppendToPictureEP8BPicture">
</section>
<section id="_CPPv4N5BView10EndPictureEv">
</section>
<h3>
BeginPicture(), AppendToPicture(), EndPicture()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">BeginPicture</span><span class="sig-paren">(</span><span class="n">BPicture</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">picture</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">AppendToPicture</span><span class="sig-paren">(</span><span class="n">BPicture</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">picture</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BPicture</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">EndPicture</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p><span class="hmethod">BeginPicture()</span> starts a new “picture recording” session: Subsequent
drawing instructions invoked upon the view are recorded in the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BPicture</span></code>
argument. <span class="hmethod">AppendToPicture()</span> does the same, but doesn’t clear the argument
first—it tacks additional instructions on to the end of the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BPicture</span></code>.
<span class="hmethod">EndPicture()</span> ends the recording session; it returns the object
that was passed to <span class="hmethod">BeginPicture()</span> or <span class="hmethod">AppendToPicture()</span>.</p>
<p>While it’s recording a picture, the <span class="hclass">BView</span>
doesn’t display anything to the screen. To render the drawing, you use the
<a class="reference internal" href="#_CPPv4N5BView11DrawPictureEPK8BPicture" title="BView::DrawPicture"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DrawPicture()</span></code></a>
function.</p>
<p>The picture captures only primitive graphics operations such as
<a class="reference internal" href="#_CPPv4N5BView10DrawStringEPKcP16escapement_delta" title="BView::DrawString"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DrawString()</span></code></a>,
<a class="reference internal" href="#_CPPv4N5BView7FillArcE5BRectff7pattern" title="BView::FillArc"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">FillArc()</span></code></a>,
and <a class="reference internal" href="#_CPPv4N5BView7SetFontEPK5BFont6uint32" title="BView::SetFont"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFont()</span></code></a>.
Furthermore, only instructions
performed by this view are recorded; the drawing done by the view’s
children is not recorded.</p>
<p>A <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BPicture</span></code>
can be recorded only if the <span class="hclass">BView</span> is attached to a window. The
window can be off-screen and the view itself can be hidden or reside
outside the current clipping region.</p>
<section id="_CPPv4N5BView8CopyBitsE5BRect5BRect">
</section>
<h3>
CopyBits()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">CopyBits</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">source</span>, <span class="n">BRect</span><span class="w"> </span><span class="n sig-param">destination</span><span class="sig-paren">)</span></pre><p>Copies the image displayed in the <span class="hparameter">source</span>
rectangle to the <span class="hparameter">destination</span>
rectangle, where both rectangles lie within the view and are stated in
the <span class="hclass">BView</span>’s coordinate system.</p>
<p>If the two rectangles aren’t the same size, the source image is scaled to
fit.</p>
<p>If not all of the <span class="hparameter">destination</span> rectangle lies
within the <span class="hclass">BView</span>’s visible
region, the <span class="hparameter">source</span> image is clipped rather than scaled.</p>
<p>If not all of the <span class="hparameter">source</span> rectangle lies within
the <span class="hclass">BView</span>’s visible
region, only the visible portion is copied. It’s mapped to the
corresponding portion of the destination rectangle. The <span class="hclass">BView</span> is then
invalidated so its
<a class="reference internal" href="#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a>
function will be called to update the part of
the destination rectangle that can’t be filled with the source image.</p>
<p>The <span class="hclass">BView</span> must be attached to a window.</p>
<section id="_CPPv4N5BView11DrawPictureEPK8BPicture">
</section>
<section id="_CPPv4N5BView16DrawPictureAsyncEPK8BPicture">
</section>
<h3>
DrawPicture(), DrawPictureAsync()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawPicture</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BPicture</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">picture</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawPicture</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BPicture</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">picture</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">point</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawPicture</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">filename</span>, <span class="n">off_t</span><span class="w"> </span><span class="n sig-param">offset</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">point</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawPictureAsync</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BPicture</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">picture</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawPictureAsync</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BPicture</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">picture</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">point</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">DrawPictureAsync</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">filename</span>, <span class="n">off_t</span><span class="w"> </span><span class="n sig-param">offset</span>, <span class="n">BPoint</span><span class="w"> </span><span class="n sig-param">point</span><span class="sig-paren">)</span></pre><p>Draws the previously recorded picture at the current pen
position—or at the specified point in the <span class="hclass">BView</span>’s coordinate
system. The point or pen position is taken as the coordinate origin for
all the drawing instructions recorded in the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BPicture</span></code>. The last form of
the method plays a picture from an arbitrary offset of a file.</p>
<p>The two functions differ in only one respect: <span class="hmethod">DrawPicture()</span> waits for the
Application Server to finish rendering the image before it returns.
<span class="hmethod">DrawPictureAsync()</span>
doesn’t wait; it passes the image to the server and
returns immediately. The latter function can be more efficient in some
cases—for example, you might use an asynchronous function to draw
several bitmaps and then call
<a class="reference internal" href="#_CPPv4NK5BView4SyncEv" title="BView::Sync"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Sync()</span></code></a>
to wait for them all to finish rather than wait for each one individually:</p>
<p>Nothing that’s done in the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BPicture</span></code>
can affect anything in the <span class="hclass">BView</span>’s
graphics state—for example, the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BPicture</span></code> can’t reset the current
high color or the pen position. Conversely, nothing in the <span class="hclass">BView</span>’s
current graphics state affects the drawing instructions captured in the
picture. The graphics parameters that were in effect when the picture was
recorded determine what the picture looks like.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView12BeginPictureEP8BPicture" title="BView::BeginPicture"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BeginPicture()</span></code></a></p>
<section id="_CPPv4NK5BView5FlushEv">
</section>
<section id="_CPPv4NK5BView4SyncEv">
</section>
<h3>
Flush(), Sync()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">Flush</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">Sync</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions flush the window’s connection to the Application Server.
If the <span class="hclass">BView</span> isn’t attached to a window,
<span class="hmethod">Flush()</span> does nothing.</p>
<div class="warning admonition">
<p class="admonition-title">Warning</p>
<p>If the <span class="hclass">BView</span> isn’t attached to a window, <span class="hmethod">Sync()</span> will crash the
application.</p>
</div>
<p>For reasons of efficiency, the window’s connection to the Application
Server is buffered. Drawing instructions destined for the server are
placed in the buffer and dispatched as a group when the buffer becomes
full. Flushing empties the buffer, sending whatever it contains to the
server, even if it’s not yet full.</p>
<p>The buffer is automatically flushed on every update. However, if you do
any drawing outside the update mechanism—in response to interface
messages, for example—you need to explicitly flush the connection
so that drawing instructions won’t languish in the buffer while waiting
for it to fill up or for the next update. You should also flush it if you
call any drawing functions from outside the window’s thread.</p>
<p><span class="hmethod">Flush()</span> simply flushes the buffer and returns. It does the same work as
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code>’s
<a class="reference internal" href="window.html#_CPPv4NK7BWindow5FlushEv" title="BWindow::Flush"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Flush()</span></code></a> of the same name.</p>
<p><span class="hmethod">Sync()</span> flushes the connection, then waits until the server has executed
the last instruction that was in the buffer before returning. This
alternative to <span class="hmethod">Flush()</span> prevents the application from getting ahead of the
server (ahead of what the user sees on-screen) and keeps both processes
synchronized.</p>
<p>It’s a good idea, for example, to call <span class="hmethod">Sync()</span>,
rather than <span class="hmethod">Flush()</span>, after
employing <span class="hclass">BView</span>s to produce a bitmap image (a
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BBitmap</span></code> object).
<span class="hmethod">Sync()</span> is
the only way you can be sure the image has been completely rendered
before you attempt to draw with it.</p>
<p>(Note that all <span class="hclass">BView</span>s attached to a window share the same connection to
the Application Server. Calling <span class="hmethod">Flush()</span>
or <span class="hmethod">Sync()</span> for any one of them
flushes the buffer for all of them.)</p>
<section id="_CPPv4N5BView10InvalidateE5BRect">
</section>
<h3>
Invalidate()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">Invalidate</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">rect</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">Invalidate</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Invalidates the <span class="hparameter">rect</span> portion of the view, causing update
messages—and consequently
<a class="reference internal" href="#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a> notifications—to be
generated for the <span class="hclass">BView</span> and all descendants that lie wholly or partially
within the rectangle. The rectangle is stated in the <span class="hclass">BView</span>’s coordinate
system.</p>
<p>If no rectangle is specified, the <span class="hclass">BView</span>’s entire bounds rectangle is
invalidated.</p>
<p>Since only <span class="hclass">BView</span>s that are attached to a window can draw, only attached
<span class="hclass">BView</span>s can be invalidated.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Draw()</span></code></a>,
<a class="reference internal" href="#_CPPv4NK5BView17GetClippingRegionEP7BRegion" title="BView::GetClippingRegion"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetClippingRegion()</span></code></a>,
<a class="reference internal" href="window.html#_CPPv4N7BWindow14UpdateIfNeededEv" title="BWindow::UpdateIfNeeded"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BWindow::UpdateIfNeeded()</span></code></a></p>
<section id="_CPPv4N5BView10InvertRectE5BRect">
</section>
<h3>
InvertRect()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">InvertRect</span><span class="sig-paren">(</span><span class="n">BRect</span><span class="w"> </span><span class="n sig-param">rect</span><span class="sig-paren">)</span></pre><p>Inverts all the colors displayed within the <span class="hparameter">rect</span> rectangle. A subsequent
<span class="hmethod">InvertRect()</span> call on the same rectangle restores the original colors.
This operation can be used to “highlight” a selection made as the user
drags the mouse.</p>
<p>The rectangle is stated in the <span class="hclass">BView</span>’s coordinate system.</p>
<p>See also:
<a class="reference internal" href="screen.html#_CPPv4N7BScreen8ColorMapEv" title="BScreen::ColorMap"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BScreen::ColorMap()</span></code></a></p>
<section id="_CPPv4N5BView13SetViewBitmapEPK7BBitmap6uint326uint32">
</section>
<section id="_CPPv4N5BView15ClearViewBitmapEv">
</section>
<h3>
SetViewBitmap(), ClearViewBitmap()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetViewBitmap</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BBitmap</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">bitmap</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">follow</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_FOLLOW_TOP</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">B_FOLLOW_LEFT</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">options</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_TILE_BITMAP</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetViewBitmap</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BBitmap</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">bitmap</span>, <span class="n">BRect</span><span class="w"> </span><span class="n sig-param">source</span>, <span class="n">BRect</span><span class="w"> </span><span class="n sig-param">destination</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">follow</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_FOLLOW_TOP</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">B_FOLLOW_LEFT</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">options</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_TILE_BITMAP</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ClearViewBitmap</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p><span class="hmethod">SetViewBitmap()</span> sets the background bitmap for the view. The view bitmap
is a background image for the view; all drawing in the view occurs over
this bitmap. The background color is used to fill in the visible regions
not covered by the background bitmap.</p>
<p>The background bitmap is passed in <span class="hparameter">bitmap</span>.
The caller can delete <span class="hparameter">bitmap</span>
after the function returns.</p>
<p>If a <span class="hparameter">source</span> rectangle is given, only that part of the bitmap is used.
Otherwise, the entire bitmap is used as the background bitmap. The
<span class="hparameter">destination</span> rectangle, if given, specifies the placement of the bitmap in
the view. It need not be the same size as the source rectangle; scaling
is performed automatically by the application server. If no destination
is given, the image will be placed, unscaled, at the upper left corner of
the view.</p>
<p><span class="hparameter">follow</span> determines the behavior of destination as the view is resized; see
the <span class="hclass">BView</span> <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Constructor()</span></code>
for specifics. <span class="hparameter">options</span> specifies additional view
options. Currently, only one option, <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_TILE_BITMAP</span></code>, is defined. If set,
the view bitmap is tiled across the view.</p>
<p><span class="hmethod">ClearViewBitmap()</span> clears the background bitmap for the view.</p>
<p>See also:
“<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Drawing()</span></code>”
in the “<span class="xref std std-ref">Drawing</span>”
section of this chapter,
<a class="reference internal" href="#_CPPv4N5BView12SetViewColorE9rgb_color" title="BView::SetViewColor"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetViewColor()</span></code></a></p>
<section id="_CPPv4N5BView14SetViewOverlayEPK7BBitmapP9rgb_color6uint326uint32">
</section>
<section id="_CPPv4N5BView16ClearViewOverlayEv">
</section>
<h3>
SetViewOverlay(), ClearViewOverlay()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetViewOverlay</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BBitmap</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">bitmap</span>, <span class="n">rgb_color</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">colorKey</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">follow</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_FOLLOW_TOP</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">B_FOLLOW_LEFT</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">options</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">SetViewOverlay</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">BBitmap</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">bitmap</span>, <span class="n">BRect</span><span class="w"> </span><span class="n sig-param">source</span>, <span class="n">BRect</span><span class="w"> </span><span class="n sig-param">destination</span>, <span class="n">rgb_color</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">colorKey</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">follow</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_FOLLOW_TOP</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">B_FOLLOW_LEFT</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">options</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">ClearViewOverlay</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p><span class="hmethod">SetViewOverlay()</span> sets the overlay bitmap for the view. The overlay bitmap
is superimposed on top of the view’s contents. The <span class="hparameter">colorKey</span> is used to
determine which color in the overlay should be treated as transparent,
allowing the view’s contents to be visible.</p>
<p>The overlay bitmap is passed in <span class="hparameter">bitmap</span>. The
caller can delete <span class="hparameter">bitmap</span>
after the function returns.</p>
<p>If a <span class="hparameter">source</span> rectangle is given, only that part of the bitmap is used.
Otherwise, the entire bitmap is used as the overlay bitmap. The
<span class="hparameter">destination</span> rectangle, if given, specifies the placement of the overlay
bitmap in the view. It need not be the same size as the <span class="hparameter">source</span> rectangle;
scaling is performed automatically by the application server. If no
<span class="hparameter">destination</span> is given, the image will be placed, unscaled, at the upper
left corner of the view.</p>
<p><span class="hparameter">follow</span> determines the behavior of destination as the view is resized; see
the <span class="hclass">BView</span> <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Constructor()</span></code>
for specifics. <span class="hparameter">options</span> specifies additional view
options. The same options allowed by
<a class="reference internal" href="#_CPPv4N5BView13SetViewBitmapEPK7BBitmap6uint326uint32" title="BView::SetViewBitmap"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetViewBitmap()</span></code></a> are allowed here.</p>
<div class="note admonition">
<p class="admonition-title">Note</p>
<p>You can’t use both a background bitmap and an overlay in the same view.</p>
</div>
<p><span class="hmethod">ClearViewOverlay()</span> clears the overlay bitmap for the view.</p>
</section>
<section id="static-functions">
<h2>Static Functions<a class="headerlink" href="#static-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N5BView11InstantiateEP8BMessage">
</section>
<h3>
Instantiate()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">static</span><span class="w"> </span><span class="n">BArchivable</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BView</span><span class="p">::</span></span><span class="n">Instantiate</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">archive</span><span class="sig-paren">)</span></pre><p>Returns a new <span class="hclass">BView</span> object, allocated by new and created with the version
of the constructor that takes a
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code> archive. However, if the message
doesn’t contain archived data for a <span class="hclass">BView</span>,
<span class="hmethod">Instantiate()</span> returns <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<p>See also:
<a class="reference internal" href="../support/archivable.html#_CPPv4N11BArchivable11InstantiateEP8BMessage" title="BArchivable::Instantiate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BArchivable::Instantiate()</span></code></a>,
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">object()</span></code></p>
</section>
<section id="scripting-support">
<h2>Scripting Support<a class="headerlink" href="#scripting-support" title="Permalink to this heading">¶</a></h2>
<h3>
</h3><p>FrameThe Frame property represents the frame rectangle of the view. The frame is passed as a <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BRect</span></code> (<code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_RECT_TYPE</span></code>).MessageSpecifiersDescriptionB_GET_PROPERTYB_DIRECT_SPECIFIERReturns the view’s frame rectangle.B_SET_PROPERTYB_DIRECT_SPECIFIERSets the view’s frame rectangle.
HiddenThe “Hidden” property determines the visibility of the view. The messages are equivalent to manipulating the view with the <a class="reference internal" href="#_CPPv4N5BView8IsHiddenEv" title="BView::IsHidden"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">IsHidden()</span></code></a>, <a class="reference internal" href="#_CPPv4N5BView4HideEv" title="BView::Hide"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Hide()</span></code></a>, and <a class="reference internal" href="#_CPPv4N5BView4ShowEv" title="BView::Show"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Show()</span></code></a>. Note that this differs slightly from <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code>’s <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Scripting()</span></code> property, where multiple hides or shows are not nested.MessageSpecifiersDescriptionB_GET_PROPERTYB_DIRECT_SPECIFIERReturns true if the view is hidden; false otherwise.B_SET_PROPERTYB_DIRECT_SPECIFIERHides or shows the view.
ViewThe “View” property represents the child views of the current view. For all messages except <code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_COUNT_PROPERTIES</span></code>, the current specifier is popped off the specifier stack before the scripting message is passed to the target view. Views can be specified either by index (as found by <a class="reference internal" href="#_CPPv4NK5BView7ChildAtE5int32" title="BView::ChildAt"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ChildAt()</span></code></a>), or name (as found by <a class="reference internal" href="#_CPPv4NK5BView8FindViewEPKc" title="BView::FindView"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">FindView()</span></code></a>).MessageSpecifiersDescriptionB_COUNT_PROPERTIESB_DIRECT_SPECIFIERReturns the number of of child views.anyB_INDEX_SPECIFIER, B_REVERSE_INDEX_SPECIFIER, B_NAME_SPECIFIERDirects the scripting message to the specified view.</p>
<h3>
</h3><p>ShelfThe “Shelf” property pops the current specifier off the specifier stack and then passes the scripting message to the shelf. If no shelf is present, an error is returned.MessageSpecifiersDescriptionanyB_DIRECT_SPECIFIERDirects the scripting message to the shelf.</p>
</section>
<section id="archived-fields">
<h2>Archived Fields<a class="headerlink" href="#archived-fields" title="Permalink to this heading">¶</a></h2>
</section>
</section>


        <div class="clearer"></div>
      </div>
          </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="text-view.html">BTextView</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="window.html">BWindow</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Haiku, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>