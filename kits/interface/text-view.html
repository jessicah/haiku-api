
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>BTextView &#8212; The Haiku Book  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/haiku.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/code.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="BView" href="view.html" />
    <link rel="prev" title="BTabView" href="tab-view.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../index.html">
          <span>API Documentation</span></a></h1>
        <h2 class="heading"><span>BTextView</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="tab-view.html">BTabView</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="view.html">BView</a>&#160;&#160;»
        </p>

      </div>
        
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">BTextView</a><ul>
<li><a class="reference internal" href="#constructor-and-destructor">Constructor and Destructor</a><ul>
<li><a class="reference internal" href="#_CPPv4N9BTextView9BTextViewE5BRectPKc5BRect6uint326uint32">BTextView</a></li>
</ul>
</li>
<li><a class="reference internal" href="#hook-functions">Hook Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N9BTextView16AttachedToWindowEv">AttachedToWindow</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView18DetachedFromWindowEv">DetachedFromWindow</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView4DrawE5BRect">Draw</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView12FrameResizedEff">FrameResized</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView7KeyDownEPKc5int32">KeyDown</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView15MessageReceivedEP8BMessage">MessageReceived</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView9MouseDownE6BPoint">MouseDown</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView10MouseMovedE6BPoint6uint32P8BMessage">MouseMoved</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView5PulseEv">Pulse</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView15WindowActivatedEb">WindowActivated</a></li>
</ul>
</li>
<li><a class="reference internal" href="#member-functions">Member Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N9BTextView11AcceptsDropEPK8BMessage">AcceptsDrop</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView12AcceptsPasteEP10BClipboard">AcceptsPaste</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView7ArchiveEP8BMessageb">Archive</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView10CanEndLineE5int32">CanEndLine</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView3CutEP10BClipboard">Cut</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView4CopyEP10BClipboard">Copy</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView5PasteEP10BClipboard">Paste</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView5ClearEv">Clear</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView12DisallowCharE6uint32">DisallowChar</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView9AllowCharE6uint32">AllowChar</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView8FindWordE5int32P5int32P5int32">FindWord</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView17GetDragParametersEP8BMessagePP7BBitmapP6BPointPP8BHandler">GetDragParameters</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView12GetSelectionEP5int32P5int32">GetSelection</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView13GetTextRegionE5int325int32P7BRegion">GetTextRegion</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView8GoToLineE5int32">GoToLine</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView11CurrentLineEv">CurrentLine</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView10CountLinesEv">CountLines</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView10HideTypingEb">HideTyping</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView14IsTypingHiddenEv">IsTypingHidden</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView9HighlightE5int325int32">Highlight</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView6InsertEPKcPK14text_run_array">Insert</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView6DeleteEv">Delete</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView10InsertTextEPKc5int325int32PK14text_run_array">InsertText</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView10DeleteTextE5int325int32">DeleteText</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView6LineAtE5int32">LineAt</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView7PointAtE5int32Pf">PointAt</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView8OffsetAtE5int32">OffsetAt</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView10LineHeightE5int32">LineHeight</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView10TextHeightE5int325int32">TextHeight</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView9LineWidthE5int32">LineWidth</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView12MakeEditableEb">MakeEditable</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView10IsEditableEv">IsEditable</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView9MakeFocusEb">MakeFocus</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView13MakeResizableEbP5BView">MakeResizable</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView11IsResizableEv">IsResizable</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView14MakeSelectableEb">MakeSelectable</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView12IsSelectableEv">IsSelectable</a></li>
<li><a class="reference internal" href="#resolvespecifier">ResolveSpecifier()</a><ul>
<li><a class="reference internal" href="#_CPPv4N9BTextView14ScrollToOffsetE5int32">ScrollToOffset</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView17ScrollToSelectionEv">ScrollToSelection</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView6SelectE5int325int32">Select</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView9SelectAllEv">SelectAll</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView12SetAlignmentE9alignment">SetAlignment</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView9AlignmentEv">Alignment</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView13SetAutoindentEb">SetAutoindent</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView14DoesAutoindentEv">DoesAutoindent</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView13SetColorSpaceE11color_space">SetColorSpace</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView10ColorSpaceEv">ColorSpace</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView11SetDoesUndoEb">SetDoesUndo</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView8DoesUndoEv">DoesUndo</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView9UndoStateEPb">UndoState</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView4UndoEP10BClipboard">Undo</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView15SetFontAndColorE5int325int32PK5BFont6uint32P9rgb_color">SetFontAndColor</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView15GetFontAndColorE5int32P5BFontP9rgb_color">GetFontAndColor</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView11SetMaxBytesE5int32">SetMaxBytes</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView8MaxBytesEv">MaxBytes</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView11SetRunArrayE5int325int32PK14text_run_array">SetRunArray</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView8RunArrayE5int325int32P5int32">RunArray</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView11SetStylableEb">SetStylable</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView10IsStylableEv">IsStylable</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView11SetTabWidthEf">SetTabWidth</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView8TabWidthEv">TabWidth</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView7SetTextEPKcPK14text_run_array">SetText</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView11SetTextRectE5BRect">SetTextRect</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView8TextRectEv">TextRect</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView11SetWordWrapEb">SetWordWrap</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView12DoesWordWrapEv">DoesWordWrap</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView4TextEv">Text</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView7GetTextE5int325int32Pc">GetText</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView6ByteAtE5int32">ByteAt</a></li>
<li><a class="reference internal" href="#_CPPv4NK9BTextView10TextLengthEv">TextLength</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#static-functions">Static Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N9BTextView15FlattenRunArrayEPK14text_run_arrayP5int32">FlattenRunArray</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView17UnflattenRunArrayEPKvP5int32">UnflattenRunArray</a></li>
<li><a class="reference internal" href="#_CPPv4N9BTextView11InstantiateEP8BMessage">Instantiate</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scripting-support">Scripting Support</a><ul>
<li><a class="reference internal" href="#the-selection-property">The Selection Property</a></li>
<li><a class="reference internal" href="#the-text-property">The Text Property</a></li>
<li><a class="reference internal" href="#the-text-run-array-property">The text_run_array Property</a></li>
</ul>
</li>
<li><a class="reference internal" href="#archived-fields">Archived Fields</a></li>
</ul>
</li>
</ul>

  </div>

        </div>
      </div>
          <div class="bodywrapper">
      <div class="content" role="main">
        
  <section id="btextview">
<h1 id="CPPv49BTextView">BTextView<a class="headerlink" href="#btextview" title="Permalink to this heading">¶</a></h1>
<section id="constructor-and-destructor">
<h2>Constructor and Destructor<a class="headerlink" href="#constructor-and-destructor" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N9BTextView9BTextViewE5BRectPKc5BRect6uint326uint32">
</section>
<h3>
BTextView()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N9BTextView9BTextViewE5BRectPKc5BRect6uint326uint32" title="BTextView::BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">BTextView</span><span class="sig-paren">(</span><a class="reference internal" href="rect.html#_CPPv45BRect" title="BRect"><span class="n">BRect</span></a><span class="w"> </span><span class="n sig-param">frame</span>, <span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">name</span>, <a class="reference internal" href="rect.html#_CPPv45BRect" title="BRect"><span class="n">BRect</span></a><span class="w"> </span><span class="n sig-param">textRect</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">resizingMode</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">flags</span><span class="sig-paren">)</span><br /><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N9BTextView9BTextViewE5BRectPKc5BRectPK5BFontPK9rgb_color6uint326uint32" title="BTextView::BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">BTextView</span><span class="sig-paren">(</span><a class="reference internal" href="rect.html#_CPPv45BRect" title="BRect"><span class="n">BRect</span></a><span class="w"> </span><span class="n sig-param">frame</span>, <span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">name</span>, <a class="reference internal" href="rect.html#_CPPv45BRect" title="BRect"><span class="n">BRect</span></a><span class="w"> </span><span class="n sig-param">textRect</span>, <span class="k">const</span><span class="w"> </span><a class="reference internal" href="font.html#_CPPv45BFont" title="BFont"><span class="n">BFont</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">font</span>, <span class="k">const</span><span class="w"> </span><span class="n">rgb_color</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">color</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">resizingMode</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">flags</span><span class="sig-paren">)</span><br /><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N9BTextView9BTextViewEP8BMessage" title="BTextView::BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">BTextView</span><span class="sig-paren">(</span><a class="reference internal" href="../application/message.html#_CPPv48BMessage" title="BMessage"><span class="n">BMessage</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">archive</span><span class="sig-paren">)</span></pre><p>Initializes the <span class="hclass">BTextView</span> to the <span class="hparameter">frame</span> rectangle,
stated in its eventual parent’s coordinate system, assigns it an
identifying <span class="hparameter">name</span>, sets its resizing behavior to
<span class="hparameter">resizingMode</span> and its drawing behavior with <span class="hparameter">flags</span>. These
four arguments—<span class="hparameter">frame</span>, <span class="hparameter">name</span>, <span class="hparameter">resizingMode</span>, and
<span class="hparameter">flags</span>—are identical to those declared for the <a class="reference internal" href="view.html#_CPPv45BView" title="BView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code></a>
class and are passed to the <a class="reference internal" href="view.html#_CPPv45BView" title="BView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code></a> <a class="reference internal" href="view.html#_CPPv4N5BView5BViewE5BRectPKc6uint326uint32" title="BView::BView"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">constructor</span></code></a>. The <span class="hparameter">frame</span>, <span class="hparameter">name</span>, and
<span class="hparameter">resizingMode</span> arguments are passed to the <a class="reference internal" href="view.html#_CPPv45BView" title="BView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code></a> class
unchanged, but two flags are added to the flags
argument—<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_FRAME_EVENTS</span></code>, so that the <span class="hclass">BTextView</span>
can reformat the text when it’s resized, and
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_PULSE_NEEDED</span></code>, so that the caret marking the insertion
point can “blink” in time with <a class="reference internal" href="../../constants.html#_CPPv47B_PULSE" title="B_PULSE"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_PULSE</span></code></a> messages. Later,
<a class="reference internal" href="#_CPPv4N9BTextView16AttachedToWindowEv" title="BTextView::AttachedToWindow"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AttachedToWindow()</span></code></a> will set the
window’s pulse rate to 500,000 microseconds.</p>
<p>The text rectangle, <span class="hparameter">textRect</span>, is stated in the
<span class="hclass">BTextView</span>’s coordinate system. It determines where text in placed
within the view’s bounds rectangle:</p>
<ul class="simple">
<li><p>The first line of text is placed at the top of the text rectangle. As
additional lines of text are entered into the view, the text grows downward
and may actually extend beyond the bottom of the rectangle.</p></li>
<li><p>The left and right sides of the text rectangle determine where lines of
text are placed within the view. Lines can be aligned to either side of the
rectangle, or they can be centered between the two sides. See the
<a class="reference internal" href="#_CPPv4N9BTextView12SetAlignmentE9alignment" title="BTextView::SetAlignment"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetAlignment()</span></code></a> function.</p></li>
<li><p>When lines wrap on word boundaries, the width of the text rectangle
determines the maximum length of a line; each line of text can be as long
as the rectangle is wide. When word wrapping isn’t turned on, lines can
extend beyond the boundaries of the text rectangle. See the
<a class="reference internal" href="#_CPPv4N9BTextView11SetWordWrapEb" title="BTextView::SetWordWrap"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetWordWrap()</span></code></a> function.</p></li>
</ul>
<p>The bottom of the text rectangle is ignored; it doesn’t limit the amount
of text the view can contain. The text can be limited by the number of
characters, but not by the number of lines.</p>
<p>If a default font is provided, the <span class="hclass">BTextView</span> will display its
text in that font, unless another font is later set. Similarly, if a
default color is specified, the text will be displayed in that color,
unless the color is subsequently changed. If the font is <span class="cpp-expr sig sig-inline cpp"><span class="n">NULL</span></span>
or not specified, the <span class="hclass">BTextView</span> uses the system plain font,
<span class="hparameter">be_plain_font</span>. If the color pointer is <span class="cpp-expr sig sig-inline cpp"><span class="n">NULL</span></span> or not
specified, the text is drawn in black.</p>
<p>The constructor establishes the following default properties for a new
<span class="hclass">BTextView</span>:</p>
<ul class="simple">
<li><p>The text is selectable and editable. (See <a class="reference internal" href="#_CPPv4N9BTextView14MakeSelectableEb" title="BTextView::MakeSelectable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MakeSelectable()</span></code></a> and <a class="reference internal" href="#_CPPv4N9BTextView12MakeEditableEb" title="BTextView::MakeEditable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MakeEditable()</span></code></a>.)</p></li>
<li><p>Multiple character formats are not permitted. (See
<a class="reference internal" href="#_CPPv4N9BTextView11SetStylableEb" title="BTextView::SetStylable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetStylable()</span></code></a>.)</p></li>
<li><p>The text is left-aligned. (See <a class="reference internal" href="#_CPPv4N9BTextView12SetAlignmentE9alignment" title="BTextView::SetAlignment"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetAlignment()</span></code></a>.)</p></li>
<li><p>The tab width is 28.0 coordinate units. (See <a class="reference internal" href="#_CPPv4N9BTextView11SetTabWidthEf" title="BTextView::SetTabWidth"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetTabWidth()</span></code></a>.)</p></li>
<li><p>Word wrapping is turned on. (See <a class="reference internal" href="#_CPPv4N9BTextView11SetWordWrapEb" title="BTextView::SetWordWrap"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetWordWrap()</span></code></a>.)</p></li>
<li><p>Automatic indenting is turned off. (See <a class="reference internal" href="#_CPPv4N9BTextView13SetAutoindentEb" title="BTextView::SetAutoindent"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetAutoindent()</span></code></a>.)</p></li>
<li><p>The maximum amount of data is permitted. (See <a class="reference internal" href="#_CPPv4N9BTextView11SetMaxBytesE5int32" title="BTextView::SetMaxBytes"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetMaxBytes()</span></code></a>.)</p></li>
<li><p>The view doesn’t grow to accommodate more characters. (See
<a class="reference internal" href="#_CPPv4N9BTextView13MakeResizableEbP5BView" title="BTextView::MakeResizable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MakeResizable()</span></code></a>.)</p></li>
<li><p>All characters the user may type are acceptable. (See
<a class="reference internal" href="#_CPPv4N9BTextView12DisallowCharE6uint32" title="BTextView::DisallowChar"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DisallowChar()</span></code></a>.)</p></li>
</ul>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView16AttachedToWindowEv" title="BTextView::AttachedToWindow"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AttachedToWindow()</span></code></a>,
<a class="reference internal" href="#_CPPv4N9BTextView15SetFontAndColorE5int325int32PK5BFont6uint32P9rgb_color" title="BTextView::SetFontAndColor"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFontAndColor()</span></code></a>, the
<a class="reference internal" href="view.html#_CPPv45BView" title="BView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code></a> <a class="reference internal" href="view.html#_CPPv4N5BView5BViewE5BRectPKc6uint326uint32" title="BView::BView"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">constructor</span></code></a></p>
<h3>
</h3><pre style="background: #f3f3f3; line-height: 2em">virtual BTextView::~BTextView()()</pre><p>Frees the memory the <span class="hclass">BTextView</span> allocated to hold the text and to
store information about it.</p>
</section>
<section id="hook-functions">
<h2>Hook Functions<a class="headerlink" href="#hook-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N9BTextView16AttachedToWindowEv">
</section>
<h3>
AttachedToWindow()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">AttachedToWindow</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Completes the initialization of the <span class="hclass">BTextView</span> object after it
becomes attached to a window. This function sets up the object so that it
can correctly format text and display it. Among other things, it sets the
drawing mode to <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_OP_COPY</span></code>. If the <span class="hclass">BTextView</span> is
targeted by scroll bars, it adjusts them so that they’re accurately set up
for scrolling the text.</p>
<p>Because the <span class="hclass">BTextView</span> uses pulses to animate (or “blink”) the
caret, the vertical line that marks the current insertion point, this
function also enables pulsing in the window and fixes the pulse rate at 2
per second.</p>
<p><span class="hmethod">AttachedToWindow()</span> is called for you when the
<span class="hclass">BTextView</span> becomes part a window’s view hierarchy; you shouldn’t
call it yourself, though you can override it. A function that’s implemented
by a derived class should begin by incorporating the <span class="hclass">BTextView</span>
version:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">MyText::AttachedToWindow</span><span class="p">()</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="n">BTextView</span><span class="o">::</span><span class="n">AttachedToWindow</span><span class="p">()</span><span class="w"></span>
<span class="w">   </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="p">.</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>If it doesn’t, the <span class="hclass">BTextView</span> won’t be able to properly display
the text.</p>
<p>See also: <a class="reference internal" href="view.html#_CPPv4N5BView16AttachedToWindowEv" title="BView::AttachedToWindow"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::AttachedToWindow()</span></code></a></p>
<section id="_CPPv4N9BTextView18DetachedFromWindowEv">
</section>
<h3>
DetachedFromWindow()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">DetachedFromWindow</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Resets the cursor to the standard hand image
(<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_HAND_CURSOR</span></code>) if it’s above the <span class="hclass">BTextView</span>
when the <span class="hclass">BTextView</span> is removed from the window.</p>
<p>See also: <a class="reference internal" href="view.html#_CPPv4N5BView18DetachedFromWindowEv" title="BView::DetachedFromWindow"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::DetachedFromWindow()</span></code></a></p>
<section id="_CPPv4N9BTextView4DrawE5BRect">
</section>
<h3>
Draw()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Draw</span><span class="sig-paren">(</span><a class="reference internal" href="rect.html#_CPPv45BRect" title="BRect"><span class="n">BRect</span></a><span class="w"> </span><span class="n sig-param">updateRect</span><span class="sig-paren">)</span></pre><p>Draws the <span class="hclass">BTextView</span>.</p>
<p>See also: <a class="reference internal" href="view.html#_CPPv4N5BView4DrawE5BRect" title="BView::Draw"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::Draw()</span></code></a></p>
<section id="_CPPv4N9BTextView12FrameResizedEff">
</section>
<h3>
FrameResized()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">FrameResized</span><span class="sig-paren">(</span><span class="kt">float</span><span class="w"> </span><span class="n sig-param">width</span>, <span class="kt">float</span><span class="w"> </span><span class="n sig-param">height</span><span class="sig-paren">)</span></pre><p>Overrides the <a class="reference internal" href="view.html#_CPPv45BView" title="BView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code></a> <a class="reference internal" href="view.html#_CPPv4N5BView12FrameResizedEff" title="BView::FrameResized"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">version</span></code></a>
of this function to reset the ranges of the <span class="hclass">BTextView</span>’s scroll
bars and to update the sizes of their proportional knobs whenever the size
of the <span class="hclass">BTextView</span> changes.</p>
<p>See also: <a class="reference internal" href="view.html#_CPPv4N5BView12FrameResizedEff" title="BView::FrameResized"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::FrameResized()</span></code></a></p>
<section id="_CPPv4N9BTextView7KeyDownEPKc5int32">
</section>
<h3>
KeyDown()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">KeyDown</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">bytes</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">numBytes</span><span class="sig-paren">)</span></pre><p>Enters text at the current selection in response to the user’s typing.
This function is called from the window’s message loop for every report of
a key-down event—typically once for every character the user types.
However, it does nothing unless the <span class="hclass">BTextView</span> is the focus view
and the text it contains is editable.</p>
<p>If the character encoded in the bytes string is an editing instruction,
<span class="hmethod">KeyDown()</span> takes the appropriate action:</p>
<ul class="simple">
<li><p>If the character is from one of the arrow keys
(<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_UP_ARROW</span></code>, <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_LEFT_ARROW</span></code>,
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_DOWN_ARROW</span></code>, or <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_RIGHT_ARROW</span></code>), it
extends the selection or moves the insertion point in the appropriate
direction, depending on the modifiers</p></li>
<li><p>If the character is <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BACKSPACE</span></code> or
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_DELETE</span></code>, it deletes the current selection—or the
character preceding or following the current insertion point.</p></li>
<li><p>If the character comes from one of the paging keys
(<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_HOME</span></code>, <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_END</span></code>,
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_PAGE_UP</span></code>, or <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_PAGE_DOWN</span></code>), it scrolls
the display.</p></li>
</ul>
<p>Otherwise, it checks whether the character was registered as unacceptable
(by <a class="reference internal" href="#_CPPv4N9BTextView12DisallowCharE6uint32" title="BTextView::DisallowChar"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DisallowChar()</span></code></a>). If not
disallowed, it calls the <a class="reference internal" href="#_CPPv4N9BTextView10InsertTextEPKc5int325int32PK14text_run_array" title="BTextView::InsertText"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">InsertText()</span></code></a>
hook function to enter the character into the text and display it. Derived
classes can preview about-to-be-inserted characters by overriding
<a class="reference internal" href="#_CPPv4N9BTextView10InsertTextEPKc5int325int32PK14text_run_array" title="BTextView::InsertText"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">InsertText()</span></code></a>.</p>
<p>See also: <a class="reference internal" href="view.html#_CPPv4N5BView7KeyDownEPKc5int32" title="BView::KeyDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::KeyDown()</span></code></a></p>
<section id="_CPPv4N9BTextView15MessageReceivedEP8BMessage">
</section>
<h3>
MessageReceived()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">MessageReceived</span><span class="sig-paren">(</span><a class="reference internal" href="../application/message.html#_CPPv48BMessage" title="BMessage"><span class="n">BMessage</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span><span class="sig-paren">)</span></pre><p>Augments the <a class="reference internal" href="view.html#_CPPv45BView" title="BView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code></a> version of <a class="reference internal" href="view.html#_CPPv4N5BView15MessageReceivedEP8BMessage" title="BView::MessageReceived"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MessageReceived()</span></code></a> to handle scripting requests, dropped data, and
four editing messages—<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_CUT</span></code>, <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_COPY</span></code>,
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_PASTE</span></code>, and <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_SELECT_ALL</span></code>.</p>
<p>If the message was dragged and dropped on the <span class="hclass">BTextView</span> and it
contains <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_MIME_TYPE</span></code> data under the name “text/plain”,
this function inserts the new text at the point where it was dropped—but
only if <a class="reference internal" href="#_CPPv4N9BTextView11AcceptsDropEPK8BMessage" title="BTextView::AcceptsDrop"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AcceptsDrop()</span></code></a> returns
<span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> for the message.</p>
<p>This function handles <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_CUT</span></code>, <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_COPY</span></code>,
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_PASTE</span></code>, and <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_SELECT_ALL</span></code> messages by
calling the <a class="reference internal" href="#_CPPv4N9BTextView3CutEP10BClipboard" title="BTextView::Cut"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Cut()</span></code></a>, <a class="reference internal" href="#_CPPv4N9BTextView4CopyEP10BClipboard" title="BTextView::Copy"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Copy()</span></code></a>, <a class="reference internal" href="#_CPPv4N9BTextView5PasteEP10BClipboard" title="BTextView::Paste"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Paste()</span></code></a>, and
<a class="reference internal" href="#_CPPv4N9BTextView9SelectAllEv" title="BTextView::SelectAll"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SelectAll()</span></code></a> functions. A
<span class="hclass">BTextView</span> will get these messages, even if the application
doesn’t send them, when it’s the focus view and the user uses the
<span class="hkey">Command</span>+<span class="hkey">x</span>, <span class="hkey">Command</span>+<span class="hkey">c</span>,
<span class="hkey">Command</span>+<span class="hkey">v</span>, and <span class="hkey">Command</span>+<span class="hkey">a</span> shortcuts. See
“<span class="xref std std-ref">Shortcuts and Menu Items</span>” in the class overview for information on
how to set up compatible Cut, Copy, Paste, and Select All menu items.</p>
<p>To inherit this functionality, <span class="hmethod">MessageReceived()</span> functions
implemented by derived classes should be sure to call the
<span class="hclass">BTextView</span> version.</p>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView12AcceptsPasteEP10BClipboard" title="BTextView::AcceptsPaste"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AcceptsPaste()</span></code></a>,
<a class="reference internal" href="#_CPPv4N9BTextView10InsertTextEPKc5int325int32PK14text_run_array" title="BTextView::InsertText"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">InsertText()</span></code></a>,
<a class="reference internal" href="view.html#_CPPv4N5BView15MessageReceivedEP8BMessage" title="BView::MessageReceived"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::MessageReceived()</span></code></a>, <a class="reference internal" href="../application/invoker.html#_CPPv4N8BInvoker10SetMessageEP8BMessage" title="BInvoker::SetMessage"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BInvoker::SetMessage()</span></code></a>,
<a class="reference internal" href="../application/invoker.html#_CPPv4N8BInvoker9SetTargetE10BMessenger" title="BInvoker::SetTarget"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BInvoker::SetTarget()</span></code></a></p>
<section id="_CPPv4N9BTextView9MouseDownE6BPoint">
</section>
<h3>
MouseDown()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">MouseDown</span><span class="sig-paren">(</span><a class="reference internal" href="point.html#_CPPv46BPoint" title="BPoint"><span class="n">BPoint</span></a><span class="w"> </span><span class="n sig-param">point</span><span class="sig-paren">)</span></pre><p>Selects text, drags text, and positions the insertion point in response to
the user’s mouse actions. If the <span class="hclass">BTextView</span> isn’t already the
focus view for its window, this function calls <a class="reference internal" href="#_CPPv4N9BTextView9MakeFocusEb" title="BTextView::MakeFocus"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MakeFocus()</span></code></a> to make it the focus view.</p>
<p><span class="hmethod">MouseDown()</span> is called for each mouse-down event that occurs
inside the <span class="hclass">BTextView</span>’s frame rectangle.</p>
<p>See also: <a class="reference internal" href="view.html#_CPPv4N5BView9MouseDownE6BPoint" title="BView::MouseDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::MouseDown()</span></code></a></p>
<section id="_CPPv4N9BTextView10MouseMovedE6BPoint6uint32P8BMessage">
</section>
<h3>
MouseMoved()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">MouseMoved</span><span class="sig-paren">(</span><a class="reference internal" href="point.html#_CPPv46BPoint" title="BPoint"><span class="n">BPoint</span></a><span class="w"> </span><span class="n sig-param">point</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">transit</span>, <a class="reference internal" href="../application/message.html#_CPPv48BMessage" title="BMessage"><span class="n">BMessage</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">message</span><span class="sig-paren">)</span></pre><p>Responds to <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_MOUSE_MOVED</span></code> messages by changing the
cursor to the standard I-beam image for editing text whenever the cursor
enters the view and by resetting it to the standard hand image when the
cursor exits the view. The cursor is changed to an I-beam for text that is
selectable or editable, but only if the <span class="hclass">BTextView</span> is the current
focus view in the active window. However, when the cursor moves over the
current selection, this function changes it from the I-beam back to the
standard hand image. This is done to indicate that it’s possible to drag
and drop the current selection.</p>
<p>If a message is being dragged to the <span class="hclass">BTextView</span>, this function
tests it see whether it contains textual data and tracks it to its
destination.</p>
<p>See also: <a class="reference internal" href="view.html#_CPPv4N5BView10MouseMovedE6BPoint6uint32PK8BMessage" title="BView::MouseMoved"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::MouseMoved()</span></code></a>, <a class="reference internal" href="#_CPPv4N9BTextView11AcceptsDropEPK8BMessage" title="BTextView::AcceptsDrop"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AcceptsDrop()</span></code></a></p>
<section id="_CPPv4N9BTextView5PulseEv">
</section>
<h3>
Pulse()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Pulse</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Turns the caret marking the current insertion point on and off when the
<span class="hclass">BTextView</span> is the focus view in the active window.
<span class="hmethod">Pulse()</span> is called by the system at regular intervals.</p>
<p>This function is first declared in the <a class="reference internal" href="view.html#_CPPv45BView" title="BView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code></a> class.</p>
<p>See also: <a class="reference internal" href="view.html#_CPPv4N5BView5PulseEv" title="BView::Pulse"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::Pulse()</span></code></a></p>
<section id="_CPPv4N9BTextView15WindowActivatedEb">
</section>
<h3>
WindowActivated()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">WindowActivated</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">flag</span><span class="sig-paren">)</span></pre><p>Highlights the current selection when the <span class="hclass">BTextView</span>’s window
becomes the active window (when <span class="hparameter">flag</span> is
<span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span>)—provided that the <span class="hclass">BTextView</span> is the current
focus view—and removes the highlighting when the window ceases to be the
active window (when <span class="hparameter">flag</span> is <span class="cpp-expr sig sig-inline cpp"><span class="k">false</span></span>).</p>
<p>If the current selection is empty (if it’s an insertion point), it’s
highlighted by turning the caret on and off (blinking it).</p>
<p>The Interface Kit calls this function for you whenever the
<span class="hclass">BTextView</span>’s window becomes the active window or it loses that
status.</p>
<p>See also: <a class="reference internal" href="view.html#_CPPv4N5BView15WindowActivatedEb" title="BView::WindowActivated"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::WindowActivated()</span></code></a>, <a class="reference internal" href="#_CPPv4N9BTextView9MakeFocusEb" title="BTextView::MakeFocus"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MakeFocus()</span></code></a></p>
</section>
<section id="member-functions">
<h2>Member Functions<a class="headerlink" href="#member-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N9BTextView11AcceptsDropEPK8BMessage">
</section>
<section id="_CPPv4N9BTextView12AcceptsPasteEP10BClipboard">
</section>
<h3>
AcceptsDrop(), AcceptsPaste()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">AcceptsDrop</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><a class="reference internal" href="../application/message.html#_CPPv48BMessage" title="BMessage"><span class="n">BMessage</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">archive</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">AcceptsPaste</span><span class="sig-paren">(</span><a class="reference internal" href="../application/clipboard.html#_CPPv410BClipboard" title="BClipboard"><span class="n">BClipboard</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">clipboard</span><span class="sig-paren">)</span></pre><p>These functions look at the data in their arguments, and return
<span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> if its “acceptable.” The default implementations return
<span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> if both of the following are <span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span>:</p>
<ul class="simple">
<li><p>the <span class="hclass">BTextView</span> is editable</p></li>
<li><p>the message or clipboard contains <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_MIME_TYPE</span></code> data
stored under the name “text/plain”.</p></li>
</ul>
<p>If the data isn’t acceptable, the drop or paste operation is aborted.</p>
<p><span class="hmethod">AcceptsDrop()</span> is invoked in two places: When a message is
dragged over the <span class="hclass">BTextView</span>, and when the message is dropped on
the object. <span class="hmethod">AcceptsPaste()</span> is called when a
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_PASTE</span></code> message is received. If you augment these
functions to accept more types, you’ll also have to augment the
<a class="reference internal" href="#_CPPv4N9BTextView15MessageReceivedEP8BMessage" title="BTextView::MessageReceived"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MessageReceived()</span></code></a> and
<a class="reference internal" href="#_CPPv4N9BTextView5PasteEP10BClipboard" title="BTextView::Paste"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Paste()</span></code></a> functions to insert the text found
in message or clipboard.</p>
<section id="_CPPv4NK9BTextView7ArchiveEP8BMessageb">
</section>
<h3>
Archive()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><a class="reference internal" href="../storage/the-node-monitor.html#_CPPv48status_t10BMessenger" title="status_t"><span class="n">status_t</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Archive</span><span class="sig-paren">(</span><a class="reference internal" href="../application/message.html#_CPPv48BMessage" title="BMessage"><span class="n">BMessage</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">archive</span>, <span class="kt">bool</span><span class="w"> </span><span class="n sig-param">deep</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Calls the inherited version of <a class="reference internal" href="view.html#_CPPv4NK5BView7ArchiveEP8BMessageb" title="BView::Archive"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Archive()</span></code></a> and
stores the <span class="hclass">BTextView</span> in the <a class="reference internal" href="../application/message.html#_CPPv48BMessage" title="BMessage"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code></a> archive.</p>
<p>See also: <a class="reference internal" href="../support/archivable.html#_CPPv4NK11BArchivable7ArchiveEP8BMessageb" title="BArchivable::Archive"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BArchivable::Archive()</span></code></a>, <a class="reference internal" href="#_CPPv4N9BTextView11InstantiateEP8BMessage" title="BTextView::Instantiate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Instantiate()</span></code></a> static function</p>
<section id="_CPPv4N9BTextView10CanEndLineE5int32">
</section>
<h3>
CanEndLine()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">CanEndLine</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">offset</span><span class="sig-paren">)</span></pre><p>Returns <span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> if the character at offset can be the last
character in a line of text, and <span class="cpp-expr sig sig-inline cpp"><span class="k">false</span></span> if not. Sometimes this
depends on whether the next character (if there is one) can begin a line.
This function is called as the <span class="hclass">BTextView</span> figures out where to
break lines, but only if word wrapping is turned on.</p>
<p>As implemented, <span class="hmethod">CanEndLine()</span> allows the following ASCII
characters to end a line regardless of the context:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nv">B_SPACE</span> <span class="o">=</span>  &lt; / <span class="p">&amp;</span>
B_TAB   +  &gt; *
B_ENTER -- ^ <span class="p">|</span> <span class="s1">&#39;\0&#39;</span>
</pre></div>
</div>
<p>The default implementation also understands the line-ending conventions
for Chinese and Japanese. Because these languages are written without the
spaces that typically end lines in other languages, lines can potentially
break anywhere. However, certain characters are prohibited from ending a
line and others are prohibited from beginning a new line.
<span class="hmethod">CanEndLine()</span> prevents lines from ending either on a prohibited
ending character or on the character before a prohibited beginning
character.</p>
<p>Derived classes can override this function to apply different criteria for
where lines end, possibly looking at the context of the offset character.
You can also augment the current implementation so that it understands the
conventions for other languages.</p>
<p>If you override this function to look to the left or right of the
character at offset, be sure to check that you haven’t stepped beyond the
range of the text. For example, this version of the function makes sure
that the first hyphen of a pair doesn’t break a line:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="nf">MyTextView::CanEndLine</span><span class="p">(</span><span class="n">int32</span><span class="w"> </span><span class="n">offset</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">ByteAt</span><span class="p">[</span><span class="n">offset</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">TextLength</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">ByteAt</span><span class="p">[</span><span class="n">offset</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">               </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">   </span><span class="p">}</span><span class="w"></span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">baseClass</span><span class="o">::</span><span class="n">CanEndLine</span><span class="p">(</span><span class="n">offset</span><span class="p">));</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView11SetWordWrapEb" title="BTextView::SetWordWrap"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetWordWrap()</span></code></a></p>
<section id="_CPPv4N9BTextView3CutEP10BClipboard">
</section>
<section id="_CPPv4N9BTextView4CopyEP10BClipboard">
</section>
<section id="_CPPv4N9BTextView5PasteEP10BClipboard">
</section>
<section id="_CPPv4N9BTextView5ClearEv">
</section>
<h3>
Cut(), Copy(), Paste(), Clear()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Cut</span><span class="sig-paren">(</span><a class="reference internal" href="../application/clipboard.html#_CPPv410BClipboard" title="BClipboard"><span class="n">BClipboard</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">clipboard</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Copy</span><span class="sig-paren">(</span><a class="reference internal" href="../application/clipboard.html#_CPPv410BClipboard" title="BClipboard"><span class="n">BClipboard</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">clipboard</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Paste</span><span class="sig-paren">(</span><a class="reference internal" href="../application/clipboard.html#_CPPv410BClipboard" title="BClipboard"><span class="n">BClipboard</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">clipboard</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Clear</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>These functions implement the standard cut, copy, paste, and clear
commands. <span class="hmethod">Cut()</span> and <span class="hmethod">Copy()</span> both copy the current
selection to the specified clipboard; <span class="hmethod">Cut()</span> also deletes the
text from the <span class="hclass">BTextView</span> and removes it from the display. The text
is entered in the clipboard as <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_MIME_TYPE</span></code> data under the
name “text/plain”. <span class="hmethod">Paste()</span> looks in the clipboard for just this
type of data and pastes it into the text—but only if
<a class="reference internal" href="#_CPPv4N9BTextView12AcceptsPasteEP10BClipboard" title="BTextView::AcceptsPaste"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AcceptsPaste()</span></code></a> returns
<span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span>. The new text replaces the current selection, or is placed
at the site of the current insertion point.</p>
<p>If the <span class="hclass">BTextView</span> supports multiple character formats,
<span class="hmethod">Cut()</span> and <span class="hmethod">Copy()</span> also place a <span class="htype">text_run_array</span>
structure describing the formats of the copied text in the clipboard—as
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_MIME_TYPE</span></code> data under the name
“application/x-vnd.Be-text_run_array”. If the <span class="hclass">BTextView</span> that
takes text from the clipboard supports multiple formats, <span class="hmethod">Paste()</span>
looks for the <span class="htype">text_run_array</span> in the clipboard and sets the formats
of the pasted text accordingly.</p>
<p>In most cases, the clipboard argument will be identical to the global
<span class="hparameter">be_clipboard</span> object.</p>
<p>The <span class="hmethod">Clear()</span> function simply removes the currently-selected text
from the <span class="hclass">BTextView</span> without affecting any clipboard. If there’s no
selection, nothing happens.</p>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView12AcceptsPasteEP10BClipboard" title="BTextView::AcceptsPaste"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AcceptsPaste()</span></code></a>,
“<span class="xref std std-ref">Shortcuts and Menu Items</span>” in the overview</p>
<section id="_CPPv4N9BTextView12DisallowCharE6uint32">
</section>
<section id="_CPPv4N9BTextView9AllowCharE6uint32">
</section>
<h3>
DisallowChar(), AllowChar()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">DisallowChar</span><span class="sig-paren">(</span><span class="n">uint32</span><span class="w"> </span><span class="n sig-param">aChar</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">AllowChar</span><span class="sig-paren">(</span><span class="n">uint32</span><span class="w"> </span><span class="n sig-param">aChar</span><span class="sig-paren">)</span></pre><p>These functions inform the <span class="hclass">BTextView</span> whether the user should be
allowed to enter <span class="hparameter">aChar</span> into the text. By default, all characters
are allowed. Call <span class="hmethod">DisallowChar()</span> for each character you want to
prevent the <span class="hclass">BTextView</span> from accepting, preferably when first
setting up the object. Although declared as <span class="htype">uint32</span>,
<span class="hparameter">aChar</span> must be a character encoded in a single byte; it can’t be a
16-bit Unicode value or a multibyte UTF-8 string.</p>
<p><span class="hmethod">AllowChar()</span> reverses the effect of <span class="hmethod">DisallowChar()</span>.</p>
<p>Alternatively, and for more control over the context in which characters
are accepted or rejected, you can implement an <a class="reference internal" href="#_CPPv4N9BTextView10InsertTextEPKc5int325int32PK14text_run_array" title="BTextView::InsertText"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">InsertText()</span></code></a> function for the <span class="hclass">BTextView</span>.
<a class="reference internal" href="#_CPPv4N9BTextView10InsertTextEPKc5int325int32PK14text_run_array" title="BTextView::InsertText"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">InsertText()</span></code></a> is called for all
insertions, including each character the user types, all text the user
drags to the <span class="hclass">BTextView</span>, and all attempts to paste from the
clipboard.</p>
<section id="_CPPv4N9BTextView8FindWordE5int32P5int32P5int32">
</section>
<h3>
FindWord()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">FindWord</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">offset</span>, <span class="n">int32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">start</span>, <span class="n">int32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">finish</span><span class="sig-paren">)</span></pre><p>Looks for a sequence of characters that qualifies as a word—that is, a
sequence that the user can double-click to select—that includes the
character at <span class="hparameter">offset</span>. This function places the offset of the
word’s first character in the variable that <span class="hparameter">start</span> refers to and
the offset following the last character in the word in the variable that
<span class="hparameter">finish</span> refers to. If the <span class="hparameter">offset</span> character can’t be part
of a word, the <span class="hparameter">start</span> and <span class="hparameter">finish</span> offsets will be
identical.</p>
<p>As implemented, this function allows the user to select a group of similar
characters with a double-click. For example, in the following line of
malformed text,</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;You what!!?&quot;</span>
</pre></div>
</div>
<p>it would allow the user to select the words “You” and “what,” the group of
spaces between the words, and the group of punctuation marks at the end.</p>
<p>The function also defines similar groups of Japanese characters that can
be selected together.</p>
<section id="_CPPv4N9BTextView17GetDragParametersEP8BMessagePP7BBitmapP6BPointPP8BHandler">
</section>
<h3>
GetDragParameters()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">GetDragParameters</span><span class="sig-paren">(</span><a class="reference internal" href="../application/message.html#_CPPv48BMessage" title="BMessage"><span class="n">BMessage</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">drag</span>, <a class="reference internal" href="bitmap.html#_CPPv47BBitmap" title="BBitmap"><span class="n">BBitmap</span></a><span class="w"> </span><span class="p">*</span><span class="p">*</span><span class="n sig-param">bitmap</span>, <a class="reference internal" href="point.html#_CPPv46BPoint" title="BPoint"><span class="n">BPoint</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">point</span>, <a class="reference internal" href="../application/handler.html#_CPPv48BHandler" title="BHandler"><span class="n">BHandler</span></a><span class="w"> </span><span class="p">*</span><span class="p">*</span><span class="n sig-param">handler</span><span class="sig-paren">)</span></pre><p><span class="hmethod">GetDragParameters()</span> is called when a drag session is initiated.
The values that it retrieves (by reference in the arguments) are passed on
to <a class="reference internal" href="view.html#_CPPv4N5BView11DragMessageEP8BMessage5BRectP8BHandler" title="BView::DragMessage"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::DragMessage()</span></code></a>. If you don’t supply a bitmap (if you set
<span class="hparameter">*bitmap</span> to <span class="cpp-expr sig sig-inline cpp"><span class="n">NULL</span></span>), the outline rectangle version of
<a class="reference internal" href="view.html#_CPPv4N5BView11DragMessageEP8BMessage5BRectP8BHandler" title="BView::DragMessage"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DragMessage()</span></code></a> is used.</p>
<section id="_CPPv4N9BTextView12GetSelectionEP5int32P5int32">
</section>
<h3>
GetSelection()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">GetSelection</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">start</span>, <span class="n">int32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">finish</span><span class="sig-paren">)</span></pre><p>Provides the current selection by writing the offset before the first
selected character into the variable referred to by <span class="hparameter">start</span> and the
offset after the last selected character into the variable referred to by
<span class="hparameter">finish</span>. If no characters are selected, both offsets will record
the position of the current insertion point.</p>
<p>If the text isn’t selectable, both offsets will be 0.</p>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView6SelectE5int325int32" title="BTextView::Select"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Select()</span></code></a></p>
<section id="_CPPv4NK9BTextView13GetTextRegionE5int325int32P7BRegion">
</section>
<h3>
GetTextRegion()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">GetTextRegion</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">start</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">finish</span>, <a class="reference internal" href="region.html#_CPPv47BRegion" title="BRegion"><span class="n">BRegion</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">region</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Calculates the region where the run of characters beginning at the
<span class="hparameter">start</span> offset and ending at the <span class="hparameter">finish</span> offset would be
displayed within the <span class="hclass">BTextView</span>’s coordinate system, and modifies
the <a class="reference internal" href="region.html#_CPPv47BRegion" title="BRegion"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BRegion</span></code></a> object passed as the third argument,
<span class="hparameter">region</span>, so that it represents that region.</p>
<p>See also: <a class="reference internal" href="#_CPPv4NK9BTextView10TextHeightE5int325int32" title="BTextView::TextHeight"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">TextHeight()</span></code></a></p>
<section id="_CPPv4N9BTextView8GoToLineE5int32">
</section>
<section id="_CPPv4NK9BTextView11CurrentLineEv">
</section>
<section id="_CPPv4NK9BTextView10CountLinesEv">
</section>
<h3>
GoToLine(), CurrentLine(), CountLines()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">GoToLine</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">index</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">int32</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">CurrentLine</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">int32</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">CountLines</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p><span class="hmethod">GoToLine()</span> moves the insertion point to the beginning of the
line at <span class="hparameter">index</span>. The first line has an index of 0, the second line
an index of 1, and so on. If the index is out-of-range, the insertion point
is moved to the beginning of the line with the nearest in-range index—that
is, to either the first or the last line.</p>
<p><span class="hmethod">CurrentLine()</span> returns the index of the line where the first
character of the selection—or the character following the insertion
point—is currently located.</p>
<p><span class="hmethod">CountLines()</span> returns how many lines of text the
<span class="hclass">BTextView</span> currently contains.</p>
<p>Like other functions that change the selection, <span class="hmethod">GoToLine()</span>
doesn’t automatically scroll the display to make the new selection visible.
Call <a class="reference internal" href="#_CPPv4N9BTextView17ScrollToSelectionEv" title="BTextView::ScrollToSelection"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ScrollToSelection()</span></code></a> to be
sure that the user can see the start of the selection.</p>
<section id="_CPPv4N9BTextView10HideTypingEb">
</section>
<section id="_CPPv4NK9BTextView14IsTypingHiddenEv">
</section>
<h3>
HideTyping(), IsTypingHidden()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">HideTyping</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">flag</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">IsTypingHidden</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>The first of these functions sets whether the user can see the text in the
<span class="hclass">BTextView</span>; the second returns whether or not the text is
currently visible. When flag’s state is <span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span>, text contained by
the <span class="hclass">BTextView</span> isn’t visible.</p>
<section id="_CPPv4N9BTextView9HighlightE5int325int32">
</section>
<h3>
Highlight()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Highlight</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">start</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">finish</span><span class="sig-paren">)</span></pre><p>Highlights (or unhighlights) the characters between the <span class="hparameter">start</span>
and <span class="hparameter">finish</span> offsets. This is the function that the
<span class="hclass">BTextView</span> calls to highlight and unhighlight the current
selection. You don’t need to call it yourself for this purpose. It’s in the
public API just in case you may need to highlight a range of text in some
other circumstance.</p>
<p>If the text is not currently highlighted, this function highlights it. But
if the text is already highlighted, it unhighlights it. If you highlight
some text, be sure to unhighlight it before the next editorial change; the
<span class="hclass">BTextView</span> will not do it for you.</p>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView6SelectE5int325int32" title="BTextView::Select"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Select()</span></code></a>,
<a class="reference internal" href="#_CPPv4NK9BTextView13GetTextRegionE5int325int32P7BRegion" title="BTextView::GetTextRegion"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetTextRegion()</span></code></a></p>
<section id="_CPPv4N9BTextView6InsertEPKcPK14text_run_array">
</section>
<section id="_CPPv4N9BTextView6DeleteEv">
</section>
<h3>
Insert(), Delete()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Insert</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">text</span>, <span class="k">const</span><span class="w"> </span><span class="n">text_run_array</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">runs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Insert</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">text</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">length</span>, <span class="k">const</span><span class="w"> </span><span class="n">text_run_array</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">runs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Insert</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">offset</span>, <span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">text</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">length</span>, <span class="k">const</span><span class="w"> </span><span class="n">text_run_array</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">runs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Delete</span><span class="sig-paren">(</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Delete</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">start</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">finish</span><span class="sig-paren">)</span></pre><p><span class="hmethod">Insert()</span> adds <span class="hparameter">length</span> bytes of text to the
<span class="hclass">BTextView</span>—or if a length isn’t specified, all the characters of
the text string up to the null character that terminates it. The text is
inserted at <span class="hparameter">offset</span>—or at the beginning of the current selection
if an <span class="hparameter">offset</span> isn’t specified. The current selection is not
deleted and the insertion is not selected.</p>
<p>The inserted characters are displayed in the fonts and colors specified in
the accompanying <span class="hparameter">runs</span> array, provided the <span class="hclass">BTextView</span>
allows multiple character formats. If multiple formats aren’t allowed, the
<span class="hparameter">runs</span> array is ignored. If multiple formats are allowed but a
<span class="hparameter">runs</span> array isn’t provided, the insertion is displayed in the font
and color in force at the point of insertion. This generally means the font
and color of the first character of the selection, or of the character
immediately preceding the offset character.</p>
<p>Offsets in the <span class="hparameter">runs</span> array should describe the text being
inserted; in other words, the first offset should be 0. See
<a class="reference internal" href="#_CPPv4N9BTextView11SetRunArrayE5int325int32PK14text_run_array" title="BTextView::SetRunArray"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetRunArray()</span></code></a> for a description of the
<span class="htype">text_run_array</span> structure.</p>
<p><span class="hmethod">Insert()</span> doesn’t assume responsibility for the <span class="hparameter">text</span>
data or the <span class="hparameter">runs</span> array. It copies the information it needs.</p>
<p><span class="hmethod">Delete()</span> removes the characters bounded by the <span class="hparameter">start</span>
and <span class="hparameter">finish</span> offsets from the display and deletes them from the
<span class="hclass">BTextView</span>’s text, without copying them to the clipboard. If the
<span class="hparameter">start</span> and <span class="hparameter">finish</span> offsets are the same, nothing is
deleted. If offsets are not provided, <span class="hmethod">Delete()</span> deletes the
current selection.</p>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView7SetTextEPKcPK14text_run_array" title="BTextView::SetText"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetText()</span></code></a>, <a class="reference internal" href="#_CPPv4N9BTextView3CutEP10BClipboard" title="BTextView::Cut"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Cut()</span></code></a>, <a class="reference internal" href="#_CPPv4N9BTextView11SetRunArrayE5int325int32PK14text_run_array" title="BTextView::SetRunArray"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetRunArray()</span></code></a></p>
<section id="_CPPv4N9BTextView10InsertTextEPKc5int325int32PK14text_run_array">
</section>
<section id="_CPPv4N9BTextView10DeleteTextE5int325int32">
</section>
<h3>
InsertText(), DeleteText()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">InsertText</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">text</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">length</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">offset</span>, <span class="k">const</span><span class="w"> </span><span class="n">text_run_array</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">runs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">DeleteText</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">start</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">finish</span><span class="sig-paren">)</span></pre><p>These protected functions are the vehicles through which the
<span class="hclass">BTextView</span> performs every insertion and deletion of text (with one
exception). You can augment them in a subclass to take note of pending
changes to the text, and to modify or prevent the change.</p>
<p>Don’t call <span class="hmethod">Insert()</span>, <span class="hmethod">Delete()</span> or any other
high-level text-manipulating function in your implementation.</p>
<p><span class="hmethod">InsertText()</span> adds <span class="hparameter">length</span> bytes of text to the
<span class="hclass">BTextView</span>, inserting it at <span class="hparameter">offset</span> within the text
buffer. The font and color of the inserted characters may be described by
an accompanying <span class="hparameter">runs</span> array. If the <span class="hclass">BTextView</span> doesn’t
support multiple character formats, the <span class="hparameter">runs</span> array is ignored. If
multiple formats are supported but the <span class="hparameter">runs</span> array is
<span class="cpp-expr sig sig-inline cpp"><span class="n">NULL</span></span>, the text is displayed in the font and color of the
character preceding offset (or of the first character, if offset is 0.)</p>
<p>The offsets in the <span class="hparameter">runs</span> data structure are relative to the
inserted text; that is, the first offset in the array is 0, not
<span class="hparameter">offset</span>.</p>
<p><span class="hmethod">InsertText()</span> is called for every insertion, except one. The
exception occurs when <a class="reference internal" href="#_CPPv4N9BTextView7SetTextEPKcPK14text_run_array" title="BTextView::SetText"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetText()</span></code></a> takes text
from a file; in this case the text goes directly from the file to the
<span class="hclass">BTextView</span>; it’s not stored in a temporary buffer while
<span class="hmethod">InsertText()</span> is called.</p>
<p><span class="hmethod">DeleteText()</span> removes the text bounded by the <span class="hparameter">start</span>
and <span class="hparameter">finish</span> offsets. It fails if the offsets don’t differ, or if
the <span class="hparameter">finish</span> offset isn’t greater than the <span class="hparameter">start</span> offset.
This function is called for every deletion.</p>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView6InsertEPKcPK14text_run_array" title="BTextView::Insert"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Insert()</span></code></a>, <a class="reference internal" href="#_CPPv4N9BTextView6DeleteEv" title="BTextView::Delete"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Delete()</span></code></a></p>
<section id="_CPPv4NK9BTextView6LineAtE5int32">
</section>
<section id="_CPPv4NK9BTextView7PointAtE5int32Pf">
</section>
<section id="_CPPv4NK9BTextView8OffsetAtE5int32">
</section>
<h3>
LineAt(), PointAt(), OffsetAt()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">int32</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">LineAt</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">offset</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><span class="n">int32</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">LineAt</span><span class="sig-paren">(</span><a class="reference internal" href="point.html#_CPPv46BPoint" title="BPoint"><span class="n">BPoint</span></a><span class="w"> </span><span class="n sig-param">point</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="point.html#_CPPv46BPoint" title="BPoint"><span class="n">BPoint</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">PointAt</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">offset</span>, <span class="kt">float</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">height</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">int32</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">OffsetAt</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">offset</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><span class="n">int32</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">OffsetAt</span><span class="sig-paren">(</span><a class="reference internal" href="point.html#_CPPv46BPoint" title="BPoint"><span class="n">BPoint</span></a><span class="w"> </span><span class="n sig-param">point</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions translate between coordinate values, text offsets, and
line indices. <span class="hmethod">LineAt()</span> returns the index of the line containing
the character at <span class="hparameter">offset</span> in the text, or the line located at the
specified <span class="hparameter">point</span> in the <span class="hclass">BTextView</span>’s coordinate system.
Line indices begin at 0.</p>
<p><span class="hmethod">PointAt()</span> returns the coordinate location of the character at
<span class="hparameter">offset</span>. The point is the left top corner of a rectangle enclosing
the character and is stated in the <span class="hclass">BTextView</span>’s coordinate system.
The x-coordinate of the point is the position on the baseline where the
character is (or would be) drawn; its y-coordinate is the top of the line
where the <span class="hparameter">offset</span> character is located. If a <span class="hparameter">height</span>
argument is provided, <span class="hmethod">PointAt()</span> returns the height of the line
by reference.</p>
<p><span class="hmethod">OffsetAt()</span> returns the offset to the character that begins the
<span class="hparameter">index</span> line, or to the character displayed at <span class="hparameter">point</span>.</p>
<section id="_CPPv4NK9BTextView10LineHeightE5int32">
</section>
<section id="_CPPv4NK9BTextView10TextHeightE5int325int32">
</section>
<h3>
LineHeight(), TextHeight()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">float</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">LineHeight</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">index</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">float</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">TextHeight</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">firstIndex</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">lastIndex</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p><span class="hmethod">LineHeight()</span> returns the height of the line of text at
<span class="hparameter">index</span>, or the first line if an index isn’t specified. Line
indices begin at 0. The height is stated in coordinate units and depends on
the font. It’s the sum of how far characters can ascend above and descend
below the baseline, plus the amount of leading that separates lines. If
more than one font is used on the line, the ascent is taken from the
tallest font and the descent and leading from the deepest.</p>
<p><span class="hmethod">TextHeight()</span> returns the height of the set of lines from
<span class="hparameter">firstIndex</span> through <span class="hparameter">lastIndex</span>.</p>
<p>Both functions reset out-of-range indices to be in-range—that is, to the
index of the first or last line.</p>
<p>See also: <a class="reference internal" href="font.html#_CPPv4NK5BFont9GetHeightEP11font_height" title="BFont::GetHeight"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BFont::GetHeight()</span></code></a></p>
<section id="_CPPv4NK9BTextView9LineWidthE5int32">
</section>
<h3>
LineWidth()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">float</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">LineWidth</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">index</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Returns the width of the line at <span class="hparameter">index</span>—or, if no index is given,
the width of the first line. The value returned is the sum of the widths
(in coordinate units) of all the characters in the line, from the first
through the last, including tabs and spaces. Line indices begin at 0.</p>
<p>If the <span class="hparameter">index</span> passed is out-of-range, it’s reinterpreted to be
the nearest in-range index—that is, as the index to the first or the last
line.</p>
<p>See also: <a class="reference internal" href="font.html#_CPPv4NK5BFont11StringWidthEPKc" title="BFont::StringWidth"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BFont::StringWidth()</span></code></a></p>
<section id="_CPPv4N9BTextView12MakeEditableEb">
</section>
<section id="_CPPv4NK9BTextView10IsEditableEv">
</section>
<h3>
MakeEditable(), IsEditable()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">MakeEditable</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">flag</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">IsEditable</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>The first of these functions sets whether the user can edit the text
displayed by the <span class="hclass">BTextView</span>; the second returns whether or not the
text is currently editable. Text is editable by default.</p>
<p>When text is editable but not selectable, the user can enter and delete
text at the insertion point, but can’t select text to make changes to more
than one character at a time.</p>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView14MakeSelectableEb" title="BTextView::MakeSelectable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MakeSelectable()</span></code></a></p>
<section id="_CPPv4N9BTextView9MakeFocusEb">
</section>
<h3>
MakeFocus()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">MakeFocus</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">flag</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="sig-paren">)</span></pre><p>Overrides the <a class="reference internal" href="view.html#_CPPv45BView" title="BView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code></a> version of <a class="reference internal" href="view.html#_CPPv4N5BView9MakeFocusEb" title="BView::MakeFocus"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MakeFocus()</span></code></a> to highlight the current selection when the
<span class="hclass">BTextView</span> becomes the focus view (when <span class="hparameter">flag</span> is
<span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span>) and to unhighlight it when the <span class="hclass">BTextView</span> no
longer is the focus view (when <span class="hparameter">flag</span> is <span class="cpp-expr sig sig-inline cpp"><span class="k">false</span></span>).
However, the current selection is highlighted only if the
<span class="hclass">BTextView</span>’s window is the current active window.</p>
<p>This function is called for you whenever the user’s actions make the
<span class="hclass">BTextView</span> become the focus view, or force it to give up that
status.</p>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView9MouseDownE6BPoint" title="BTextView::MouseDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MouseDown()</span></code></a></p>
<section id="_CPPv4N9BTextView13MakeResizableEbP5BView">
</section>
<section id="_CPPv4NK9BTextView11IsResizableEv">
</section>
<h3>
MakeResizable(), IsResizable()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">MakeResizable</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">resizable</span>, <a class="reference internal" href="view.html#_CPPv45BView" title="BView"><span class="n">BView</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">containerView</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">IsResizable</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p><span class="hmethod">MakeResizable()</span> gives the <span class="hclass">BTextView</span> the ability to
automatically resize itself to fit its contents if the <span class="hparameter">resizable</span>
flag is <span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span>, and takes away that ability if the flag is
<span class="cpp-expr sig sig-inline cpp"><span class="k">false</span></span>. <span class="hmethod">IsResizable()</span> returns whether the
<span class="hclass">BTextView</span> is currently resizable.</p>
<p>The frame rectangle and text rectangle of a resizable <span class="hclass">BTextView</span>
automatically grow and shrink to exactly enclose all the characters entered
by the user. The object should display just a single line of text (the
resizing is horizontal); if the <span class="hparameter">resizable</span> flag is
<span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span>, <span class="hmethod">MakeResizable()</span> turns off line wrapping. The
text can be aligned to the left, right, or center of the text rectangle.</p>
<p>The <span class="hparameter">containerView</span> is a view that draws a border around the text
(like a <a class="reference internal" href="scroll-view.html#_CPPv411BScrollView" title="BScrollView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BScrollView</span></code></a> object) and is the parent of the
<span class="hclass">BTextView</span>; it’s the view that’s resized to fit the text. The
<span class="hclass">BTextView</span>’s resizing mode should be such that it will be resized
in tandem with the container (for example,
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_FOLLOW_LEFT_RIGHT</span></code> or
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_FOLLOW_ALL_SIDES</span></code>). However, if the
<span class="hparameter">containerView</span> is <span class="cpp-expr sig sig-inline cpp"><span class="n">NULL</span></span>, as it is by default, the
<span class="hclass">BTextView</span> itself is resized to fit the text.</p>
<p>If the <span class="hparameter">resizable</span> flag is <span class="cpp-expr sig sig-inline cpp"><span class="k">false</span></span>, the
<span class="hparameter">containerView</span> argument is ignored.</p>
<p>This resizing mechanism is an alternative to the automatic resizing
behavior provided in the <a class="reference internal" href="view.html#_CPPv45BView" title="BView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code></a> class. It triggers resizing on
the user’s entry of text, not on a change in the parent view’s size. The
two schemes are incompatible; the container view (or the
<span class="hclass">BTextView</span>, if there is no container) should not automatically
resize itself when its parent is resized.</p>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView12SetAlignmentE9alignment" title="BTextView::SetAlignment"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetAlignment()</span></code></a></p>
<section id="_CPPv4N9BTextView14MakeSelectableEb">
</section>
<section id="_CPPv4NK9BTextView12IsSelectableEv">
</section>
<h3>
MakeSelectable(), IsSelectable()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">MakeSelectable</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">flag</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">IsSelectable</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>The first of these functions sets whether it’s possible for the user to
select text displayed by the <span class="hclass">BTextView</span>; the second returns
whether or not the text is currently selectable. Text is selectable by
default.</p>
<p>When text is selectable but not editable, the user can select one or more
characters to copy to the clipboard, but can’t position the insertion point
(an empty selection), enter characters from the keyboard, or paste new text
into the view.</p>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView12MakeEditableEb" title="BTextView::MakeEditable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MakeEditable()</span></code></a></p>
<section id="resolvespecifier">
<h3>ResolveSpecifier()<a class="headerlink" href="#resolvespecifier" title="Permalink to this heading">¶</a></h3>
<p>See <a class="reference internal" href="../application/handler.html#_CPPv4N8BHandler16ResolveSpecifierEP8BMessage5int32P8BMessage5int32PKc" title="BHandler::ResolveSpecifier"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BHandler::ResolveSpecifier()</span></code></a></p>
<section id="_CPPv4N9BTextView14ScrollToOffsetE5int32">
</section>
<section id="_CPPv4N9BTextView17ScrollToSelectionEv">
</section>
<h4>
ScrollToOffset(), ScrollToSelection()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">ScrollToOffset</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">offset</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">ScrollToSelection</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>These functions scroll the text so that the character at
<span class="hparameter">offset</span>—or the character that begins the current selection—is
within the visible region of the view. If the <span class="hclass">BTextView</span> is
equipped with scroll bars, the <a class="reference internal" href="scroll-bar.html#_CPPv410BScrollBar" title="BScrollBar"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BScrollBar</span></code></a> objects are informed
so they can update themselves.</p>
<p>See also: <a class="reference internal" href="view.html#_CPPv4N5BView8ScrollToE6BPoint" title="BView::ScrollTo"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BView::ScrollTo()</span></code></a></p>
<section id="_CPPv4N9BTextView6SelectE5int325int32">
</section>
<h4>
Select()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Select</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">start</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">finish</span><span class="sig-paren">)</span></pre><p>Selects the characters from <span class="hparameter">start</span> up to <span class="hparameter">finish</span>, where
<span class="hparameter">start</span> and <span class="hparameter">finish</span> are offsets into the
<span class="hclass">BTextView</span>’s text. If <span class="hparameter">start</span> and <span class="hparameter">finish</span> are the
same, the selection will be empty (an insertion point). See
“<span class="xref std std-ref">Offsets</span>” in the class overview for a discussion of the constraints
on the offset arguments.</p>
<p>Normally, the selection is changed by the user. This function provides a
way to change it programmatically.</p>
<p>If the <span class="hclass">BTextView</span> is the current focus view in the active window,
<span class="hmethod">Select()</span> highlights the new selection (or displays a blinking
caret at the insertion point). However, it doesn’t automatically scroll the
contents of the <span class="hclass">BTextView</span> to make the new selection visible. Call
<a class="reference internal" href="#_CPPv4N9BTextView17ScrollToSelectionEv" title="BTextView::ScrollToSelection"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ScrollToSelection()</span></code></a> to be sure
that the user can see the start of the selection.</p>
<p>See also: <a class="reference internal" href="#_CPPv4NK9BTextView4TextEv" title="BTextView::Text"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Text()</span></code></a>, <a class="reference internal" href="#_CPPv4N9BTextView12GetSelectionEP5int32P5int32" title="BTextView::GetSelection"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetSelection()</span></code></a>, <a class="reference internal" href="#_CPPv4N9BTextView17ScrollToSelectionEv" title="BTextView::ScrollToSelection"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ScrollToSelection()</span></code></a>, <a class="reference internal" href="#_CPPv4N9BTextView8GoToLineE5int32" title="BTextView::GoToLine"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GoToLine()</span></code></a>, <a class="reference internal" href="#_CPPv4N9BTextView9MouseDownE6BPoint" title="BTextView::MouseDown"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MouseDown()</span></code></a></p>
<section id="_CPPv4N9BTextView9SelectAllEv">
</section>
<h4>
SelectAll()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">SelectAll</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Selects the entire text of the <span class="hclass">BTextView</span>, and highlights it if
the <span class="hclass">BTextView</span> is the current focus view in the active window.</p>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView6SelectE5int325int32" title="BTextView::Select"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Select()</span></code></a></p>
<section id="_CPPv4N9BTextView12SetAlignmentE9alignment">
</section>
<section id="_CPPv4NK9BTextView9AlignmentEv">
</section>
<h4>
SetAlignment(), Alignment()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">SetAlignment</span><span class="sig-paren">(</span><span class="n">alignment</span><span class="w"> </span><span class="n sig-param">where</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">alignment</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Alignment</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions set the way text is aligned within the text rectangle and
return the current alignment. Three settings are possible:</p>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Constant</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_ALIGN_LEFT</span></code></p></td>
<td><p>Each line is aligned at the left boundary of the text rectangle.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_ALIGN_RIGHT</span></code></p></td>
<td><p>Each line is aligned at the right boundary of the text rectangle.</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_ALIGN_CENTER</span></code></p></td>
<td><p>Each line is centered between the left and right boundaries of the text
rectangle.</p></td>
</tr>
</tbody>
</table>
<p>The default is <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_ALIGN_LEFT</span></code>.</p>
<section id="_CPPv4N9BTextView13SetAutoindentEb">
</section>
<section id="_CPPv4NK9BTextView14DoesAutoindentEv">
</section>
<h4>
SetAutoindent(), DoesAutoindent()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">SetAutoindent</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">flag</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">DoesAutoindent</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions set and return whether a new line of text is automatically
indented the same as the preceding line. When set to <span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> and
the user types <span class="hkey">Return</span> at the end of a line that begins with tabs or
spaces, the new line will automatically indent past those tabs and spaces
to the position of the first visible character.</p>
<p>The default value is <span class="cpp-expr sig sig-inline cpp"><span class="k">false</span></span>.</p>
<section id="_CPPv4N9BTextView13SetColorSpaceE11color_space">
</section>
<section id="_CPPv4NK9BTextView10ColorSpaceEv">
</section>
<h4>
SetColorSpace(), ColorSpace()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">SetColorSpace</span><span class="sig-paren">(</span><span class="n">color_space</span><span class="w"> </span><span class="n sig-param">space</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">color_space</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">ColorSpace</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions set and return the color space of the offscreen bitmap
that buffers the drawing the <span class="hclass">BTextView</span> does. The default color
space is <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_CMAP8</span></code>.</p>
<p>See also: the <a class="reference internal" href="bitmap.html#_CPPv47BBitmap" title="BBitmap"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BBitmap</span></code></a> class</p>
<section id="_CPPv4N9BTextView11SetDoesUndoEb">
</section>
<section id="_CPPv4NK9BTextView8DoesUndoEv">
</section>
<section id="_CPPv4NK9BTextView9UndoStateEPb">
</section>
<section id="_CPPv4N9BTextView4UndoEP10BClipboard">
</section>
<h4>
SetDoesUndo(), DoesUndo(), UndoState(), Undo()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">SetDoesUndo</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">sayIt</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">DoesUndo</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">undo_state</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">UndoState</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">isRedo</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Undo</span><span class="sig-paren">(</span><a class="reference internal" href="../application/clipboard.html#_CPPv410BClipboard" title="BClipboard"><span class="n">BClipboard</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">clipboard</span><span class="sig-paren">)</span></pre><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span><span class="w"> </span><span class="n">undo_state</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>
</pre></div>
</div>
<p>These functions and enum comprise <span class="hclass">BTextView</span>’s undo world. The
operations that <span class="hclass">BTextView</span> can undo are listed below. The default
undo mechanism is one operation deep: Udoing undoes the previous
(undo-able) operation; a second (immediate) undo redoes the operation.</p>
<p>You call <span class="hmethod">SetDoesUndo()</span> to enable or disable the undo machinery
for this object. By default, undo is enabled. The ability to undo is also
controlled by the object’s editability ( <a class="reference internal" href="#_CPPv4N9BTextView12MakeEditableEb" title="BTextView::MakeEditable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MakeEditable()</span></code></a>), but this is a tautology, since in order to
have something to undo you have to have been able to edit the object in the
first place.</p>
<p><span class="hmethod">DoesUndo()</span> tells you whether the object is “undoable” as set by
<span class="hmethod">SetDoesUndo()</span>. It doesn’t take editability into consideration.</p>
<p><span class="hmethod">UndoState()</span> tells you what the previous action was (as
represented by the constants listed below). This is the action that will be
undone if the object is told to undo. The <span class="hparameter">isRedo</span> value that’s
returned by reference is set to <span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> if the previous action
occurred because of an undo.</p>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Constant</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_UNDO_UNAVAILABLE</span></code></p></td>
<td><p>Nothing to undo</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_UNDO_TYPING</span></code></p></td>
<td><p>Text was inserted or deleted</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_UNDO_CUT</span></code></p></td>
<td><p>Selection was cut</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_UNDO_PASTE</span></code></p></td>
<td><p>Text was pasted</p></td>
</tr>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_UNDO_CLEAR</span></code></p></td>
<td><p>Selection was cleared</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_UNDO_DROP</span></code></p></td>
<td><p>Message was dropped</p></td>
</tr>
</tbody>
</table>
<p>The <span class="hmethod">Undo()</span> hook function is called when the <span class="hclass">BTextView</span>
receives a <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_UNDO</span></code> message. (By default,
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_UNDO</span></code> is bound to the window’s <span class="hkey">Command</span>+<span class="hkey">z</span>
shortcut; Undo menu items need to set up the binding explicitly.) The
<span class="hparameter">clipboard</span> argument is a pointer to the <span class="hparameter">be_clipboard</span>; if
you’re using a custom clipboard in your <span class="hclass">BTextView</span> subclass, you
should pass along your clipboard when you invoke the inherited version of
<span class="hmethod">Undo()</span>.</p>
<p>Don’t try to do too much in a subclass implementation of
<span class="hmethod">Undo()</span>. In particular, you probably won’t get too far if you’re
trying to “broaden” the undo tree.</p>
<section id="_CPPv4N9BTextView15SetFontAndColorE5int325int32PK5BFont6uint32P9rgb_color">
</section>
<section id="_CPPv4NK9BTextView15GetFontAndColorE5int32P5BFontP9rgb_color">
</section>
<h4>
SetFontAndColor(), GetFontAndColor()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">SetFontAndColor</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">start</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">finish</span>, <span class="k">const</span><span class="w"> </span><a class="reference internal" href="font.html#_CPPv45BFont" title="BFont"><span class="n">BFont</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">font</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">properties</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_FONT_ALL</span>, <span class="n">rgb_color</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">color</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">SetFontAndColor</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><a class="reference internal" href="font.html#_CPPv45BFont" title="BFont"><span class="n">BFont</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">font</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">properties</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_FONT_ALL</span>, <span class="n">rgb_color</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">color</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">GetFontAndColor</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">offset</span>, <a class="reference internal" href="font.html#_CPPv45BFont" title="BFont"><span class="n">BFont</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">font</span>, <span class="n">rgb_color</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">color</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">GetFontAndColor</span><span class="sig-paren">(</span><a class="reference internal" href="font.html#_CPPv45BFont" title="BFont"><span class="n">BFont</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">font</span>, <span class="n">uint32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">sameProperties</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_FONT_ALL</span>, <span class="n">rgb_color</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">color</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span>, <span class="kt">bool</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">sameColor</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions set and get the font and color used to display the text.
If the <span class="hclass">BTextView</span> supports multiple character formats,
<span class="hmethod">SetFontAndColor()</span> sets the font and color of the characters
bounded by the <span class="hparameter">start</span> and <span class="hparameter">finish</span> offsets. If no offsets
are given, it sets the font and color of the current selection. However, if
multiple character formats are not supported, <span class="hmethod">SetFontAndColor()</span>
ignores the offsets and formats the entire text.</p>
<p><span class="hmethod">SetFontAndColor()</span> works like <a class="reference internal" href="view.html#_CPPv45BView" title="BView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code></a>’s
<a class="reference internal" href="view.html#_CPPv4N5BView7SetFontEPK5BFont6uint32" title="BView::SetFont"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFont()</span></code></a> function. It sets the <span class="hparameter">font</span>
to the attributes of the font <a class="reference internal" href="font.html#_CPPv45BFont" title="BFont"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFont</span></code></a> object that are enumerated
by the properties mask. The mask is formed by combining the following
constants:</p>
<ul class="simple">
<li><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_FONT_FAMILY_AND_STYLE</span></code></p></li>
<li><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_FONT_SIZE</span></code></p></li>
<li><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_FONT_SHEAR</span></code></p></li>
<li><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_FONT_ROTATION</span></code></p></li>
<li><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_FONT_SPACING</span></code></p></li>
<li><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_FONT_ENCODING</span></code></p></li>
<li><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_FONT_FACE</span></code></p></li>
<li><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_FONT_FLAGS</span></code></p></li>
</ul>
<p>In addition, <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_FONT_ALL</span></code> is a shorthand for all
properties of the specified font. However, the <span class="hclass">BTextView</span> modifies
the font to ensure that:</p>
<ul class="simple">
<li><p>Characters are not rotated.</p></li>
<li><p>Antialiasing is not disabled.</p></li>
<li><p>The spacing mode is <code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BITMAP_SPACING</span></code>.</p></li>
<li><p>The character encoding is UTF-8 (<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_UNICODE_UTF8</span></code>).</p></li>
</ul>
<p>If the <span class="hparameter">font</span> argument is <span class="cpp-expr sig sig-inline cpp"><span class="n">NULL</span></span>, the font is not set
and the properties mask is ignored.</p>
<p>The color of the characters is set by a pointer to an <span class="htype">rgb_color</span>
structure. If the pointer is <span class="cpp-expr sig sig-inline cpp"><span class="n">NULL</span></span>, as it is by default, the
color is not set.</p>
<p><span class="hmethod">GetFontAndColor()</span> gets the font and color used to display the
character at <span class="hparameter">offset</span>. It modifies the <span class="hparameter">font</span>
<a class="reference internal" href="font.html#_CPPv45BFont" title="BFont"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFont</span></code></a> object and the <span class="hparameter">color</span> <span class="htype">rgb_color</span>
structure so that they describe the font and color of the character.</p>
<p>If an <span class="hparameter">offset</span> isn’t specified, <span class="hmethod">GetFontAndColor()</span> looks
at the current selection. It provides a font and color description of the
first character of the selection—or the character at the insertion point if
the selection is empty. It also modifies that variable that the
<span class="hparameter">sameProperties</span> argument refers to so that it lists all the font
properties that are uniform for all characters in the selection. Similarly,
it indicates, in the variable that <span class="hparameter">sameColor</span> refers to, whether
all the characters in the selection are displayed in the same color.</p>
<section id="_CPPv4N9BTextView11SetMaxBytesE5int32">
</section>
<section id="_CPPv4NK9BTextView8MaxBytesEv">
</section>
<h4>
SetMaxBytes(), MaxBytes()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">SetMaxBytes</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">max</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">int32</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">MaxBytes</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions set and return the maximum number of bytes that the
<span class="hclass">BTextView</span> can accept. The default is the maximum number of bytes
that can be designated by a signed 32-bit integer, a number sufficiently
large to accommodate all uses of a <span class="hclass">BTextView</span>. Use this function
only if you need to restrict the number of characters that the user can
enter in a text field.</p>
<p>Note that these functions count bytes, not characters.</p>
<section id="_CPPv4N9BTextView11SetRunArrayE5int325int32PK14text_run_array">
</section>
<section id="_CPPv4NK9BTextView8RunArrayE5int325int32P5int32">
</section>
<h4>
SetRunArray(), RunArray()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">SetRunArray</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">start</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">finish</span>, <span class="k">const</span><span class="w"> </span><span class="n">text_run_array</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">runs</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">text_run_array</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">RunArray</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">start</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">finish</span>, <span class="n">int32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">length</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions set and return the font and color formats of all the
characters bounded by the <span class="hparameter">start</span> and <span class="hparameter">finish</span> offsets. The
formats are described by a <span class="htype">text_run_array</span> structure, which has the
following fields:</p>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>int32count</p></td>
<td><p>The number of <span class="htype">text_run</span> structures in the array.</p></td>
</tr>
<tr class="row-odd"><td><p>text_runruns[1]</p></td>
<td><p>A structure describing the font and color formats in effect at a
particular offset in the <span class="hclass">BTextView</span>’s text.</p></td>
</tr>
</tbody>
</table>
<p>The <span class="htype">text_run</span> structure describes a run of characters that share
the same font and color formats. It has three fields:</p>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>int32offset</p></td>
<td><p>An offset to the first byte of a character in the text buffer. The text
run begins with this character; it continues until another run begins.</p></td>
</tr>
<tr class="row-odd"><td><p>BFontfont</p></td>
<td><p>The font that’s used to display the run of characters beginning at the
specified offset.</p></td>
</tr>
<tr class="row-even"><td><p>rgb_colorcolor</p></td>
<td><p>The color that’s used to display the run of characters beginning at the
specified offset.</p></td>
</tr>
</tbody>
</table>
<p>The first offset of the first <span class="htype">text_run</span> in the array passed to
<span class="hmethod">SetRunArray()</span> should be 0; the array returned by
<span class="hmethod">RunArray()</span> also begins at offset 0.</p>
<p>If the <span class="hclass">BTextView</span> doesn’t support multiple character formats,
<span class="hmethod">SetRunArray()</span> ignores the <span class="hparameter">start</span> and <span class="hparameter">finish</span>
offsets and sets the entire text to the font and color of the first
<span class="htype">text_run</span> in the array. Similarly, <span class="hmethod">RunArray()</span> returns a
<span class="htype">text_run_array</span> with one <span class="htype">text_run</span> describing the entire
text.</p>
<p><span class="hmethod">RunArray()</span> returns a pointer to memory that it allocated (using
malloc()). It puts the number of bytes that it allocated in the variable
that the <span class="hparameter">length</span> argument points to. Although
<span class="hmethod">RunArray()</span> allocated the memory, the caller is responsible for
freeing it when the returned <span class="htype">text_run_array</span> is no longer needed.</p>
<p><span class="hmethod">SetRunArray()</span> doesn’t assume responsibility for the runs data
it’s passed; it’s up to the caller to free it.</p>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView15SetFontAndColorE5int325int32PK5BFont6uint32P9rgb_color" title="BTextView::SetFontAndColor"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFontAndColor()</span></code></a></p>
<section id="_CPPv4N9BTextView11SetStylableEb">
</section>
<section id="_CPPv4NK9BTextView10IsStylableEv">
</section>
<h4>
SetStylable(), IsStylable()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">SetStylable</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">stylable</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">IsStylable</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p><span class="hmethod">SetStylable()</span> sets whether the <span class="hclass">BTextView</span> permits
multiple character formats. If the <span class="hparameter">stylable</span> flag is
<span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span>, the functions that set the font and color of the text can
apply to particular characters in the text buffer. If the flag is
<span class="cpp-expr sig sig-inline cpp"><span class="k">false</span></span>, those functions apply only to the entire text. When
<span class="hmethod">SetStylable()</span> is called to turn off support for multiple
formats, all the text is reformatted in the font and color of the first
character.</p>
<p><span class="hmethod">IsStylable()</span> returns whether multiple formats are permitted. By
default, they’re not.</p>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView15SetFontAndColorE5int325int32PK5BFont6uint32P9rgb_color" title="BTextView::SetFontAndColor"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFontAndColor()</span></code></a>
<a class="reference internal" href="#_CPPv4N9BTextView11SetRunArrayE5int325int32PK14text_run_array" title="BTextView::SetRunArray"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetRunArray()</span></code></a></p>
<section id="_CPPv4N9BTextView11SetTabWidthEf">
</section>
<section id="_CPPv4NK9BTextView8TabWidthEv">
</section>
<h4>
SetTabWidth(), TabWidth()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">SetTabWidth</span><span class="sig-paren">(</span><span class="kt">float</span><span class="w"> </span><span class="n sig-param">width</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">float</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">TabWidth</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions set the distance between tab stops to <span class="hparameter">width</span>
coordinate units and return the current tab width. Tabs cannot be removed
nor can they be individually set; all tabs have a uniform width. The
default tab width is 28.0 coordinate units.</p>
<section id="_CPPv4N9BTextView7SetTextEPKcPK14text_run_array">
</section>
<h4>
SetText()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">SetText</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">text</span>, <span class="k">const</span><span class="w"> </span><span class="n">text_run_array</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">runs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">SetText</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">text</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">length</span>, <span class="k">const</span><span class="w"> </span><span class="n">text_run_array</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">runs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><br /><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">SetText</span><span class="sig-paren">(</span><a class="reference internal" href="../storage/file.html#_CPPv45BFile" title="BFile"><span class="n">BFile</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">file</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">offset</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">length</span>, <span class="k">const</span><span class="w"> </span><span class="n">text_run_array</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">runs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span></pre><p>Removes any text currently in the <span class="hclass">BTextView</span> and copies new text
from a <span class="hparameter">text</span> buffer or from a <span class="hparameter">file</span> to replace it. This
function copies <span class="hparameter">length</span> bytes of text from the buffer—or all the
bytes in the buffer, up to the null character, if a <span class="hparameter">length</span> isn’t
specified. Or it copies <span class="hparameter">length</span> bytes from the <span class="hparameter">file</span>
beginning at the <span class="hparameter">offset</span> byte. If the <span class="hparameter">text</span> or
<span class="hparameter">file</span> is <span class="cpp-expr sig sig-inline cpp"><span class="n">NULL</span></span> or <span class="hparameter">length</span> is 0, it empties the
<span class="hclass">BTextView</span> without replacing the text.</p>
<p>If a <span class="hparameter">runs</span> <span class="htype">text_run_array</span> is provided, it will be used
to set the font and color formats of the new text—provided that the
<span class="hclass">BTextView</span> permits multiple character formats. If not, the
<span class="hparameter">runs</span> array is ignored.</p>
<p>The <span class="hclass">BTextView</span> doesn’t assume ownership of the <span class="hparameter">text</span>
buffer, the <span class="hparameter">file</span>, or the <span class="hparameter">runs</span> array; you can delete
them when <span class="hmethod">SetText()</span> returns.</p>
<p>Text taken from a file is inserted directly into the text, bypassing the
<a class="reference internal" href="#_CPPv4N9BTextView10InsertTextEPKc5int325int32PK14text_run_array" title="BTextView::InsertText"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">InsertText()</span></code></a> function. In other words,
you won’t receive an <a class="reference internal" href="#_CPPv4N9BTextView10InsertTextEPKc5int325int32PK14text_run_array" title="BTextView::InsertText"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">InsertText()</span></code></a>
notification for text taken from a file.</p>
<p>This function is typically used to set the text initially displayed in the
view. If the <span class="hclass">BTextView</span> is already attached to a window, it’s
updated to show its new contents.</p>
<p>See also: <a class="reference internal" href="#_CPPv4NK9BTextView4TextEv" title="BTextView::Text"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Text()</span></code></a>, <a class="reference internal" href="#_CPPv4NK9BTextView10TextLengthEv" title="BTextView::TextLength"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">TextLength()</span></code></a></p>
<section id="_CPPv4N9BTextView11SetTextRectE5BRect">
</section>
<section id="_CPPv4NK9BTextView8TextRectEv">
</section>
<h4>
SetTextRect(), TextRect()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">SetTextRect</span><span class="sig-paren">(</span><a class="reference internal" href="rect.html#_CPPv45BRect" title="BRect"><span class="n">BRect</span></a><span class="w"> </span><span class="n sig-param">rect</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><a class="reference internal" href="rect.html#_CPPv45BRect" title="BRect"><span class="n">BRect</span></a><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">TextRect</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p><span class="hmethod">SetTextRect()</span> makes <span class="hparameter">rect</span> the <span class="hclass">BTextView</span>’s
text rectangle—the rectangle that locates where text is placed within the
view. This replaces the text rectangle originally set in the
<span class="hclass">BTextView</span> constructor. The layout of the text is recalculated to
fit the new rectangle, and the text is redisplayed.</p>
<p><span class="hmethod">TextRect()</span> returns the current text rectangle.</p>
<p>See also: the <span class="hclass">BTextView</span> <a class="reference internal" href="#_CPPv4N9BTextView9BTextViewE5BRectPKc5BRect6uint326uint32" title="BTextView::BTextView"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">constructor</span></code></a></p>
<section id="_CPPv4N9BTextView11SetWordWrapEb">
</section>
<section id="_CPPv4NK9BTextView12DoesWordWrapEv">
</section>
<h4>
SetWordWrap(), DoesWordWrap()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">SetWordWrap</span><span class="sig-paren">(</span><span class="kt">bool</span><span class="w"> </span><span class="n sig-param">flag</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">bool</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">DoesWordWrap</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions set and return whether the <span class="hclass">BTextView</span> wraps lines
on word boundaries, thus pushing entire words that don’t fit at the end of
a line to the next line. When word wrapping is turned on, the
<span class="hclass">BTextView</span> calls <a class="reference internal" href="#_CPPv4N9BTextView10CanEndLineE5int32" title="BTextView::CanEndLine"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">CanEndLine()</span></code></a>
to determine exactly where a line can break. If word wrapping is off, lines
break only on a newline character (where the user types <span class="hkey">Return</span>).</p>
<p>By default, word wrapping is turned on (<span class="hmethod">DoesWordWrap()</span> returns
<span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span>).</p>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView11SetTextRectE5BRect" title="BTextView::SetTextRect"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetTextRect()</span></code></a></p>
<section id="_CPPv4NK9BTextView4TextEv">
</section>
<section id="_CPPv4NK9BTextView7GetTextE5int325int32Pc">
</section>
<section id="_CPPv4NK9BTextView6ByteAtE5int32">
</section>
<h4>
Text(), GetText(), ByteAt()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Text</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="kt">void</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">GetText</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">offset</span>, <span class="n">int32</span><span class="w"> </span><span class="n sig-param">length</span>, <span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">buffer</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="n">uchar</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">ByteAt</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="n sig-param">offset</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>These functions reveal the text contained in the <span class="hclass">BTextView</span>.</p>
<p><span class="hmethod">Text()</span> returns a pointer to the text, which may be a pointer to
an empty string if the <span class="hclass">BTextView</span> is empty. The returned pointer
can be used to read the text, but not to alter it (use <a class="reference internal" href="#_CPPv4N9BTextView7SetTextEPKcPK14text_run_array" title="BTextView::SetText"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetText()</span></code></a>, <a class="reference internal" href="#_CPPv4N9BTextView6InsertEPKcPK14text_run_array" title="BTextView::Insert"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Insert()</span></code></a>,
<a class="reference internal" href="#_CPPv4N9BTextView6DeleteEv" title="BTextView::Delete"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Delete()</span></code></a>, and other <span class="hclass">BTextView</span>
functions to do that).</p>
<p><span class="hmethod">GetText()</span> copies up to <span class="hparameter">length</span> bytes of the text into
<span class="hparameter">buffer</span>, beginning with the byte at <span class="hparameter">offset</span>, and adds a
null terminator (‘0’). Fewer than <span class="hparameter">length</span> bytes are copied if
there aren’t that many between the specified <span class="hparameter">offset</span> and the end
of the text. This function doesn’t make any attempt to ensure that only
full character specifications are copied; it’s up to the caller to make
sure that a character begins at <span class="hparameter">offset</span> and that the last byte
copied isn’t in the middle of a multibyte character. The results won’t be
reliable if the <span class="hparameter">offset</span> is out-of-range.</p>
<p><span class="hmethod">ByteAt()</span> returns the byte located at <span class="hparameter">offset</span>. The
offset doesn’t have to be to the first byte of a character.</p>
<p>The pointer that <span class="hmethod">Text()</span> returns is to the <span class="hclass">BTextView</span>’s
internal representation of the text. When it returns, the text string is
guaranteed to be null-terminated and without gaps. However, the
<span class="hclass">BTextView</span> may have had to manipulate the text to get it in that
condition. Therefore, there may be a performance price to pay if
<span class="hmethod">Text()</span> is called frequently. If you’re going to copy the text,
it’s more efficient to have <span class="hmethod">GetText()</span> do it for you. If you’re
going to index into the text, it may be more efficient to call
<span class="hmethod">ByteAt()</span>.</p>
<p>The pointer that <span class="hmethod">Text()</span> returns may no longer be valid after
the user or the program next changes the text. Even if valid, the string
may no longer be null-terminated and gaps may appear.</p>
<p>See also: <a class="reference internal" href="#_CPPv4NK9BTextView10TextLengthEv" title="BTextView::TextLength"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">TextLength()</span></code></a></p>
<section id="_CPPv4NK9BTextView10TextLengthEv">
</section>
<h4>
TextLength()</h4><pre style="background: #f3f3f3; line-height: 2em"><span class="n">int32</span><span class="w"> </span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">TextLength</span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Returns the number of bytes of text data the <span class="hclass">BTextView</span> currently
contains—the number of bytes in the string that <a class="reference internal" href="#_CPPv4NK9BTextView4TextEv" title="BTextView::Text"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Text()</span></code></a> returns (not counting the null terminator).</p>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView11SetMaxBytesE5int32" title="BTextView::SetMaxBytes"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetMaxBytes()</span></code></a></p>
</section>
</section>
<section id="static-functions">
<h2>Static Functions<a class="headerlink" href="#static-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N9BTextView15FlattenRunArrayEPK14text_run_arrayP5int32">
</section>
<section id="_CPPv4N9BTextView17UnflattenRunArrayEPKvP5int32">
</section>
<h3>
FlattenRunArray(), UnflattenRunArray()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">FlattenRunArray</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="n">text_run_array</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">runs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span>, <span class="n">int32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">numBytes</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">static</span><span class="w"> </span><span class="n">text_run_array</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">UnflattenRunArray</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">data</span>, <span class="n">int32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">numBytes</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span></pre><p>These functions flatten and unflatten a <span class="htype">text_run_array</span> structure
so that it can be treated as an untyped stream of bytes. A
<span class="htype">text_run_array</span> that’s saved on-disk will be valid when the user
reboots the machine only if it’s saved as flat data. Both functions return
pointers to memory they allocate (with malloc()). The caller is responsible
for freeing the memory when it’s no longer needed.</p>
<p><span class="hmethod">FlattenRunArray()</span> flattens the runs <span class="htype">text_run_array</span> and
returns the flat data. <span class="hmethod">UnflattenRunArray()</span> reconstructs a
<span class="htype">text_run_array</span> from previously flattened data and returns a
pointer to the structure.</p>
<p>If a <span class="hparameter">numBytes</span> argument is provided, both functions place the
number of bytes they allocated for the data in the variable that
<span class="hparameter">numBytes</span> refers to.</p>
<p>See also: <a class="reference internal" href="#_CPPv4N9BTextView11SetRunArrayE5int325int32PK14text_run_array" title="BTextView::SetRunArray"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetRunArray()</span></code></a></p>
<section id="_CPPv4N9BTextView11InstantiateEP8BMessage">
</section>
<h3>
Instantiate()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">static</span><span class="w"> </span><span class="n">BArchivable</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv49BTextView" title="BTextView"><span class="n">BTextView</span></a><span class="p">::</span></span><span class="n">Instantiate</span><span class="sig-paren">(</span><a class="reference internal" href="../application/message.html#_CPPv48BMessage" title="BMessage"><span class="n">BMessage</span></a><span class="w"> </span><span class="p">*</span><span class="n sig-param">archive</span><span class="sig-paren">)</span></pre><p>Returns a new <span class="hclass">BTextView</span> object, allocated by new and created by
the version of the constructor that takes a <a class="reference internal" href="../application/message.html#_CPPv48BMessage" title="BMessage"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code></a> archive.
However, if the archive doesn’t contain data for a <span class="hclass">BTextView</span>
object, the return value will be <span class="cpp-expr sig sig-inline cpp"><span class="n">NULL</span></span>.</p>
<p>See also: <a class="reference internal" href="../support/archivable.html#_CPPv4N11BArchivable11InstantiateEP8BMessage" title="BArchivable::Instantiate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BArchivable::Instantiate()</span></code></a>, <a class="reference internal" href="#_CPPv4NK9BTextView7ArchiveEP8BMessageb" title="BTextView::Archive"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Archive()</span></code></a></p>
</section>
<section id="scripting-support">
<h2>Scripting Support<a class="headerlink" href="#scripting-support" title="Permalink to this heading">¶</a></h2>
<p>The <span class="hclass">BTextView</span> class implements an unnamed suite consisting of
the following messages:</p>
<section id="the-selection-property">
<h3>The Selection Property<a class="headerlink" href="#the-selection-property" title="Permalink to this heading">¶</a></h3>
<p>The current text selection</p>
<p>Using two <span class="htype">int32</span> offsets to the beginning and end of the selection
in either the “result” or “data” arrays, these messages convey the current
selection of the object in a manner identical to <a class="reference internal" href="#_CPPv4N9BTextView12GetSelectionEP5int32P5int32" title="BTextView::GetSelection"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetSelection()</span></code></a> and <a class="reference internal" href="#_CPPv4N9BTextView6SelectE5int325int32" title="BTextView::Select"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Select()</span></code></a>.</p>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Message</p></th>
<th class="head"><p>Specifiers</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_GET_PROPERTY</span></code></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_DIRECT_SPECIFIER</span></code></p></td>
<td><p>Returns the current selection.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../constants.html#_CPPv414B_SET_PROPERTY" title="B_SET_PROPERTY"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_SET_PROPERTY</span></code></a></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_DIRECT_SPECIFIER</span></code></p></td>
<td><p>Sets the current selection.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="the-text-property">
<h3>The Text Property<a class="headerlink" href="#the-text-property" title="Permalink to this heading">¶</a></h3>
<p>The text in the view</p>
<p>The “Text” get and set messages correspond to the method
<a class="reference internal" href="#_CPPv4NK9BTextView7GetTextE5int325int32Pc" title="BTextView::GetText"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetText()</span></code></a> and <a class="reference internal" href="#_CPPv4N9BTextView7SetTextEPKcPK14text_run_array" title="BTextView::SetText"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetText()</span></code></a>, using a C string to store the data. If the
<a class="reference internal" href="../../constants.html#_CPPv414B_SET_PROPERTY" title="B_SET_PROPERTY"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_SET_PROPERTY</span></code></a> message lacks a “data” member, the
selection is deleted; otherwise, “range” bytes are inserted at offset
“index.” The values specifying the range are given in byte rather than
character offsets. The range counts towards the end of the text, even for
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_REVERSE_RANGE_SPECIFIER</span></code>.</p>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Message</p></th>
<th class="head"><p>Specifiers</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_COUNT_PROPERTY</span></code></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_DIRECT_SPECIFIER</span></code></p></td>
<td><p>Returns the length of the text in bytes.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_GET_PROPERTY</span></code></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_RANGE_SPECIFIER</span></code>,
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_REVERSE_RANGE_SPECIFIER</span></code></p></td>
<td><p>Returns the text in the specified range in the <span class="hclass">BTextView</span>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../../constants.html#_CPPv414B_SET_PROPERTY" title="B_SET_PROPERTY"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_SET_PROPERTY</span></code></a></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_RANGE_SPECIFIER</span></code>,
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_REVERSE_RANGE_SPECIFIER</span></code></p></td>
<td><p>Removes or inserts text into the specified range in the
<span class="hclass">BTextView</span>.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="the-text-run-array-property">
<h3>The text_run_array Property<a class="headerlink" href="#the-text-run-array-property" title="Permalink to this heading">¶</a></h3>
<p>Font and color information for the text</p>
<p>These messages correspond to the methods <a class="reference internal" href="#_CPPv4NK9BTextView8RunArrayE5int325int32P5int32" title="BTextView::RunArray"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">RunArray()</span></code></a> and <a class="reference internal" href="#_CPPv4N9BTextView11SetRunArrayE5int325int32PK14text_run_array" title="BTextView::SetRunArray"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetRunArray()</span></code></a>, storing the result as a
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_RAW_TYPE</span></code>. As with the “Text” property, the values
specifying the range are given in byte rather than character offsets. The
range counts towards the end of the text, even for
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_REVERSE_RANGE_SPECIFIER</span></code>.</p>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Message</p></th>
<th class="head"><p>Specifiers</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_GET_PROPERTY</span></code></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_RANGE_SPECIFIER</span></code>,
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_REVERSE_RANGE_SPECIFIER</span></code></p></td>
<td><p>Returns the style information for the text in the specified range in the
<span class="hclass">BTextView</span>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../../constants.html#_CPPv414B_SET_PROPERTY" title="B_SET_PROPERTY"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_SET_PROPERTY</span></code></a></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_RANGE_SPECIFIER</span></code>,
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_REVERSE_RANGE_SPECIFIER</span></code></p></td>
<td><p>Sets the style information for the text in the specified range in the
<span class="hclass">BTextView</span>.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="archived-fields">
<h2>Archived Fields<a class="headerlink" href="#archived-fields" title="Permalink to this heading">¶</a></h2>
<p>The <a class="reference internal" href="#_CPPv4NK9BTextView7ArchiveEP8BMessageb" title="BTextView::Archive"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Archive()</span></code></a> function adds the following
fields to its <a class="reference internal" href="../application/message.html#_CPPv48BMessage" title="BMessage"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code></a> argument:</p>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><span class="hparameter">_text</span></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_STRING_TYPE</span></code></p></td>
<td><p>The <span class="hclass">BTextView</span>’s text.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="hparameter">_align</span></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_INT32_TYPE</span></code></p></td>
<td><p>The text alignment.</p></td>
</tr>
<tr class="row-even"><td><p><span class="hparameter">_tab</span></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_FLOAT_TYPE</span></code></p></td>
<td><p>The tab width.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="hparameter">_col_sp</span></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_INT32_TYPE</span></code></p></td>
<td><p>Color space.</p></td>
</tr>
<tr class="row-even"><td><p><span class="hparameter">_trect</span></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_RECT_TYPE</span></code></p></td>
<td><p>The text rectangle.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="hparameter">_max</span></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_INT32_TYPE</span></code></p></td>
<td><p>The maximum size (a la <a class="reference internal" href="#_CPPv4N9BTextView11SetMaxBytesE5int32" title="BTextView::SetMaxBytes"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetMaxBytes()</span></code></a>).</p></td>
</tr>
<tr class="row-even"><td><p><span class="hparameter">_sel</span> (array)</p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_INT32_TYPE</span></code></p></td>
<td><p>index 0: selection start; index 1: selection end</p></td>
</tr>
<tr class="row-odd"><td><p><span class="hparameter">_dis_ch</span> (array)</p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_RAW_TYPE</span></code></p></td>
<td><p>Disallowed characters.</p></td>
</tr>
<tr class="row-even"><td><p><span class="hparameter">_runs</span></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_RAW_TYPE</span></code></p></td>
<td><p>Flattened run array.</p></td>
</tr>
<tr class="row-odd"><td><p><span class="hparameter">_stylable</span></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BOOL_TYPE</span></code></p></td>
<td><p><span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> == is stylable.</p></td>
</tr>
<tr class="row-even"><td><p><span class="hparameter">_auto_in</span></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BOOL_TYPE</span></code></p></td>
<td><p><span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> == autoindent on</p></td>
</tr>
<tr class="row-odd"><td><p><span class="hparameter">_wrap</span></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BOOL_TYPE</span></code></p></td>
<td><p><span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> == word wrapping on</p></td>
</tr>
<tr class="row-even"><td><p><span class="hparameter">_nsel</span></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BOOL_TYPE</span></code></p></td>
<td><p><span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> == not selectable</p></td>
</tr>
<tr class="row-odd"><td><p><span class="hparameter">_nedit</span></p></td>
<td><p><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_BOOL_TYPE</span></code></p></td>
<td><p><span class="cpp-expr sig sig-inline cpp"><span class="k">true</span></span> == not editable</p></td>
</tr>
</tbody>
</table>
<p>Some of these fields may not be present if the setting they represent
isn’t used, or is the default value. For example, if word wrapping is off,
the <span class="hparameter">_wrap</span> field won’t be found in the archive.</p>
</section>
</section>


        <div class="clearer"></div>
      </div>
          </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="tab-view.html">BTabView</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="view.html">BView</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Haiku, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>