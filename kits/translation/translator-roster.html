
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>BTranslatorRoster &#8212; The Haiku Book  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/haiku.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/code.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="BDeskbar" href="../../topic/deskbar.html" />
    <link rel="prev" title="BTranslator" href="translator.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../index.html">
          <span>API Documentation</span></a></h1>
        <h2 class="heading"><span>BTranslatorRoster</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="translator.html">BTranslator</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="../../topic/deskbar.html">BDeskbar</a>&#160;&#160;»
        </p>

      </div>
        
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">BTranslatorRoster</a><ul>
<li><a class="reference internal" href="#constructor-and-destructor">Constructor and Destructor</a><ul>
<li><a class="reference internal" href="#_CPPv4N17BTranslatorRoster17BTranslatorRosterEv">BTranslatorRoster</a></li>
<li><a class="reference internal" href="#_CPPv4N17BTranslatorRosterD0Ev">~BTranslatorRoster</a></li>
</ul>
</li>
<li><a class="reference internal" href="#member-functions">Member Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N17BTranslatorRoster14AddTranslatorsEPKc">AddTranslators</a></li>
<li><a class="reference internal" href="#_CPPv4NK17BTranslatorRoster7ArchiveEP8BMessagePb">Archive</a></li>
<li><a class="reference internal" href="#_CPPv4NK17BTranslatorRoster17GetAllTranslatorsEPP13translator_idP5int32">GetAllTranslators</a></li>
<li><a class="reference internal" href="#_CPPv4N17BTranslatorRoster23GetConfigurationMessageE13translator_idP8BMessage">GetConfigurationMessage</a></li>
<li><a class="reference internal" href="#_CPPv4N17BTranslatorRoster15GetInputFormatsE13translator_idPPK18translation_formatP5int32">GetInputFormats</a></li>
<li><a class="reference internal" href="#_CPPv4N17BTranslatorRoster16GetOutputFormatsE13translator_idPPK18translation_formatP5int32">GetOutputFormats</a></li>
<li><a class="reference internal" href="#_CPPv4N17BTranslatorRoster17GetTranslatorInfoE13translator_idPPKcPPKcP5int32">GetTranslatorInfo</a></li>
<li><a class="reference internal" href="#_CPPv4N17BTranslatorRoster14GetTranslatorsEP11BPositionIOP8BMessagePP15translator_infoP5int326uint32PPKc6uint32">GetTranslators</a></li>
<li><a class="reference internal" href="#_CPPv4N17BTranslatorRoster8IdentifyEP11BPositionIOP8BMessageP15translator_info6uint32PPKc6uint32">Identify</a></li>
<li><a class="reference internal" href="#_CPPv4N17BTranslatorRoster21MakeConfigurationViewE13translator_idP8BMessagePP5BViewP5BRect">MakeConfigurationView</a></li>
<li><a class="reference internal" href="#_CPPv4N17BTranslatorRoster9TranslateEP11BPositionIOPK15translator_infoP8BMessageP11BPositionIO6uint326uint32PKc">Translate</a></li>
</ul>
</li>
<li><a class="reference internal" href="#static-functions">Static Functions</a><ul>
<li><a class="reference internal" href="#_CPPv4N17BTranslatorRoster7DefaultEv">Default</a></li>
<li><a class="reference internal" href="#_CPPv4N17BTranslatorRoster11InstantiateEP8BMessage">Instantiate</a></li>
<li><a class="reference internal" href="#_CPPv4N17BTranslatorRoster7VersionEP5int32P5int32P5int32">Version</a></li>
</ul>
</li>
<li><a class="reference internal" href="#archived-fields">Archived Fields</a></li>
</ul>
</li>
</ul>

  </div>

        </div>
      </div>
          <div class="bodywrapper">
      <div class="content" role="main">
        
  <section id="btranslatorroster">
<h1>BTranslatorRoster<a class="headerlink" href="#btranslatorroster" title="Permalink to this heading">¶</a></h1>
<section id="constructor-and-destructor">
<h2>Constructor and Destructor<a class="headerlink" href="#constructor-and-destructor" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N17BTranslatorRoster17BTranslatorRosterEv">
</section>
<h3>
BTranslatorRoster()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N17BTranslatorRoster17BTranslatorRosterEv" title="BTranslatorRoster::BTranslatorRoster"><span class="n">BTranslatorRoster</span></a><span class="p">::</span></span><span class="n">BTranslatorRoster</span><span class="sig-paren">(</span><span class="sig-paren">)</span><br /><span class="sig-prename descclassname"><a class="reference internal" href="#_CPPv4N17BTranslatorRoster17BTranslatorRosterEP8BMessage" title="BTranslatorRoster::BTranslatorRoster"><span class="n">BTranslatorRoster</span></a><span class="p">::</span></span><span class="n">BTranslatorRoster</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">model</span><span class="sig-paren">)</span></pre><p>Creates a new container for translators. The no-argument constructor
creates an empty container. The
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code>
constructor loads all the
translators from the directories specified in the be:translator_path
named fields in <span class="hparameter">model</span>.</p>
<p>If you just want to load the translators from the standard directories,
you can instead use the static member
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster7DefaultEv" title="BTranslatorRoster::Default"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Default()</span></code></a>
described below.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster14AddTranslatorsEPKc" title="BTranslatorRoster::AddTranslators"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AddTranslators()</span></code></a></p>
<section id="_CPPv4N17BTranslatorRosterD0Ev">
</section>
<h3>
~BTranslatorRoster()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="sig-prename descclassname"><span class="n">BTranslatorRoster</span><span class="p">::</span></span><span class="n">~BTranslatorRoster</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>Unloads any translators that were loaded and frees all memory allocated
by the <span class="hclass">BTranslatorRoster</span>.</p>
</section>
<section id="member-functions">
<h2>Member Functions<a class="headerlink" href="#member-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N17BTranslatorRoster14AddTranslatorsEPKc">
</section>
<h3>
AddTranslators()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BTranslatorRoster</span><span class="p">::</span></span><span class="n">AddTranslators</span><span class="sig-paren">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">load_path</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span></pre><p>Loads all the translators located in the colon-deliminated list of files
and directories found in <span class="hparameter">load_path</span>. All specified paths must be absolute.
If <span class="hparameter">load_path</span> is NULL, it loads the translators from the locations
specified in the TRANSLATORS environment variable. If the environment
variable is not defined, then it loads all the files in the default
directories /boot/home/config/add-ons/Translators,
/boot/home/config/add-ons/Datatypes, and
/system/add-ons/Translators.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster7DefaultEv" title="BTranslatorRoster::Default"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Default()</span></code></a>
static function</p>
<section id="_CPPv4NK17BTranslatorRoster7ArchiveEP8BMessagePb">
</section>
<h3>
Archive()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BTranslatorRoster</span><span class="p">::</span></span><span class="n">Archive</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">into</span>, <span class="kt">bool</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">deep</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">true</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Archives the <span class="hclass">BTranslatorRoster</span> by recording its loaded add-ons in the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code> into.</p>
<p>See also:
<a class="reference internal" href="../support/archivable.html#_CPPv4NK11BArchivable7ArchiveEP8BMessageb" title="BArchivable::Archive"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BArchivable::Archive()</span></code></a>,
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster11InstantiateEP8BMessage" title="BTranslatorRoster::Instantiate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Instantiate()</span></code></a>
static function</p>
<section id="_CPPv4NK17BTranslatorRoster17GetAllTranslatorsEPP13translator_idP5int32">
</section>
<h3>
GetAllTranslators()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BTranslatorRoster</span><span class="p">::</span></span><span class="n">GetAllTranslators</span><span class="sig-paren">(</span><span class="n">translator_id</span><span class="w"> </span><span class="p">*</span><span class="p">*</span><span class="n sig-param">outList</span>, <span class="n">int32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outCount</span><span class="sig-paren">)</span><span class="w"> </span><span class="k">const</span></pre><p>Returns, in <span class="hparameter">outList</span>, an array of all the translators loaded by the
<span class="hclass">BTranslationRoster</span>. The number of elements in the array is placed in
<span class="hparameter">outCount</span>. The application assumes responsibility for deallocating the
array.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster8IdentifyEP11BPositionIOP8BMessageP15translator_info6uint32PPKc6uint32" title="BTranslatorRoster::Identify"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Identify()</span></code></a>,
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster14GetTranslatorsEP11BPositionIOP8BMessagePP15translator_infoP5int326uint32PPKc6uint32" title="BTranslatorRoster::GetTranslators"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetTranslators()</span></code></a>,
<a class="reference internal" href="#_CPPv4NK17BTranslatorRoster17GetAllTranslatorsEPP13translator_idP5int32" title="BTranslatorRoster::GetAllTranslators"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetAllTranslators()</span></code></a></p>
<section id="_CPPv4N17BTranslatorRoster23GetConfigurationMessageE13translator_idP8BMessage">
</section>
<h3>
GetConfigurationMessage()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BTranslatorRoster</span><span class="p">::</span></span><span class="n">GetConfigurationMessage</span><span class="sig-paren">(</span><span class="n">translator_id</span><span class="w"> </span><span class="n sig-param">forTranslator</span>, <span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">ioExtension</span><span class="sig-paren">)</span></pre><p>Saves the current configuration information for
translator <span class="hparameter">forTranslator</span>
in <span class="hparameter">ioExtension</span>. This information may be flattened, unflattened, and
passed to
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster9TranslateEP11BPositionIOPK15translator_infoP8BMessageP11BPositionIO6uint326uint32PKc" title="BTranslatorRoster::Translate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Translate()</span></code></a>
to configure it.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster21MakeConfigurationViewE13translator_idP8BMessagePP5BViewP5BRect" title="BTranslatorRoster::MakeConfigurationView"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MakeConfigurationView()</span></code></a>,
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster9TranslateEP11BPositionIOPK15translator_infoP8BMessageP11BPositionIO6uint326uint32PKc" title="BTranslatorRoster::Translate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Translate()</span></code></a></p>
<section id="_CPPv4N17BTranslatorRoster15GetInputFormatsE13translator_idPPK18translation_formatP5int32">
</section>
<section id="_CPPv4N17BTranslatorRoster16GetOutputFormatsE13translator_idPPK18translation_formatP5int32">
</section>
<h3>
GetInputFormats(), GetOutputFormats()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BTranslatorRoster</span><span class="p">::</span></span><span class="n">GetInputFormats</span><span class="sig-paren">(</span><span class="n">translator_id</span><span class="w"> </span><span class="n sig-param">forTranslator</span>, <span class="k">const</span><span class="w"> </span><span class="n">translation_format</span><span class="w"> </span><span class="p">*</span><span class="p">*</span><span class="n sig-param">outFormats</span>, <span class="n">int32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outNumFormats</span><span class="sig-paren">)</span></pre><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BTranslatorRoster</span><span class="p">::</span></span><span class="n">GetOutputFormats</span><span class="sig-paren">(</span><span class="n">translator_id</span><span class="w"> </span><span class="n sig-param">forTranslator</span>, <span class="k">const</span><span class="w"> </span><span class="n">translation_format</span><span class="w"> </span><span class="p">*</span><span class="p">*</span><span class="n sig-param">outFormats</span>, <span class="n">int32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outNumFormats</span><span class="sig-paren">)</span></pre><p>Returns an array of the published accepted input or output formats for
translator forTranslator. outNumFormats is filled with the number of
elements in the array.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster17GetTranslatorInfoE13translator_idPPKcPPKcP5int32" title="BTranslatorRoster::GetTranslatorInfo"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetTranslatorInfo()</span></code></a></p>
<section id="_CPPv4N17BTranslatorRoster17GetTranslatorInfoE13translator_idPPKcPPKcP5int32">
</section>
<h3>
GetTranslatorInfo()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BTranslatorRoster</span><span class="p">::</span></span><span class="n">GetTranslatorInfo</span><span class="sig-paren">(</span><span class="n">translator_id</span><span class="w"> </span><span class="n sig-param">forTranslator</span>, <span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="p">*</span><span class="n sig-param">outName</span>, <span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="p">*</span><span class="n sig-param">outInfo</span>, <span class="n">int32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outNumFormats</span><span class="sig-paren">)</span></pre><p>Returns public information about translator <span class="hparameter">forTranslator</span>.
Sets <span class="hparameter">outName</span>
with a short description of the translator, <span class="hparameter">outInfo</span> with a longer
description, and <span class="hparameter">outVersion</span> with the translator’s version number.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster15GetInputFormatsE13translator_idPPK18translation_formatP5int32" title="BTranslatorRoster::GetInputFormats"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetInputFormats()</span></code></a>,
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster16GetOutputFormatsE13translator_idPPK18translation_formatP5int32" title="BTranslatorRoster::GetOutputFormats"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetOutputFormats()</span></code></a></p>
<section id="_CPPv4N17BTranslatorRoster14GetTranslatorsEP11BPositionIOP8BMessagePP15translator_infoP5int326uint32PPKc6uint32">
</section>
<h3>
GetTranslators()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BTranslatorRoster</span><span class="p">::</span></span><span class="n">GetTranslators</span><span class="sig-paren">(</span><span class="n">BPositionIO</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">inSource</span>, <span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">ioExtension</span>, <span class="n">translator_info</span><span class="w"> </span><span class="p">*</span><span class="p">*</span><span class="n sig-param">outInfo</span>, <span class="n">int32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outNumInfo</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">inHintType</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span>, <span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="p">*</span><span class="n sig-param">inHintMIME</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">inWantType</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span><span class="sig-paren">)</span></pre><p>Identifies the media in <span class="hparameter">inSource</span>, returning an
array of valid formats and translators equipped to handle them in
<span class="hparameter">outInfo</span>. <span class="hparameter">outNumInfo</span> holds the
number of elements in the array. If <span class="hparameter">inHintType</span> or
<span class="hparameter">inHintMIME</span> is specified, only those translators that
can accept data of the specified type are searched. If
<span class="hparameter">inWantType</span> is specified, only those translators that
can output data of that type are searched.
<span class="hparameter">ioExtension</span> offers an opportunity for the
application to specify additional configuration information to the add-ons.
The application assumes responsibility for deallocating the array.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster8IdentifyEP11BPositionIOP8BMessageP15translator_info6uint32PPKc6uint32" title="BTranslatorRoster::Identify"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Identify()</span></code></a>,
<a class="reference internal" href="#_CPPv4NK17BTranslatorRoster17GetAllTranslatorsEPP13translator_idP5int32" title="BTranslatorRoster::GetAllTranslators"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetAllTranslators()</span></code></a></p>
<section id="_CPPv4N17BTranslatorRoster8IdentifyEP11BPositionIOP8BMessageP15translator_info6uint32PPKc6uint32">
</section>
<h3>
Identify()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BTranslatorRoster</span><span class="p">::</span></span><span class="n">Identify</span><span class="sig-paren">(</span><span class="n">BPositionIO</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">inSource</span>, <span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">ioExtension</span>, <span class="n">translator_info</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outInfo</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">inHintType</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span>, <span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="p">*</span><span class="n sig-param">inHintMIME</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">inWantType</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span><span class="sig-paren">)</span></pre><p>Identifies the media in <span class="hparameter">inSource</span>, returning a
best guess of the format and the translator best equipped to handle it in
<span class="hparameter">outInfo</span>. If <span class="hparameter">inHintType</span> or
<span class="hparameter">inHintMIME</span> is specified, only those translators that
can accept data of the specified type are searched. If
<span class="hparameter">inWantType</span> is specified, only those translators that
can output data of that type are searched.
<span class="hparameter">ioExtension</span> offers an opportunity for the
application to specify additional configuration information to the
add-ons.</p>
<p>If more than one translator can identify <span class="hparameter">inSource</span>,
then the one with the highest quality*capability is returned.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster14GetTranslatorsEP11BPositionIOP8BMessagePP15translator_infoP5int326uint32PPKc6uint32" title="BTranslatorRoster::GetTranslators"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetTranslators()</span></code></a>,
<a class="reference internal" href="#_CPPv4NK17BTranslatorRoster17GetAllTranslatorsEPP13translator_idP5int32" title="BTranslatorRoster::GetAllTranslators"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetAllTranslators()</span></code></a></p>
<section id="_CPPv4N17BTranslatorRoster21MakeConfigurationViewE13translator_idP8BMessagePP5BViewP5BRect">
</section>
<h3>
MakeConfigurationView()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BTranslatorRoster</span><span class="p">::</span></span><span class="n">MakeConfigurationView</span><span class="sig-paren">(</span><span class="n">translator_id</span><span class="w"> </span><span class="n sig-param">forTranslator</span>, <span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">ioExtension</span>, <span class="n">BView</span><span class="w"> </span><span class="p">*</span><span class="p">*</span><span class="n sig-param">outView</span>, <span class="n">BRect</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outExtent</span><span class="sig-paren">)</span></pre><p>Returns, in <span class="hparameter">outView</span>, a
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code> containing
controls to configure translator
<span class="hparameter">forTranslator</span>. It is the application’s responsibility to attach the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code>
to a
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BWindow</span></code>.
The initial size of the
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code> is given in
<span class="hparameter">outExtent</span> but may
be resized by the application.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster23GetConfigurationMessageE13translator_idP8BMessage" title="BTranslatorRoster::GetConfigurationMessage"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">GetConfigurationMessage()</span></code></a>,
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster9TranslateEP11BPositionIOPK15translator_infoP8BMessageP11BPositionIO6uint326uint32PKc" title="BTranslatorRoster::Translate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Translate()</span></code></a></p>
<section id="_CPPv4N17BTranslatorRoster9TranslateEP11BPositionIOPK15translator_infoP8BMessageP11BPositionIO6uint326uint32PKc">
</section>
<h3>
Translate()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BTranslatorRoster</span><span class="p">::</span></span><span class="n">Translate</span><span class="sig-paren">(</span><span class="n">BPositionIO</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">inSource</span>, <span class="k">const</span><span class="w"> </span><span class="n">translator_info</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">inInfo</span>, <span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">ioExtension</span>, <span class="n">BPositionIO</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outDestination</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">inWantOutType</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">inHintType</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span>, <span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">inHintMIME</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">NULL</span><span class="sig-paren">)</span><br /><span class="k">virtual</span><span class="w"> </span><span class="n">status_t</span><span class="w"> </span><span class="sig-prename descclassname"><span class="n">BTranslatorRoster</span><span class="p">::</span></span><span class="n">Translate</span><span class="sig-paren">(</span><span class="n">translator_id</span><span class="w"> </span><span class="n sig-param">inTranslator</span>, <span class="n">BPositionIO</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">inSource</span>, <span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">ioExtension</span>, <span class="n">BPositionIO</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outDestination</span>, <span class="n">uint32</span><span class="w"> </span><span class="n sig-param">inWantOutType</span><span class="sig-paren">)</span></pre><p>These two functions carry out data conversion, converting the data in
<span class="hparameter">inSource</span> to type
<span class="hparameter">inWantoutType</span> and placing the resulting output in
<span class="hparameter">outDestination</span>. <span class="hparameter">inInfo</span> should
always contain either the output of an
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster8IdentifyEP11BPositionIOP8BMessageP15translator_info6uint32PPKc6uint32" title="BTranslatorRoster::Identify"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Identify()</span></code></a>
call or NULL. The translation uses the translator identified
by <code class="docutils literal notranslate"><span class="pre">inInfo-&gt;infoTranslator</span></code>
or <span class="hparameter">inTranslator</span> as appropriate. If <span class="hparameter">inInfo</span> is
NULL, <span class="hmethod">Translate()</span> will call first
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster8IdentifyEP11BPositionIOP8BMessageP15translator_info6uint32PPKc6uint32" title="BTranslatorRoster::Identify"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Identify()</span></code></a>
to discover the format of
the input stream. <span class="hparameter">ioExtension</span>, if it is not NULL, provides a
communication path between the translator and the application. <span class="hparameter">inHintType</span>
and <span class="hparameter">inHintMIME</span>, if provided, are passed as hints to the translator.</p>
</section>
<section id="static-functions">
<h2>Static Functions<a class="headerlink" href="#static-functions" title="Permalink to this heading">¶</a></h2>
<section id="_CPPv4N17BTranslatorRoster7DefaultEv">
</section>
<h3>
Default()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BTranslatorRoster</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BTranslatorRoster</span><span class="p">::</span></span><span class="n">Default</span><span class="sig-paren">(</span><span class="sig-paren">)</span></pre><p>This returns a <span class="hclass">BTranslatorRoster</span> loaded with the default set of
translators, loaded from the colon-deliminated list of files and
directories found in the environment variable TRANSLATORS. If no such
variable exists, the translators are loaded from the default locations
/boot/home/config/add-ons/Translators,
/boot/home/config/add-ons/Datatypes, and
/system/add-ons/Translators.</p>
<p>The instance of <span class="hclass">BTranslatorRoster</span> returned by this function is global to
the application and should not be deleted. Although you can add
translators to the returned <span class="hclass">BTranslatorRoster</span>, this is not recommended.
It’s better to use a new instance of the class.</p>
<p>See also:
<a class="reference internal" href="#_CPPv4N17BTranslatorRoster14AddTranslatorsEPKc" title="BTranslatorRoster::AddTranslators"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AddTranslators()</span></code></a></p>
<section id="_CPPv4N17BTranslatorRoster11InstantiateEP8BMessage">
</section>
<h3>
Instantiate()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="n">BTranslatorRoster</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BTranslatorRoster</span><span class="p">::</span></span><span class="n">Instantiate</span><span class="sig-paren">(</span><span class="n">BMessage</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">from</span><span class="sig-paren">)</span></pre><p>Returns a new <span class="hclass">BTranslatorRoster</span>
object, allocated by new and created with
the version of the constructor that takes a
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code>
archive. However, if the archive doesn’t contain data for a
<span class="hclass">BTranslatorRoster</span> object,
<span class="hmethod">Instantiate()</span> returns NULL.</p>
<p>See also:
<a class="reference internal" href="../support/archivable.html#_CPPv4N11BArchivable11InstantiateEP8BMessage" title="BArchivable::Instantiate"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">BArchivable::Instantiate()</span></code></a>,
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">object()</span></code>,
<a class="reference internal" href="#_CPPv4NK17BTranslatorRoster7ArchiveEP8BMessagePb" title="BTranslatorRoster::Archive"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Archive()</span></code></a></p>
<section id="_CPPv4N17BTranslatorRoster7VersionEP5int32P5int32P5int32">
</section>
<h3>
Version()</h3><pre style="background: #f3f3f3; line-height: 2em"><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">*</span><span class="sig-prename descclassname"><span class="n">BTranslatorRoster</span><span class="p">::</span></span><span class="n">Version</span><span class="sig-paren">(</span><span class="n">int32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outCurVersion</span>, <span class="n">int32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">outMinVersion</span>, <span class="n">int32</span><span class="w"> </span><span class="p">*</span><span class="n sig-param">inAppVersion</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">B_TRANSLATION_CURRENT_VERSION</span><span class="sig-paren">)</span></pre><p>Sets <span class="hparameter">outCurVersion</span> to the Translation Kit
protocol version number and <span class="hparameter">outMinVersion</span> to the
minimum protocol version number supported. Returns a human-readable string
containing version information. Currently,
<span class="hparameter">inAppVersion</span> must be
B_TRANSLATION_CURRENT_VERSION.</p>
</section>
<section id="archived-fields">
<h2>Archived Fields<a class="headerlink" href="#archived-fields" title="Permalink to this heading">¶</a></h2>
<p>The <a class="reference internal" href="#_CPPv4NK17BTranslatorRoster7ArchiveEP8BMessagePb" title="BTranslatorRoster::Archive"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">Archive()</span></code></a> function adds the following field
to its <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BMessage</span></code> argument:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Field</p></th>
<th class="head"><p>Type code</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">be:translator_path</span></code> (array)</p></td>
<td><p><code class="xref cpp cpp-enum docutils literal notranslate"><span class="pre">B_STRING_TYPE</span></code></p></td>
<td><p>The location of the Translation Kit add-on (one field per add-on).</p></td>
</tr>
</tbody>
</table>
</section>
</section>


        <div class="clearer"></div>
      </div>
          </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="translator.html">BTranslator</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="../../topic/deskbar.html">BDeskbar</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Haiku, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>