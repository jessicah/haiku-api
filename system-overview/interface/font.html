
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>BFont &#8212; The Haiku Book  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/haiku.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/code.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="The Application Kit" href="index.html" />
    <link rel="prev" title="Drawing" href="drawing.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../index.html">
          <span>API Documentation</span></a></h1>
        <h2 class="heading"><span>BFont</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="drawing.html">Drawing</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="index.html">The Application Kit</a>&#160;&#160;»
        </p>

      </div>
        
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">BFont</a><ul>
<li><a class="reference internal" href="#using-a-bfont-object">Using a BFont Object</a></li>
<li><a class="reference internal" href="#system-fonts">System Fonts</a></li>
</ul>
</li>
</ul>

  </div>

        </div>
      </div>
          <div class="bodywrapper">
      <div class="content" role="main">
        
  <section id="bfont">
<h1 id="CPPv45BFont">BFont<a class="headerlink" href="#bfont" title="Permalink to this heading">¶</a></h1>
<p>A <a class="reference internal" href="../../kits/interface/font.html#_CPPv45BFont" title="BFont"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFont</span></code></a> object records a set of font attributes, such as the
font’s family, style, size, and so on. You can set most of these attributes
to modify the font and then use the object to set the font of a
<a class="reference internal" href="../../kits/interface/view.html#_CPPv45BView" title="BView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code></a>. A <a class="reference internal" href="../../kits/interface/view.html#_CPPv45BView" title="BView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code></a>’s font determines how the
characters that it draws (with the <a class="reference internal" href="../../kits/interface/view.html#_CPPv4N5BView10DrawStringEPKcP16escapement_delta" title="BView::DrawString"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DrawString()</span></code></a> and <a class="reference internal" href="../../kits/interface/view.html#_CPPv4N5BView8DrawCharEc" title="BView::DrawChar"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DrawChar()</span></code></a>
functions) will be rendered.</p>
<p>A <a class="reference internal" href="../../kits/interface/font.html#_CPPv45BFont" title="BFont"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFont</span></code></a> object can perform calculations based on the metrics
of the particular font it represents. For example, it can tell you how much
screen real estate it needs to display a given line of text.</p>
<p>To find which fonts are currently installed on the system, call
<span class="xref std std-ref">get_font_family()</span> and <span class="xref std std-ref">get_font_style()</span>.</p>
<section id="using-a-bfont-object">
<h2>Using a BFont Object<a class="headerlink" href="#using-a-bfont-object" title="Permalink to this heading">¶</a></h2>
<p>A <a class="reference internal" href="../../kits/interface/font.html#_CPPv45BFont" title="BFont"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFont</span></code></a> object by itself doesn’t do anything. To be able to
draw characters in the font, the object must be passed to
<a class="reference internal" href="../../kits/interface/view.html#_CPPv45BView" title="BView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code></a>’s <a class="reference internal" href="../../kits/interface/view.html#_CPPv4N5BView7SetFontEPK5BFont6uint32" title="BView::SetFont"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFont()</span></code></a> function (or
<a class="reference internal" href="../../kits/interface/text-view.html#_CPPv49BTextView" title="BTextView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BTextView</span></code></a>’s <a class="reference internal" href="../../kits/interface/text-view.html#_CPPv4N9BTextView15SetFontAndColorE5int325int32PK5BFont6uint32P9rgb_color" title="BTextView::SetFontAndColor"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFontAndColor()</span></code></a>).</p>
<p>A <a class="reference internal" href="../../kits/interface/font.html#_CPPv45BFont" title="BFont"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFont</span></code></a> object is always a full representation of a font; all
attributes are always set. However, you can choose which of these
attributes will modify a <a class="reference internal" href="../../kits/interface/view.html#_CPPv45BView" title="BView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BView</span></code></a>’s current font by passing a
mask to <a class="reference internal" href="../../kits/interface/view.html#_CPPv4N5BView7SetFontEPK5BFont6uint32" title="BView::SetFont"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFont()</span></code></a> (or <a class="reference internal" href="../../kits/interface/text-view.html#_CPPv49BTextView" title="BTextView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BTextView</span></code></a>’s
<a class="reference internal" href="../../kits/interface/text-view.html#_CPPv4N9BTextView15SetFontAndColorE5int325int32PK5BFont6uint32P9rgb_color" title="BTextView::SetFontAndColor"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFontAndColor()</span></code></a>). For example,
this code sets only the font shear and spacing:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">BFont</span><span class="w"> </span><span class="n">font</span><span class="p">;</span><span class="w"></span>
<span class="n">font</span><span class="p">.</span><span class="n">SetShear</span><span class="p">(</span><span class="mf">60.0</span><span class="p">);</span><span class="w"></span>
<span class="n">font</span><span class="p">.</span><span class="n">SetSpacing</span><span class="p">(</span><span class="n">B_CHAR_SPACING</span><span class="p">);</span><span class="w"></span>
<span class="n">myView</span><span class="o">-&gt;</span><span class="n">SetFont</span><span class="p">(</span><span class="o">&amp;</span><span class="n">font</span><span class="p">,</span><span class="w"> </span><span class="n">B_FONT_SHEAR</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">B_FONT_SPACING</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Alternatively, the <span class="hclass">BView</span>’s font could have been modified and
reset as follows:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">BFont</span><span class="w"> </span><span class="n">font</span><span class="p">;</span><span class="w"></span>
<span class="n">myView</span><span class="o">-&gt;</span><span class="n">GetFont</span><span class="p">(</span><span class="o">&amp;</span><span class="n">font</span><span class="p">);</span><span class="w"></span>
<span class="n">font</span><span class="p">.</span><span class="n">SetShear</span><span class="p">(</span><span class="mf">60.0</span><span class="p">);</span><span class="w"></span>
<span class="n">font</span><span class="p">.</span><span class="n">SetSpacing</span><span class="p">(</span><span class="n">B_CHAR_SPACING</span><span class="p">);</span><span class="w"></span>
<span class="n">myView</span><span class="o">-&gt;</span><span class="n">SetFont</span><span class="p">(</span><span class="o">&amp;</span><span class="n">font</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Notice that we had to explicitly reset the view’s font (through
<a class="reference internal" href="../../kits/interface/view.html#_CPPv4N5BView7SetFontEPK5BFont6uint32" title="BView::SetFont"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFont()</span></code></a>) after changing the font’s
attributes.</p>
</section>
<section id="system-fonts">
<h2>System Fonts<a class="headerlink" href="#system-fonts" title="Permalink to this heading">¶</a></h2>
<p>The Interface Kit constructs three <a class="reference internal" href="../../kits/interface/font.html#_CPPv45BFont" title="BFont"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BFont</span></code></a> objects (plain,
bold, and fixed)for each application when the application starts up. The
values of these fonts are set by the user through the FontPanel preferences
application. You can get to these objects through global pointers :</p>
<table class="colwidths-auto docutils align-left">
<thead>
<tr class="row-odd"><th class="head"><p>Constant</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>constBFont*be_plain_font</p></td>
<td><p>The font that’s used to display most gadgets in the user interface, such
as check box labels and menu items. All <a class="reference internal" href="../../kits/interface/control.html#_CPPv48BControl" title="BControl"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BControl</span></code></a> objects use
this font.</p></td>
</tr>
<tr class="row-odd"><td><p>constBFont*be_bold_font</p></td>
<td><p>The font that’s used to display window titles and <a class="reference internal" href="../../kits/interface/box.html#_CPPv44BBox" title="BBox"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BBox</span></code></a>
labels.</p></td>
</tr>
<tr class="row-even"><td><p>constBFont*be_fixed_font</p></td>
<td><p>The font that’s used to display fixed-width characters.</p></td>
</tr>
</tbody>
</table>
<p>The global fonts are const objects that can’t be modified by your
application, and aren’t updated by the system, even if the user changes
their definitions while your app is running. The new values take effect the
next time your application is launched.</p>
<p>To use a system font in a view, simply call <a class="reference internal" href="../../kits/interface/view.html#_CPPv4N5BView7SetFontEPK5BFont6uint32" title="BView::SetFont"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">SetFont()</span></code></a>:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">myView</span><span class="o">-&gt;</span><span class="n">SetFont</span><span class="p">(</span><span class="n">be_bold_font</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>If you want to modify some attributes of a system font, you have to make a
copy of it first (and modify the copy):</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">BFont</span><span class="w"> </span><span class="nf">font</span><span class="p">(</span><span class="n">be_bold_font</span><span class="p">);</span><span class="w"></span>
<span class="n">font</span><span class="p">.</span><span class="n">SetSize</span><span class="p">(</span><span class="mf">13.0</span><span class="p">);</span><span class="w"></span>
<span class="n">myView</span><span class="o">-&gt;</span><span class="n">SetFont</span><span class="p">(</span><span class="o">&amp;</span><span class="n">font</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Applications should respect the user’s choices and base all font choices
on these three system fonts, rather than hard-code font names into the
application. You should not try to predict the fonts that will be installed
on the user’s machine.</p>
</section>
</section>


        <div class="clearer"></div>
      </div>
          </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="drawing.html">Drawing</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="index.html">The Application Kit</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Haiku, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>