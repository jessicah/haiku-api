
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>BOutlineListView &#8212; The Haiku Book  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/haiku.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/code.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="BPicture" href="picture.html" />
    <link rel="prev" title="BMenuItem" href="menu-item.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../index.html">
          <span>API Documentation</span></a></h1>
        <h2 class="heading"><span>BOutlineListView</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="menu-item.html">BMenuItem</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="picture.html">BPicture</a>&#160;&#160;»
        </p>

      </div>
        
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../../index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">BOutlineListView</a><ul>
<li><a class="reference internal" href="#outline-structure">Outline Structure</a></li>
<li><a class="reference internal" href="#inherited-functions">Inherited Functions</a></li>
</ul>
</li>
</ul>

  </div>

        </div>
      </div>
          <div class="bodywrapper">
      <div class="content" role="main">
        
  <section id="boutlinelistview">
<h1 id="CPPv416BOutlineListView">BOutlineListView<a class="headerlink" href="#boutlinelistview" title="Permalink to this heading">¶</a></h1>
<p>A <a class="reference internal" href="../../kits/interface/outline-list-view.html#_CPPv416BOutlineListView" title="BOutlineListView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BOutlineListView</span></code></a> displays a list of items that can be
structured like an outline, with items grouped under other items. The
levels of the outline are indicated by successive levels of indentation.</p>
<p><img alt="Outline ListView" src="system-overview/interface/images/TheInterfaceKit/outlinelist.png" /></p>
<p>The outline list view shown above was created using the following code:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">BOutlineListView</span><span class="w"> </span><span class="o">*</span><span class="n">outline</span><span class="p">;</span><span class="w"></span>
<span class="n">BListItem</span><span class="w"> </span><span class="o">*</span><span class="n">region</span><span class="p">;</span><span class="w"></span>
<span class="n">BListItem</span><span class="w"> </span><span class="o">*</span><span class="n">state</span><span class="p">;</span><span class="w"></span>

<span class="n">SetViewColor</span><span class="p">(</span><span class="mi">216</span><span class="p">,</span><span class="mi">216</span><span class="p">,</span><span class="mi">216</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span><span class="w"></span>

<span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Bounds</span><span class="p">();</span><span class="w"></span>
<span class="n">r</span><span class="p">.</span><span class="n">InsetBy</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span><span class="w"></span>
<span class="n">r</span><span class="p">.</span><span class="n">right</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span><span class="w"></span>
<span class="n">r</span><span class="p">.</span><span class="n">top</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span><span class="w"></span>

<span class="n">outline</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BOutlineListView</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;cities_list&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">               </span><span class="n">B_MULTIPLE_SELECTION_LIST</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>First, the <a class="reference internal" href="../../kits/interface/outline-list-view.html#_CPPv416BOutlineListView" title="BOutlineListView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BOutlineListView</span></code></a> is created, with a rectangle
computed by insetting from the parent view’s bounds rectangle. The
<code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">B_MULTIPLE_SELECTION_LIST</span></code> flag is specified to indicate
that the user should be allowed to choose more than one item in the list.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;United States of America&quot;</span><span class="p">)</span><span class="w"></span>
<span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddItem</span><span class="p">(</span><span class="n">region</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>This creates a new item in level 0 (the “region” level).</p>
<p>The United States is then divided into states, which comprise level 1 of
the outline list. This line of code adds California to the list, placing it
“under” the region (United States of America):</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;California&quot;</span><span class="p">)</span><span class="w"></span>
<span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddUnder</span><span class="p">(</span><span class="n">state</span><span class="p">,</span><span class="w"> </span><span class="n">region</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>a pointer to the new item for California is saved in the variable
<span class="hparameter">state</span>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddUnder</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;Menlo Park&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">state</span><span class="p">);</span><span class="w"></span>
<span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddUnder</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;Los Angeles&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">state</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>California is then further divided into cities: Menlo Park and Los
Angeles, which reside at level 2 of our outline list. These are inserted
under the California item by specifying the pointer to that item (locality)
when calling <a class="reference internal" href="../../kits/interface/outline-list-view.html#_CPPv4N16BOutlineListView8AddUnderEP9BListItemP9BListItem" title="BOutlineListView::AddUnder"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">AddUnder()</span></code></a>.</p>
<p>This process is repeated for New York state, which has three cities
available in our list:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">locality</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;New York&quot;</span><span class="p">)</span><span class="w"></span>
<span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddUnder</span><span class="p">(</span><span class="n">locality</span><span class="p">,</span><span class="w"> </span><span class="n">region</span><span class="p">);</span><span class="w"></span>
<span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddUnder</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;Albany&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">locality</span><span class="p">);</span><span class="w"></span>
<span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddUnder</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;Buffalo&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">locality</span><span class="p">);</span><span class="w"></span>
<span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddUnder</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;New York City&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">locality</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Then the Europe region is added (in level 0), and the nations of France,
Germany, and Italy are added as localities (level 1). Each of those three
localities has cities, which are added into level 2.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;Europe&quot;</span><span class="p">)</span><span class="w"></span>
<span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddItem</span><span class="p">(</span><span class="n">region</span><span class="p">);</span><span class="w"></span>
<span class="n">locality</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;France&quot;</span><span class="p">)</span><span class="w"></span>
<span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddUnder</span><span class="p">(</span><span class="n">locality</span><span class="p">,</span><span class="w"> </span><span class="n">region</span><span class="p">);</span><span class="w"></span>
<span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddUnder</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;Paris&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">locality</span><span class="p">);</span><span class="w"></span>

<span class="n">locality</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;Germany&quot;</span><span class="p">)</span><span class="w"></span>
<span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddUnder</span><span class="p">(</span><span class="n">locality</span><span class="p">,</span><span class="w"> </span><span class="n">region</span><span class="p">);</span><span class="w"></span>
<span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddUnder</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;Berlin&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">locality</span><span class="p">);</span><span class="w"></span>
<span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddUnder</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;Hamburg&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">locality</span><span class="p">);</span><span class="w"></span>

<span class="n">locality</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;Italy&quot;</span><span class="p">)</span><span class="w"></span>
<span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddUnder</span><span class="p">(</span><span class="n">locality</span><span class="p">,</span><span class="w"> </span><span class="n">region</span><span class="p">);</span><span class="w"></span>
<span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddUnder</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;Milan&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">locality</span><span class="p">);</span><span class="w"></span>
<span class="n">outline</span><span class="o">-&gt;</span><span class="n">AddUnder</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BStringItem</span><span class="p">(</span><span class="s">&quot;Rome&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">locality</span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>Once the list has been completely constructed, a <a class="reference internal" href="../../kits/interface/scroll-view.html#_CPPv411BScrollView" title="BScrollView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BScrollView</span></code></a>
is created to contain the outline list view, and is then added to the list.
See the <a class="reference internal" href="../../kits/interface/scroll-view.html#_CPPv411BScrollView" title="BScrollView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BScrollView</span></code></a> class for details on how this works:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">AddChild</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BScrollView</span><span class="p">(</span><span class="s">&quot;scroll_cities&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">outline</span><span class="p">,</span><span class="w"></span>
<span class="w">         </span><span class="n">B_FOLLOW_LEFT</span><span class="o">|</span><span class="n">B_FOLLOW_TOP</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">));</span><span class="w"></span>
</pre></div>
</div>
<p>Finally, a <a class="reference internal" href="../../kits/interface/string-view.html#_CPPv411BStringView" title="BStringView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BStringView</span></code></a> is created to label the list with a
prompt indicating that you should “Select the Cities to Attack:”.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Bounds</span><span class="p">();</span><span class="w"></span>
<span class="n">r</span><span class="p">.</span><span class="n">InsetBy</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span><span class="w"></span>
<span class="n">r</span><span class="p">.</span><span class="n">bottom</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">.</span><span class="n">top</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">12</span><span class="p">;</span><span class="w"></span>
<span class="n">AddChild</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">BStringView</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;message_string&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="s">&quot;Select the Cities to Attack:&quot;</span><span class="p">));</span><span class="w"></span>
</pre></div>
</div>
<section id="outline-structure">
<h2>Outline Structure<a class="headerlink" href="#outline-structure" title="Permalink to this heading">¶</a></h2>
<p>If an item has other items under it—that is, if the immediately following
item in the list is at a deeper level of the outline—it is a superitem; the
items grouped under it are its subitems. Superitems are marked by a
triangular icon or latch, in the usual interface for hypertext lists.</p>
<p>The user can collapse or expand sections of the outline by manipulating
the latch. When a section is collapsed, only the superitem for that section
is visible (and the latch points to the superitem). All items that follow
the superitem are hidden, up to the next item that’s not at a deeper
outline level. When a section is expanded, subitems are visible (and the
latch points downward).</p>
</section>
<section id="inherited-functions">
<h2>Inherited Functions<a class="headerlink" href="#inherited-functions" title="Permalink to this heading">¶</a></h2>
<p>The <a class="reference internal" href="../../kits/interface/outline-list-view.html#_CPPv416BOutlineListView" title="BOutlineListView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BOutlineListView</span></code></a> class inherits most of its functionality
from the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BListView</span></code> class. However, inherited functions are
concerned only with the expanded sections of the list, not with sections
that are hidden because they’re collapsed. If an inherited function returns
an index or takes an index as an argument, the index counts just the items
that are shown on-screen (or could be shown on-screen if they were scrolled
into the visible region of the view). <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">DoForEach()</span></code> skips items that can’t be displayed.
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">CountItems()</span></code> counts items only in the
expanded sections of the list.</p>
<p>However, the functions that the <a class="reference internal" href="../../kits/interface/outline-list-view.html#_CPPv416BOutlineListView" title="BOutlineListView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BOutlineListView</span></code></a> class itself
defines are concerned with all sections of the list, expanded or collapsed.
For its functions, an index counts all items in the list, whether visible
or not.</p>
<p>The class defines some functions that match those it inherits, but its
versions prefix <span class="hmethod">FullList…()</span> to the function name and don’t
ignore any items. For example, <a class="reference internal" href="../../kits/interface/outline-list-view.html#_CPPv4NK16BOutlineListView18FullListCountItemsEv" title="BOutlineListView::FullListCountItems"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">FullListCountItems()</span></code></a> counts every item in the list and
<a class="reference internal" href="../../kits/interface/outline-list-view.html#_CPPv4N16BOutlineListView17FullListDoForEachEPFbP9BListItemE" title="BOutlineListView::FullListDoForEach"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">FullListDoForEach()</span></code></a>
doesn’t skip items in collapsed sections.</p>
<p>In some cases, <a class="reference internal" href="../../kits/interface/outline-list-view.html#_CPPv416BOutlineListView" title="BOutlineListView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BOutlineListView</span></code></a> simply overrides an inherited
function without adding the <span class="hmethod">FullList…()</span> prefix. You should
always use the <a class="reference internal" href="../../kits/interface/outline-list-view.html#_CPPv416BOutlineListView" title="BOutlineListView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BOutlineListView</span></code></a> versions of these functions,
not the <code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BListView</span></code> versions. For example,
<a class="reference internal" href="../../kits/interface/outline-list-view.html#_CPPv416BOutlineListView" title="BOutlineListView"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BOutlineListView</span></code></a>’s version of <a class="reference internal" href="../../kits/interface/outline-list-view.html#_CPPv4N16BOutlineListView9MakeEmptyEv" title="BOutlineListView::MakeEmpty"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">MakeEmpty()</span></code></a> truly empties the list;
<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">BListView</span></code>’s version would remove items from the screen, but
not from the real list.</p>
</section>
</section>


        <div class="clearer"></div>
      </div>
          </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="menu-item.html">BMenuItem</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="picture.html">BPicture</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Haiku, Inc..
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>